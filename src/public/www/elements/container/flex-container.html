<dom-module id='flex-container'>
  <template>
    <style>
      :host {
        display: inline-flex;
        flex-direction: column;
        position: relative;
      }
      :host([horizontal]) {
        flex-direction: row;
      }
      :host ::content > * {
        flex: 1 0 auto;
        border: none !important;
        border-right-style: solid !important;
        border-right-width: 0 !important;
        border-right-color: inherit !important;
        border-bottom-width: thin !important;
        border-bottom-style: solid !important;
        border-bottom-color: inherit !important;
        border-radius: 0 !important;
        border-color: inherit !important;
        border-radius: inherit !important;
      }

      :host([horizontal]) ::content > * {
        border-right-width: thin !important;
        border-bottom-width: 0 !important;
      }

      :host ::content > *:first-child {
        border-top-left-radius: inherit !important;
        border-top-right-radius: inherit !important;
        border-bottom-right-radius: 0 !important;
        border-bottom-left-radius: 0 !important;
      }
      :host ::content > *:last-child {
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
        border-bottom-right-radius: inherit !important;
        border-bottom-left-radius: inherit !important;
        border-right-width: 0 !important;
        border-bottom-width: 0 !important;
      }
      :host([horizontal]) ::content > *:first-child {
        border-top-left-radius: inherit !important;
        border-top-right-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
        border-bottom-left-radius: inherit !important;
      }
      :host([horizontal]) ::content > *:last-child {
        border-top-left-radius: 0 !important;
        border-top-right-radius: inherit !important;
        border-bottom-right-radius: inherit !important;
        border-bottom-left-radius: 0 !important;
      }
    </style>

    <content></content>

  </template>
  <script>
    FlexContainer = Polymer({
      is: 'flex-container',

      behaviors: [
        ContainerBehavior
      ],

      properties: {
        horizontal: {
          type: Boolean,
          value: false,
          notify: true
        },

        multiSelect: {
          type: Boolean,
          value: false
        },
        toggles: {
          type: Boolean,
          value: false
        },

        notify: {
          type: Boolean,
          value: false
        },
        notifyParent: {
          type: Boolean,
          value: false
        },
        noSelectNotify: {
          type: Boolean,
          value: false
        },
        noExceedNotify: {
          type: Boolean,
          value: false
        },

        reproduce: {
          type: Boolean,
          value: true,
          readOnly: true
        },
        reproducedAttribute: {
          type: String,
          value: 'horizontal'
        }
      },

      _onSwipe: function(e) {
        this.unsetExceedingElement(e);
        this.async(function(){
          if(this.$.content.children.length === 0) {
            this.clearExceedingElements();
          }
        }, 16)
      }
    });
  </script>
</dom-module>
