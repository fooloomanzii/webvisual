function pd(t){RGraph.pr(t)}function p(){RGraph.pr(arguments[0],arguments[1],arguments[3])}function a(t){alert(t)}function cl(t){return console.log(t)}"undefined"==typeof RGraph&&(RGraph={}),RGraph.Bar=function(s,h){if(this.id=s,this.canvas=document.getElementById(s),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="bar",this.max=0,this.stackedOrGrouped=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.dashed":!1,"chart.background.grid.dotted":!1,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.numyticks":10,"chart.hmargin":5,"chart.hmargin.grouped":1,"chart.strokecolor":"rgba(0,0,0,0)","chart.axis.color":"black","chart.axis.linewidth":1,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.gutter.left":25,"chart.gutter.right":25,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.decimals":0,"chart.labels.above.size":null,"chart.labels.above.angle":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.xlabels.offset":0,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.text.angle":0,"chart.text.color":"black","chart.text.size":10,"chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.font":null,"chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.colors":["#01B4FF","#0f0","#00f","#ff0","#0ff","#0f0"],"chart.colors.sequential":!1,"chart.colors.reverse":!1,"chart.grouping":"grouped","chart.variant":"bar","chart.variant.sketch.verticals":!0,"chart.shadow":!1,"chart.shadow.color":"#999","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.background.hbars":null,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.9)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.halign":"right","chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.text.size":10,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.linewidth":1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noaxes":!1,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.events.click":null,"chart.events.mousemove":null,"chart.numxticks":null,"chart.bevel":!1},!this.canvas)return alert("[BAR] No canvas support"),void 0;for(var t=0;t<h.length;++t)"object"!=typeof h[t]||RGraph.is_null(h[t])||(this.stackedOrGrouped=!0);for(var o=RGraph.array_linearize(h),t=0;t<o.length;++t)this["$"+t]={};this.data=h,this.coords=[],this.coords2=[],this.coordsText=[],this.data_arr=RGraph.array_linearize(this.data),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var i=RGraph,r=this.canvas,a=r.getContext("2d"),e=this.properties;this.Set=function(t,a){if(t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),"chart.labels.abovebar"==t&&(t="chart.labels.above"),"chart.strokestyle"==t&&(t="chart.strokecolor"),"chart.xaxispos"==t&&("bottom"!=a&&"center"!=a&&"top"!=a&&(alert("[BAR] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+a+" Changing it to center"),a="center"),"top"==a))for(var r=0;r<this.data.length;++r)"number"==typeof this.data[r]&&this.data[r]>0&&alert("[BAR] The data element with index "+r+" should be negative");return"chart.linewidth"==t.toLowerCase()&&0==a&&(a=1e-4),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]},this.Draw=function(){return"string"==typeof e["chart.background.image"]&&i.DrawBackgroundImage(this),i.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=e["chart.gutter.left"],this.gutterRight=e["chart.gutter.right"],this.gutterTop=e["chart.gutter.top"],this.gutterBottom=e["chart.gutter.bottom"],("pyramid"==e["chart.variant"]||"dot"==e["chart.variant"])&&"object"==typeof e["chart.tooltips"]&&e["chart.tooltips"]&&e["chart.tooltips"].length>0&&alert("[BAR] ("+this.id+") Sorry, tooltips are not supported with dot or pyramid charts"),this.coords=[],this.coords2=[],this.coordsText=[],this.max=0,this.grapharea=r.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=e["chart.text.size"]/2,i.background.Draw(this),"sketch"==e["chart.variant"]?(this.DrawAxes(),this.Drawbars()):(this.Drawbars(),this.DrawAxes()),this.DrawLabels(),(e["chart.bevel"]||e["chart.bevelled"])&&this.DrawBevel(),e["chart.key"]&&e["chart.key"].length&&i.DrawKey(this,e["chart.key"],e["chart.colors"]),e["chart.contextmenu"]&&i.ShowContext(this),e["chart.labels.ingraph"]&&i.DrawInGraphLabels(this),e["chart.resizable"]&&i.AllowResizing(this),i.InstallEventListeners(this),i.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){if(!e["chart.noaxes"]){var h=e["chart.xaxispos"],i=e["chart.yaxispos"],t="sketch"==e["chart.variant"];a.beginPath(),a.strokeStyle=e["chart.axis.color"],a.lineWidth=e["chart.axis.linewidth"]+.001,-1==ISSAFARI&&(a.lineCap="square"),0==e["chart.noyaxis"]&&("right"==i?(a.moveTo(r.width-this.gutterRight+(t?3:0),this.gutterTop-(t?3:0)),a.lineTo(r.width-this.gutterRight-(t?2:0),r.height-this.gutterBottom+(t?5:0))):(a.moveTo(this.gutterLeft-(t?2:0),this.gutterTop-(t?5:0)),a.lineTo(this.gutterLeft-(t?1:0),r.height-this.gutterBottom+(t?5:0)))),0==e["chart.noxaxis"]&&("center"==h?(a.moveTo(this.gutterLeft-(t?5:0),Math.round((r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop+(t?2:0))),a.lineTo(r.width-this.gutterRight+(t?5:0),Math.round((r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-(t?2:0)))):"top"==h?(a.moveTo(this.gutterLeft-(t?3:0),this.gutterTop-(t?3:0)),a.lineTo(r.width-this.gutterRight+(t?5:0),this.gutterTop+(t?2:0))):(a.moveTo(this.gutterLeft-(t?5:0),r.height-this.gutterBottom-(t?2:0)),a.lineTo(r.width-this.gutterRight+(t?8:0),r.height-this.gutterBottom+(t?2:0))));var l=e["chart.numyticks"];if(0==e["chart.noyaxis"]&&!t){var c=(r.height-this.gutterTop-this.gutterBottom)/l,s="left"==i?this.gutterLeft:r.width-this.gutterRight;if(this.properties["chart.numyticks"]>0)for(y=this.gutterTop;"center"==h?y<=r.height-this.gutterBottom:y<r.height-this.gutterBottom+("top"==h?1:0);y+=c)("center"!=h||y!=this.gutterTop+this.grapharea/2)&&("top"!=h||y!=this.gutterTop)&&(a.moveTo(s+("left"==i?0:0),Math.round(y)),a.lineTo(s+("left"==i?-3:3),Math.round(y)));e["chart.noxaxis"]&&("center"==h?(a.moveTo(s+("left"==i?-3:3),Math.round(r.height/2)),a.lineTo(s,Math.round(r.height/2))):"top"==h?(a.moveTo(s+("left"==i?-3:3),Math.round(this.gutterTop)),a.lineTo(s,Math.round(this.gutterTop))):(a.moveTo(s+("left"==i?-3:3),Math.round(r.height-this.gutterBottom)),a.lineTo(s,Math.round(r.height-this.gutterBottom))))}if(0==e["chart.noxaxis"]&&!t){if("number"==typeof e["chart.numxticks"])var n=(r.width-this.gutterLeft-this.gutterRight)/e["chart.numxticks"];else var n=(r.width-this.gutterLeft-this.gutterRight)/this.data.length;"bottom"==h?(yStart=r.height-this.gutterBottom,yEnd=r.height-this.gutterBottom+3):"top"==h?(yStart=this.gutterTop-3,yEnd=this.gutterTop):"center"==h&&(yStart=(r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop+3,yEnd=(r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-3),yStart=yStart,yEnd=yEnd;var o=e["chart.noendxtick"];for(x=this.gutterLeft+("left"==i?n:0),len=r.width-this.gutterRight+("left"==i?5:0);len>x;x+=n)"left"==i&&!o&&x>this.gutterLeft?(a.moveTo(Math.round(x),yStart),a.lineTo(Math.round(x),yEnd)):"left"==i&&o&&x>this.gutterLeft&&x<r.width-this.gutterRight?(a.moveTo(Math.round(x),yStart),a.lineTo(Math.round(x),yEnd)):"right"==i&&x<r.width-this.gutterRight&&!o?(a.moveTo(Math.round(x),yStart),a.lineTo(Math.round(x),yEnd)):"right"==i&&x<r.width-this.gutterRight&&x>this.gutterLeft&&o&&(a.moveTo(Math.round(x),yStart),a.lineTo(Math.round(x),yEnd));(e["chart.noyaxis"]||null==e["chart.numxticks"])&&"number"==typeof e["chart.numxticks"]&&e["chart.numxticks"]>0&&(a.moveTo(Math.round(this.gutterLeft),yStart),a.lineTo(Math.round(this.gutterLeft),yEnd))}e["chart.noyaxis"]&&0==e["chart.noxaxis"]&&null==e["chart.numxticks"]&&("center"==h?(a.moveTo(Math.round(this.gutterLeft),r.height/2-3),a.lineTo(Math.round(this.gutterLeft),r.height/2+3)):(a.moveTo(Math.round(this.gutterLeft),r.height-this.gutterBottom),a.lineTo(Math.round(this.gutterLeft),r.height-this.gutterBottom+3))),a.stroke()}},this.Drawbars=function(){var b=this.canvas,e=this.context,a=this.properties;if(e.lineWidth=a["chart.linewidth"],e.strokeStyle=a["chart.strokecolor"],e.fillStyle=a["chart.colors"][0],a["chart.scale.decimals"],a["chart.ymax"])this.scale2=RGraph.getScale2(this,{max:a["chart.ymax"],strict:!0,min:a["chart.ymin"],"scale.thousand":a["chart.scale.thousand"],"scale.point":a["chart.scale.point"],"scale.decimals":a["chart.scale.decimals"],"ylabels.count":a["chart.ylabels.count"],"scale.round":a["chart.scale.round"],"units.pre":a["chart.units.pre"],"units.post":a["chart.units.post"]});else{for(t=0;t<this.data.length;++t){if("object"==typeof this.data[t])var F="grouped"==a["chart.grouping"]?Number(RGraph.array_max(this.data[t],!0)):Number(RGraph.array_sum(this.data[t]));else var F=Number(this.data[t]);this.max=Math.max(Math.abs(this.max),Math.abs(F))}this.scale2=RGraph.getScale2(this,{max:this.max,min:a["chart.ymin"],"scale.thousand":a["chart.scale.thousand"],"scale.point":a["chart.scale.point"],"scale.decimals":a["chart.scale.decimals"],"ylabels.count":a["chart.ylabels.count"],"scale.round":a["chart.scale.round"],"units.pre":a["chart.units.pre"],"units.post":a["chart.units.post"]}),this.max=this.scale2.max}a["chart.adjustable"]&&!a["chart.ymax"]&&this.Set("chart.ymax",this.scale2.max),a["chart.background.hbars"]&&a["chart.background.hbars"].length>0&&RGraph.DrawBars(this);var m=a["chart.variant"];"3d"==m&&i.Draw3DAxes(this);var x=a["chart.xaxispos"],u=(b.width-this.gutterLeft-this.gutterRight)/this.data.length,r=a["chart.hmargin"],v=a["chart.shadow"],A=a["chart.shadow.color"],L=a["chart.shadow.blur"],P=a["chart.shadow.offsetx"],C=a["chart.shadow.offsety"],G=a["chart.strokecolor"],f=a["chart.colors"],R=0;for(t=0,len=this.data.length;len>t;t+=1){var s=(RGraph.array_sum(this.data[t])<0?RGraph.array_sum(this.data[t])+this.scale2.min:RGraph.array_sum(this.data[t])-this.scale2.min)/(this.scale2.max-this.scale2.min)*(b.height-this.gutterTop-this.gutterBottom);"center"==x&&(s/=2);var o=t*u+this.gutterLeft,h="center"==x?(b.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop-s:b.height-s-this.gutterBottom;if("top"==x&&(h=this.gutterTop+Math.abs(s)),0>s&&(h+=s,s=Math.abs(s)),v&&(e.shadowColor=A,e.shadowBlur=L,e.shadowOffsetX=P,e.shadowOffsetY=C),e.beginPath(),"number"==typeof this.data[t]){var l=u-2*r;if(0>l&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient."),e.strokeStyle=G,e.fillStyle=f[0],a["chart.colors.sequential"]&&(e.fillStyle=f[t]),"sketch"==m){if(e.lineCap="round",e.beginPath(),e.strokeStyle=f[0],a["chart.colors.sequential"]&&(e.strokeStyle=f[t]),e.moveTo(o+r+2,h+s-2),e.lineTo(o+r-1,h-4),e.moveTo(o+r-3,h+-2+(this.data[t]<0?s:0)),e.bezierCurveTo(o+.33*(r+u),h+15+(this.data[t]<0?s-10:0),o+.66*(r+u),h+5+(this.data[t]<0?s-10:0),o+r+u+-1,h+0+(this.data[t]<0?s:0)),e.moveTo(o+r+u-5,h-5),e.lineTo(o+r+u-3,h+s-3),a["chart.variant.sketch.verticals"])for(var _=.2;.8>=_;_+=.2)e.moveTo(o+r+u+(_>.4?-1:3)-_*u,h-1),e.lineTo(o+r+u-(_>.4?1:-1)-_*u,h+s+(.2==_?1:-2));e.stroke()}else if("bar"==m||"3d"==m||"glass"==m||"bevel"==m){if(RGraph.isOld()&&v&&this.DrawIEShadow([o+r,h,l,s]),"glass"==m?(RGraph.filledCurvyRect(e,o+r,h,l,s,3,this.data[t]>0,this.data[t]>0,this.data[t]<0,this.data[t]<0),RGraph.strokedCurvyRect(e,o+r,h,l,s,3,this.data[t]>0,this.data[t]>0,this.data[t]<0,this.data[t]<0)):(e.fillRect(o+r,h,l,s),e.strokeRect(o+r,h,l,s)),"3d"==m){var E=e.strokeStyle,B=e.fillStyle;e.beginPath(),e.moveTo(o+r,h),e.lineTo(o+r+10,h-5),e.lineTo(o+r+10+l,h-5),e.lineTo(o+r+l,h),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.moveTo(o+r+l,h),e.lineTo(o+r+l+10,h-5),e.lineTo(o+r+l+10,h+s-5),e.lineTo(o+r+l,h+s),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.fillStyle="rgba(255,255,255,0.3)",e.moveTo(o+r,h),e.lineTo(o+r+10,h-5),e.lineTo(o+r+10+l,h-5),e.lineTo(o+r+l,h),e.lineTo(o+r,h),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.fillStyle="rgba(0,0,0,0.4)",e.moveTo(o+r+l,h),e.lineTo(o+r+l+10,h-5),e.lineTo(o+r+l+10,h-5+s),e.lineTo(o+r+l,h+s),e.lineTo(o+r+l,h),e.closePath(),e.stroke(),e.fill(),e.strokeStyle=E,e.fillStyle=B}else if("glass"==m){var T=e.createLinearGradient(o+r,h,o+r+l/2,h);T.addColorStop(0,"rgba(255,255,255,0.9)"),T.addColorStop(1,"rgba(255,255,255,0.5)"),e.beginPath(),e.fillStyle=T,e.fillRect(o+r+2,h+(this.data[t]>0?2:0),l/2-2,s-2),e.fill()}if(a["chart.labels.above"]){v&&RGraph.NoShadow(this);var w=h-3,D=o+r+l/2;if(this.data[t]<0&&(w+=s+6+a["chart.text.size"]),"top"==a["chart.xaxispos"]&&(w=this.gutterTop+s+6+("number"==typeof a["chart.labels.above.size"]?a["chart.labels.above.size"]:a["chart.text.size"]-4)),"3d"==a["chart.variant"]&&(w-=3,D+=5),this.properties["chart.labels.above.angle"])var S=-45,z="left",I="center";else var S=0,z="center",I="bottom";e.fillStyle=a["chart.text.color"],RGraph.Text2(this,{font:a["chart.text.font"],size:"number"==typeof a["chart.labels.above.size"]?a["chart.labels.above.size"]:a["chart.text.size"]-3,x:D,y:w,text:RGraph.number_format(this,Number(this.data[t]).toFixed(a["chart.labels.above.decimals"]),a["chart.units.pre"],a["chart.units.post"]),halign:z,marker:!1,valign:I,angle:S,tag:"labels.above"})}}else"dot"==m?(e.beginPath(),e.moveTo(o+u/2,h),e.lineTo(o+u/2,h+s),e.stroke(),e.beginPath(),e.fillStyle=this.properties["chart.colors"][t],e.arc(o+u/2,h+(this.data[t]>0?0:s),2,0,6.28,0),e.fillStyle=a["chart.colors"][0],a["chart.colors.sequential"]&&(e.fillStyle=f[t]),e.stroke(),e.fill()):alert("[BAR] Warning! Unknown chart.variant: "+m);this.coords.push([o+r,h,u-2*r,s]),"undefined"==typeof this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([o+r,h,u-2*r,s])}else if(this.data[t]&&"object"==typeof this.data[t]&&"stacked"==a["chart.grouping"]){this.scale2.min&&alert("[ERROR] Stacked Bar charts with a Y min are not supported");var l=u-2*r,d=[],g=0,M=this.data[t];for(0>l&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient."),c=0;c<M.length;++c){if("center"==x)return alert("[BAR] It's pointless having the X axis position at the center on a stacked bar chart."),void 0;if(this.data[t][c]<0)return alert("[BAR] Negative values are not permitted with a stacked bar chart. Try a grouped one instead."),void 0;e.strokeStyle=G,e.fillStyle=f[c],a["chart.colors.reverse"]&&(e.fillStyle=f[this.data[t].length-c-1]),a["chart.colors.sequential"]&&f[R]?e.fillStyle=f[R++]:a["chart.colors.sequential"]&&(e.fillStyle=f[R-1]);var s=M[c]/this.scale2.max*(b.height-this.gutterTop-this.gutterBottom);if("center"==x&&(s/=2),RGraph.array_sum(M)/this.scale2.max*(b.height-r-this.gutterTop-this.gutterBottom),this.coords.push([o+r,h,u-2*r,s]),"undefined"==typeof this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([o+r,h,u-2*r,s]),RGraph.isOld()&&v&&this.DrawIEShadow([o+r,h,u-2*r,s+1]),e.strokeRect(o+r,h,u-2*r,s),e.fillRect(o+r,h,u-2*r,s),0==c)var g=h,n=o;if(v&&d.push([o+r,h,u-2*r,s,e.fillStyle]),"3d"==m){var B=e.fillStyle,E=e.strokeStyle;0==c&&(e.beginPath(),e.moveTo(n+r,h),e.lineTo(n+10+r,h-5),e.lineTo(n+10+l+r,h-5),e.lineTo(n+l+r,h),e.closePath(),e.fill(),e.stroke()),e.beginPath(),e.moveTo(n+l+r,h),e.lineTo(n+l+r+10,h-5),e.lineTo(n+l+r+10,h-5+s),e.lineTo(n+l+r,h+s),e.closePath(),e.fill(),e.stroke(),0==c&&(e.fillStyle="rgba(255,255,255,0.3)",e.beginPath(),e.moveTo(n+r,h),e.lineTo(n+10+r,h-5),e.lineTo(n+10+l+r,h-5),e.lineTo(n+l+r,h),e.closePath(),e.fill(),e.stroke()),e.fillStyle="rgba(0,0,0,0.4)",e.beginPath(),e.moveTo(n+l+r,h),e.lineTo(n+l+r+10,h-5),e.lineTo(n+l+r+10,h-5+s),e.lineTo(n+l+r,h+s),e.closePath(),e.fill(),e.stroke(),e.strokeStyle=E,e.fillStyle=B}h+=s}if(a["chart.labels.above"]){if(i.NoShadow(this),e.fillStyle=a["chart.text.color"],a["chart.labels.above.angle"])var S=-45,z="left",I="center";else var S=0,z="center",I="bottom";RGraph.Text2(this,{font:a["chart.text.font"],size:"number"==typeof a["chart.labels.above.size"]?a["chart.labels.above.size"]:a["chart.text.size"]-3,x:n+l/2+a["chart.hmargin"],y:g-(a["chart.shadow"]&&a["chart.shadow.offsety"]<0?7:4)-("3d"==a["chart.variant"]?5:0),text:String(a["chart.units.pre"]+RGraph.array_sum(this.data[t]).toFixed(a["chart.labels.above.decimals"])+a["chart.units.post"]),angle:S,valign:I,halign:z,tag:"labels.above"}),v&&(e.shadowColor=A,e.shadowBlur=L,e.shadowOffsetX=P,e.shadowOffsetY=C)}if(v){for(RGraph.NoShadow(this),k=0;k<d.length;++k)e.strokeStyle=G,e.fillStyle=d[k][4],e.strokeRect(d[k][0],d[k][1],d[k][2],d[k][3]),e.fillRect(d[k][0],d[k][1],d[k][2],d[k][3]),e.stroke(),e.fill();d=[]}}else if(this.data[t]&&"object"==typeof this.data[t]&&"grouped"==a["chart.grouping"]){var d=[];for(e.lineWidth=a["chart.linewidth"],c=0;c<this.data[t].length;++c){e.strokeStyle=G,e.fillStyle=f[c],a["chart.colors.sequential"]&&f[R]?e.fillStyle=f[R++]:a["chart.colors.sequential"]&&(e.fillStyle=f[R-1]);var p=(u-2*r)/this.data[t].length,s=(this.data[t][c]+(this.data[t][c]<0?this.scale2.min:-1*this.scale2.min))/(this.scale2.max-this.scale2.min)*(b.height-this.gutterTop-this.gutterBottom),y=a["chart.hmargin.grouped"],n=o+r+c*p;if(0>p&&alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient."),"center"==x&&(s/=2),"top"==x)var g=this.gutterTop,s=Math.abs(s);else if("center"==x)var g=this.gutterTop+this.grapharea/2-s;else var g=b.height-this.gutterBottom-s,s=Math.abs(s);if(RGraph.isOld()&&v&&this.DrawIEShadow([n,g,p,s]),e.strokeRect(n+y,g,p-2*y,s),e.fillRect(n+y,g,p-2*y,s),h+=s,"3d"==m){var B=e.fillStyle,E=e.strokeStyle;e.beginPath(),e.moveTo(n,g),e.lineTo(n+10,g-5),e.lineTo(n+10+p,g-5),e.lineTo(n+p,g),e.closePath(),e.fill(),e.stroke(),e.beginPath(),e.moveTo(n+p,g),e.lineTo(n+p+10,g-5),e.lineTo(n+p+10,g-5+s),e.lineTo(n+p,g+s),e.closePath(),e.fill(),e.stroke(),e.fillStyle="rgba(255,255,255,0.3)",e.beginPath(),e.moveTo(n,g),e.lineTo(n+10,g-5),e.lineTo(n+10+p,g-5),e.lineTo(n+p,g),e.closePath(),e.fill(),e.stroke(),e.fillStyle="rgba(0,0,0,0.4)",e.beginPath(),e.moveTo(n+p,g),e.lineTo(n+p+10,g-5),e.lineTo(n+p+10,g-5+s),e.lineTo(n+p,g+s),e.closePath(),e.fill(),e.stroke(),e.strokeStyle=E,e.fillStyle=B}if(0>s&&(s=Math.abs(s),g-=s),this.coords.push([n+y,g,p-2*y,s]),"undefined"==typeof this.coords2[t]&&(this.coords2[t]=[]),this.coords2[t].push([n+y,g,p-2*y,s]),a["chart.shadow"]&&d.push([n+y,g,p-2*y,s,e.fillStyle]),a["chart.labels.above"]){e.strokeStyle="rgba(0,0,0,0)",v&&RGraph.NoShadow(this);var w=h-3;if(a["chart.labels.above.angle"])var S=-45,z="left",I="center";else{var S=0,z="center",I="bottom";if(this.data[t][c]<0||"top"==a["chart.xaxispos"]){w=g+s+6;var I="top"}else w=g}e.fillStyle=a["chart.text.color"],RGraph.Text2(this,{font:a["chart.text.font"],size:"number"==typeof a["chart.labels.above.size"]?a["chart.labels.above.size"]:a["chart.text.size"]-3,x:n+p/2,y:w-3,text:RGraph.number_format(this,this.data[t][c].toFixed(a["chart.labels.above.decimals"])),halign:z,valign:I,angle:S,tag:"labels.above"}),v&&(e.shadowColor=A,e.shadowBlur=L,e.shadowOffsetX=P,e.shadowOffsetY=C)}}if(d.length){RGraph.NoShadow(this),e.lineWidth=a["chart.linewidth"],e.beginPath();for(var c=0;c<d.length;++c)e.fillStyle=d[c][4],e.strokeStyle=a["chart.strokecolor"],e.fillRect(d[c][0],d[c][1],d[c][2],d[c][3]),e.strokeRect(d[c][0],d[c][1],d[c][2],d[c][3]);e.fill(),e.stroke(),d=[]}}else this.coords.push([]);e.closePath()}RGraph.NoShadow(this)},this.DrawLabels=function(){var i=this.canvas,u=this.context,t=this.properties;t["chart.text.angle"];var p=t["chart.text.size"],e=t["chart.labels"];if(t["chart.ylabels"]&&("top"==t["chart.xaxispos"]&&this.Drawlabels_top(),"center"==t["chart.xaxispos"]&&this.Drawlabels_center(),"bottom"==t["chart.xaxispos"]&&this.Drawlabels_bottom()),"object"==typeof e&&e){var h=Number(t["chart.xlabels.offset"]);if(0!=t["chart.text.angle"])var s="center",c="right",d=0-t["chart.text.angle"];else var s="top",c="center",d=0;u.fillStyle=t["chart.text.color"],(i.width-this.gutterRight-this.gutterLeft)/e.length,xTickGap=(i.width-this.gutterRight-this.gutterLeft)/e.length;var a=0,g=t["chart.text.font"];for(x=this.gutterLeft+xTickGap/2;x<=i.width-this.gutterRight;x+=xTickGap)RGraph.Text2(this,{font:g,size:p,x:x,y:"top"==t["chart.xaxispos"]?this.gutterTop-h-5:i.height-this.gutterBottom+h+3,text:String(e[a++]),valign:"top"==t["chart.xaxispos"]?"bottom":s,halign:c,tag:"label",marker:!1,angle:d,tag:"labels"})}if(t["chart.labels.above.specific"])for(var e=t["chart.labels.above.specific"],a=0;a<this.coords.length;++a){var n=t["chart.xaxispos"],r=this.coords[a],o=this.data_arr[a],s=o>=0&&"top"!=n?"bottom":"top",c="center",l=e[a];l&&l.toString().length>0&&RGraph.Text2(this,{font:t["chart.text.font"],size:t["chart.labels.above.size"]?t["chart.labels.above.size"]:t["chart.text.size"],x:r[0]+r[2]/2,y:o>=0&&"top"!=n?r[1]-5:r[1]+r[3]+3,text:String(e[a]),valign:s,halign:c,tag:"labels.above"})}},this.Drawlabels_top=function(){var o=this.canvas,r=this.context,t=this.properties;if(r.beginPath(),r.fillStyle=t["chart.text.color"],r.strokeStyle="black","top"==t["chart.xaxispos"]){var h=t["chart.text.size"],d=t["chart.units.pre"],g=t["chart.units.post"],s="left"==t["chart.yaxispos"]?"right":"left",i=t["chart.text.font"];if(t["chart.ylabels.count"],t["chart.ymin"],1==t["chart.ylabels.inside"])var n="left"==t["chart.yaxispos"]?this.gutterLeft+5:o.width-this.gutterRight-5,s="left"==t["chart.yaxispos"]?"left":"right",l=!0;else var n="left"==t["chart.yaxispos"]?this.gutterLeft-5:o.width-this.gutterRight+5,l=!1;if("object"==typeof t["chart.ylabels.specific"]&&t["chart.ylabels.specific"]){for(var a=RGraph.array_reverse(t["chart.ylabels.specific"]),c=o.height-this.gutterTop-this.gutterBottom,e=0;e<a.length;++e){var u=this.gutterTop+c*(e/a.length)+c/a.length;RGraph.Text2(this,{font:i,size:h,x:n,y:u,text:String(a[e]),valign:"center",halign:s,bordered:l,tag:"scale"})}return}for(var a=this.scale2.labels,e=0;e<a.length;++e)RGraph.Text2(this,{font:i,size:h,x:n,y:this.gutterTop+this.grapharea/a.length*(e+1),text:"-"+a[e],valign:"center",halign:s,bordered:l,tag:"scale"});(0!=t["chart.ymin"]||t["chart.noxaxis"])&&RGraph.Text2(this,{font:i,size:h,x:n,y:this.gutterTop,text:(0!=this.scale2.min?"-":"")+RGraph.number_format(this,this.scale2.min.toFixed(t["chart.scale.decimals"]),d,g),valign:"center",halign:s,bordered:l,tag:"scale"})}r.fill()},this.Drawlabels_center=function(){var c=this.canvas,d=this.context,t=this.properties,h=t["chart.text.font"],u=t["chart.ylabels.count"];if(d.fillStyle=t["chart.text.color"],"center"==t["chart.xaxispos"]){var s=t["chart.text.size"],m=t["chart.units.pre"],f=t["chart.units.post"],r="",o=0,n=!1;if(t["chart.ymin"],d.fillStyle=t["chart.text.color"],d.strokeStyle="black",1==t["chart.ylabels.inside"])var o="left"==t["chart.yaxispos"]?this.gutterLeft+5:c.width-this.gutterRight-5,r="left"==t["chart.yaxispos"]?"left":"right",n=!0;else var o="left"==t["chart.yaxispos"]?this.gutterLeft-5:c.width-this.gutterRight+5,r="left"==t["chart.yaxispos"]?"right":"left",n=!1;if("object"==typeof t["chart.ylabels.specific"]&&t["chart.ylabels.specific"]){for(var a=t["chart.ylabels.specific"],g=c.height-this.gutterTop-this.gutterBottom,e=0;e<a.length;++e){var l=this.gutterTop+g/2/(a.length-1)*e;RGraph.Text2(this,{font:h,size:s,x:o,y:l,text:String(a[e]),valign:"center",halign:r,bordered:n,tag:"scale"})}for(var e=a.length-1;e>=1;--e){var l=this.gutterTop+g*(e/(2*(a.length-1)))+g/2;i.Text2(this,{font:h,size:s,x:o,y:l,text:String(a[a.length-e-1]),valign:"center",halign:r,bordered:n,tag:"scale"})}return}for(var e=0;e<this.scale2.labels.length;++e){var l=this.gutterTop+this.halfgrapharea-this.halfgrapharea/u*(e+1),p=this.scale2.labels[e];i.Text2(this,{font:h,size:s,x:o,y:l,text:p,valign:"center",halign:r,bordered:n,tag:"scale"})}for(var e=this.scale2.labels.length-1;e>=0;--e){var l=this.gutterTop+this.halfgrapharea/u*(e+1)+this.halfgrapharea,p=this.scale2.labels[e];i.Text2(this,{font:h,size:s,x:o,y:l,text:"-"+p,valign:"center",halign:r,bordered:n,tag:"scale"})}0!=this.scale2.min&&i.Text2(this,{font:h,size:s,x:o,y:this.gutterTop+this.halfgrapharea,text:RGraph.number_format(this,this.scale2.min.toFixed(t["chart.scale.decimals"]),m,f),valign:"center",valign:"center",halign:r,bordered:n,tag:"scale"})}},this.Drawlabels_bottom=function(){var a=this.context,r=this.canvas,t=this.properties,h=t["chart.text.size"],p=t["chart.units.pre"],d=t["chart.units.post"];this.context;var o="left"==t["chart.yaxispos"]?"right":"left",n=t["chart.text.font"],g=t["chart.ylabels.count"];if(t["chart.ymin"],a.beginPath(),a.fillStyle=t["chart.text.color"],a.strokeStyle="black",1==t["chart.ylabels.inside"])var l="left"==t["chart.yaxispos"]?this.gutterLeft+5:r.width-this.gutterRight-5,o="left"==t["chart.yaxispos"]?"left":"right",c=!0;else var l="left"==t["chart.yaxispos"]?this.gutterLeft-5:r.width-this.gutterRight+5,c=!1;if(t["chart.ylabels.specific"]&&"object"==typeof t["chart.ylabels.specific"])for(var s=t["chart.ylabels.specific"],u=r.height-this.gutterTop-this.gutterBottom,e=0;e<s.length;++e){var f=this.gutterTop+u*(e/(s.length-1));RGraph.Text2(this,{font:n,size:h,x:l,y:f,text:s[e],valign:"center",halign:o,bordered:c,tag:"scale"})}else{this.gutterTop,this.halfTextHeight,this.scale;for(var e=0;g>e;++e){var m=this.scale2.labels[e];RGraph.Text2(this,{font:n,size:h,x:l,y:this.gutterTop+this.grapharea-this.grapharea/g*(e+1),text:m,valign:"center",halign:o,bordered:c,tag:"scale"})}(0!=t["chart.ymin"]||t["chart.noxaxis"])&&i.Text2(this,{font:n,size:h,x:l,y:r.height-this.gutterBottom,text:i.number_format(this,this.scale2.min.toFixed(t["chart.scale.decimals"]),p,d),valign:"center",halign:o,bordered:c,tag:"scale"}),a.fill()}},this.DrawIEShadow=function(e){var t=this.context;this.canvas;var a=this.properties,r=t.fillStyle,i=a["chart.shadow.offsetx"],h=a["chart.shadow.offsety"];t.lineWidth=a["chart.linewidth"],t.fillStyle=a["chart.shadow.color"],t.beginPath(),t.fillRect(e[0]+i,e[1]+h,e[2],e[3]),t.fill(),t.fillStyle=r},this.getShape=this.getBar=function(f){var t=arguments[1]?arguments[1]:this,d=RGraph.getMouseXY(f),g=d[0],c=d[1];t.canvas,t.context;for(var r=t.coords,e=0,u=r.length;u>e;e+=1)if(0!=t.coords[e].length){var i=r[e][0],h=r[e][1],o=r[e][2],n=r[e][3],l=t.properties;if(g>=i&&i+o>=g&&c>=h&&h+n>=c){if(l["chart.tooltips"])var p=RGraph.parseTooltipText?RGraph.parseTooltipText(l["chart.tooltips"],e):l["chart.tooltips"][e];for(var a=0,s=e;s>=("object"==typeof t.data[a]&&t.data[a]?t.data[a].length:1);)s-="number"==typeof t.data[a]?1:t.data[a]?t.data[a].length:1,a++;return"number"==typeof t.data[a]&&(s=null),{0:t,1:i,2:h,3:o,4:n,5:e,object:t,x:i,y:h,width:o,height:n,index:e,tooltip:p,index_adjusted:s,dataset:a}}}return null},this.getShapeByX=function(n){n.target;for(var s=RGraph.getMouseXY(n),e=arguments[1]?arguments[1]:this,t=0,c=e.coords.length;c>t;t++)if(0!=e.coords[t].length){var h=s[0];s[1];var a=e.coords[t][0],o=e.coords[t][1],i=e.coords[t][2],l=e.coords[t][3],r=e.properties;if(h>=a&&a+i>=h){if(r["chart.tooltips"])var g=RGraph.parseTooltipText?RGraph.parseTooltipText(r["chart.tooltips"],t):r["chart.tooltips"][t];return{0:e,1:a,2:o,3:i,4:l,5:t,object:e,x:a,y:o,width:i,height:l,index:t,tooltip:g}}}return null},this.getValue=function(r){this.context;var i=this.canvas,e=this.properties;if(2==r.length)var h=r[0],a=r[1];else var s=RGraph.getMouseXY(r),h=s[0],a=s[1];if(a<e["chart.gutter.top"]||a>i.height-e["chart.gutter.bottom"]||h<e["chart.gutter.left"]||h>i.width-e["chart.gutter.right"])return null;if("center"==e["chart.xaxispos"]){var t=(this.grapharea/2-(a-e["chart.gutter.top"]))/this.grapharea*(this.scale2.max-this.scale2.min);t*=2,t>=0?t+=this.scale2.min:t-=this.scale2.min}else if("top"==e["chart.xaxispos"]){var t=(this.grapharea-(a-e["chart.gutter.top"]))/this.grapharea*(this.scale2.max-this.scale2.min);t=this.scale2.max-t,t=-1*Math.abs(t)}else{var t=(this.grapharea-(a-e["chart.gutter.top"]))/this.grapharea*(this.scale2.max-this.scale2.min);t+=this.scale2.min}return t},this.getYCoord=function(e){if(e>this.scale2.max)return null;this.context;var t,r=this.canvas,i=this.properties,a=i["chart.xaxispos"];return"top"==a?(0>e&&(e=Math.abs(e)),t=(e-this.scale2.min)/(this.scale2.max-this.scale2.min)*this.grapharea,t+=this.gutterTop):"center"==a?(t=(e-this.scale2.min)/(this.scale2.max-this.scale2.min)*(this.grapharea/2),t=this.grapharea/2-t,t+=this.gutterTop):(e<this.scale2.min&&(e=this.scale2.min),t=(e-this.scale2.min)/(this.scale2.max-this.scale2.min)*this.grapharea,t=r.height-this.gutterBottom-t),t},this.Highlight=function(t){RGraph.Highlight.Rect(this,t)},this.getObjectByXY=function(r){var a=this.canvas,t=this.properties,e=RGraph.getMouseXY(r);return e[0]>=t["chart.gutter.left"]&&e[0]<=a.width-t["chart.gutter.right"]&&e[1]>=t["chart.gutter.top"]&&e[1]<=a.height-t["chart.gutter.bottom"]?this:void 0},this.Adjusting_mousemove=function(r){if(e["chart.adjustable"]&&i.Registry.Get("chart.adjusting")&&i.Registry.Get("chart.adjusting").uid==this.uid){var h=Number(this.getValue(r)),t=this.getShapeByX(r);if(t){if(i.Registry.Set("chart.adjusting.shape",t),this.stackedOrGrouped&&"grouped"==e["chart.grouping"]){var a=i.sequentialIndexToGrouped(t.index,this.data);"number"==typeof this.data[a[0]]?this.data[a[0]]=Number(h):i.is_null(this.data[a[0]])||(this.data[a[0]][a[1]]=Number(h))}else"number"==typeof this.data[t.index]&&(this.data[t.index]=Number(h));
i.RedrawCanvas(r.target),i.FireCustomEvent(this,"onadjust")}}},this.positionTooltip=function(r,d,u,t){var n=r.properties,h=r.coords[t.__index__][0],o=r.coords[t.__index__][1],s=r.coords[t.__index__][2],c=r.coords[t.__index__][3],i=RGraph.getCanvasXY(r.canvas);n["chart.gutter.left"],n["chart.gutter.top"];var a=t.offsetWidth,g=t.offsetHeight,l=r.data_arr[t.__index__];t.style.left=0,t.style.top=i[1]+o-g-7+"px",0>l&&(t.style.top=i[1]+o+c+7+"px"),t.style.overflow="";var e=new Image;e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",l>=0?(e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.top=t.offsetHeight-2+"px"):(e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAMAAACkeOZkAAAAK3RFWHRDcmVhdGlvbiBUaW1lAFNhdCA2IE9jdCAyMDEyIDEyOjQ5OjMyIC0wMDAw2S1RlgAAAAd0SU1FB9wKBgszM4Ed2k4AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAEZ0FNQQAAsY8L/GEFAAAACVBMVEX/AAC9vb3//+92Pom0AAAAAXRSTlMAQObYZgAAAB1JREFUeNpjYAABRgY4YGRiRDCZYBwQE8qBMEEcAANCACqByy1sAAAAAElFTkSuQmCC",e.style.top="-5px"),t.appendChild(e),i[0]+h+s/2-a/2<10?(t.style.left=i[0]+h-.1*a+s/2+"px",e.style.left=.1*a-8.5+"px"):i[0]+h+a/2>document.body.offsetWidth?(t.style.left=i[0]+h-.9*a+s/2+"px",e.style.left=.9*a-8.5+"px"):(t.style.left=i[0]+h+s/2-.5*a+"px",e.style.left=.5*a-8.5+"px")},this.parseColors=function(){var t=this.properties,e=t["chart.colors"];if(e)for(var a=0;a<e.length;++a)e[a]=this.parseSingleColorForGradient(e[a]);var e=t["chart.key.colors"];if(e)for(var a=0;a<e.length;++a)e[a]=this.parseSingleColorForGradient(e[a]);t["chart.crosshairs.color"]=this.parseSingleColorForGradient(t["chart.crosshairs.color"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.text.color"]=this.parseSingleColorForGradient(t["chart.text.color"]),t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.strokecolor"]=this.parseSingleColorForGradient(t["chart.strokecolor"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=a.createLinearGradient(0,r.height-e["chart.gutter.bottom"],0,e["chart.gutter.top"]),n=1/(h.length-1);s.addColorStop(0,i.trim(h[0]));for(var o=1,l=h.length;l>o;++o)s.addColorStop(o*n,RGraph.trim(h[o]))}return s?s:t},this.DrawBevel=function(){var h=this.coords,a=this.coords2,c=this.properties,t=this.context,d=this.canvas;if("stacked"==c["chart.grouping"]){for(var e=0;e<a.length;++e)if(a[e]&&a[e][0]&&a[e][0][0]){for(var s=a[e][0][0],r=a[e][0][1],o=a[e][0][2],l=[],n=0;n<a[e].length;++n)l.push(a[e][n][3]);var i=RGraph.array_sum(l);t.save(),t.strokeStyle="black",t.beginPath(),t.rect(s,r,o,i),t.clip(),t.shadowColor="black",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=20,t.beginPath(),t.rect(s-3,r-3,o+6,i+100),t.lineWidth=5,t.stroke(),t.restore()}}else for(var e=0;e<h.length;++e)if(h[e]){var s=h[e][0],r=h[e][1],o=h[e][2],i=h[e][3],g=c["chart.xaxispos"],u=(d.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop;t.save(),t.strokeStyle="black",t.beginPath(),t.rect(s,r,o,i),t.clip(),t.shadowColor="black",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=20,"top"==g||"center"==g&&r+i>u?(r-=100,i+=100):(r=r,i+=100),t.beginPath(),t.rect(s-3,r-3,o+6,i+6),t.lineWidth=5,t.stroke(),t.restore()}},this.interactiveKeyHighlight=function(t){this.coords2.forEach(function(r){if("object"==typeof r[t]&&r[t]){var i=r[t][0],h=r[t][1],s=r[t][2],o=r[t][3];a.fillStyle=e["chart.key.interactive.highlight.chart"],a.strokeStyle="black",a.lineWidth=2,a.fillRect(i,h,s,o),a.strokeRect(i,h,s,o)}})},RGraph.Register(this)},RGraph.CombinedChart=function(){function r(t){var e=t.Get("chart.gutter.left"),a=t.Get("chart.gutter.right");t.Set("chart.hmargin",(t.canvas.width-e-a)/(2*t.original_data[0].length))}this.objects=[];var e=arguments;RGraph.is_array(arguments[0])&&(e=arguments[0]);for(var t=0;t<e.length;++t)if(this.objects[t]=e[t],this.objects[t].Set("chart.gutter.left",this.objects[0].Get("chart.gutter.left")),this.objects[t].Set("chart.gutter.right",this.objects[0].Get("chart.gutter.right")),this.objects[t].Set("chart.gutter.top",this.objects[0].Get("chart.gutter.top")),this.objects[t].Set("chart.gutter.bottom",this.objects[0].Get("chart.gutter.bottom")),"line"==this.objects[t].type&&(this.objects[t].Set("chart.hmargin",(this.objects[0].canvas.width-this.objects[0].Get("chart.gutter.right")-this.objects[0].Get("chart.gutter.left"))/this.objects[0].data.length/2),this.objects[t].Set("chart.noaxes",!0),this.objects[t].Set("chart.background.grid",!1),this.objects[t].Set("chart.ylabels",!1)),this.objects[t].Get("chart.resizable"))var a=this.objects[t];a&&RGraph.AddCustomEventListener(a,"onresizebeforedraw",r)},RGraph.CombinedChart.prototype.Add=function(t){this.objects.push(t)},RGraph.CombinedChart.prototype.Draw=function(){for(var t=0;t<this.objects.length;++t)"function"==typeof arguments[t]?arguments[t](this.objects[t]):this.objects[t].Draw()},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Bipolar=function(h,s,o){for(this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="bipolar",this.coords=[],this.coordsLeft=[],this.coordsRight=[],this.max=0,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.left=s,this.right=o,this.data=[s,o],this.properties={"chart.margin":2,"chart.xtickinterval":null,"chart.labels":[],"chart.labels.above":!1,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.title.left":"","chart.title.right":"","chart.gutter.center":60,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.colors":["#0f0"],"chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.units.pre":"","chart.units.post":"","chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.annotatable":!1,"chart.annotate.color":"black","chart.xmax":null,"chart.xmin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.background":null,"chart.strokestyle":"rgba(0,0,0,0)","chart.events.mousemove":null,"chart.events.click":null,"chart.linewidth":1,"chart.noaxes":!1,"chart.xlabels":!0,"chart.numyticks":null,"chart.numxticks":5,"chart.axis.linewidth":1,"chart.labels.count":5};this.left.length<this.right.length;)this.left.push(0);for(;this.left.length>this.right.length;)this.right.push(0);this.properties["chart.numyticks"]=this.left.length;for(var n=RGraph.array_linearize(this.left,this.right),i=0;i<n.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),this.properties[t.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.left=this.data[0],this.right=this.data[1],this.sequentialColorIndex=0,this.coords=[],this.GetMax(),this.DrawAxes(),this.DrawTicks(),this.DrawLeftBars(),this.DrawRightBars(),this.RedrawBars(),this.DrawAxes(),this.DrawLabels(),this.DrawTitles(),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){if(e.lineWidth=t["chart.axis.linewidth"]+.001,e.beginPath(),e.strokeStyle=t["chart.axis.color"],this.axisWidth=(r.width-t["chart.gutter.center"]-this.gutterLeft-this.gutterRight)/2,this.axisHeight=r.height-this.gutterTop-this.gutterBottom,!t["chart.noaxes"]){e.moveTo(this.gutterLeft,Math.round(r.height-this.gutterBottom)),e.lineTo(this.gutterLeft+this.axisWidth,Math.round(r.height-this.gutterBottom)),e.moveTo(Math.round(this.gutterLeft+this.axisWidth),r.height-this.gutterBottom),e.lineTo(Math.round(this.gutterLeft+this.axisWidth),this.gutterTop),e.stroke(),e.beginPath();var a=this.gutterLeft+this.axisWidth+t["chart.gutter.center"];e.moveTo(Math.round(a),this.gutterTop),e.lineTo(Math.round(a),r.height-this.gutterBottom),e.moveTo(Math.round(a),Math.round(r.height-this.gutterBottom)),e.lineTo(r.width-this.gutterRight,Math.round(r.height-this.gutterBottom)),e.stroke()}},this.DrawTicks=function(){e.lineWidth=t["chart.axis.linewidth"]+.001;var s=this.left.length,o=(r.height-this.gutterTop-this.gutterBottom-this.left.length*2*t["chart.margin"])/s;if(this.barHeight=o,!t["chart.noaxes"]){if(t["chart.numyticks"]>0){e.beginPath();for(var a=0;a<t["chart.numyticks"];++a){var i=t["chart.gutter.top"]+(r.height-this.gutterTop-this.gutterBottom)/t["chart.numyticks"]*a;e.moveTo(this.gutterLeft+this.axisWidth,i),e.lineTo(this.gutterLeft+this.axisWidth+3,i)}e.stroke(),e.beginPath();for(var a=0;a<t["chart.numyticks"];++a){var i=t["chart.gutter.top"]+(r.height-this.gutterTop-this.gutterBottom)/t["chart.numyticks"]*a;e.moveTo(this.gutterLeft+this.axisWidth+t["chart.gutter.center"],i),e.lineTo(this.gutterLeft+this.axisWidth+t["chart.gutter.center"]-3,i)}e.stroke()}if(t["chart.numxticks"]>0){var h=this.axisWidth/t["chart.numxticks"];for("number"==typeof t["chart.xtickinterval"]&&(h=t["chart.xtickinterval"]),a=this.gutterLeft;a<this.gutterLeft+this.axisWidth;a+=h)e.beginPath(),e.moveTo(Math.round(a),r.height-this.gutterBottom),e.lineTo(Math.round(a),r.height-this.gutterBottom+4),e.closePath(),e.stroke();var n=r.width-this.gutterRight;for(a=this.gutterLeft+this.axisWidth+t["chart.gutter.center"]+h;n>=a;a+=h)e.beginPath(),e.moveTo(Math.round(a),r.height-this.gutterBottom),e.lineTo(Math.round(a),r.height-this.gutterBottom+4),e.closePath(),e.stroke()}}},this.GetMax=function(){if(t["chart.scale.decimals"],t["chart.xmax"]){var e=t["chart.xmax"],r=t["chart.xmin"];this.scale2=a.getScale2(this,{max:e,min:r,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min}else{var e=Math.max(a.array_max(this.left),a.array_max(this.right));this.scale2=a.getScale2(this,{max:e,min:t["chart.xmin"],"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min}},this.DrawLeftBars=function(){for(e.strokeStyle=t["chart.strokestyle"],e.lineWidth=t["chart.linewidth"],i=0;i<this.left.length;++i){t["chart.shadow"]&&(e.shadowColor=t["chart.shadow.color"],e.shadowBlur=t["chart.shadow.blur"],e.shadowOffsetX=t["chart.shadow.offsetx"],e.shadowOffsetY=t["chart.shadow.offsety"]),e.beginPath(),e.fillStyle=t["chart.colors.sequential"]?t["chart.colors"][this.sequentialColorIndex++]:t["chart.colors"][0];var h=(this.left[i]-this.min)/(this.max-this.min)*this.axisWidth,r=[Math.round(this.gutterLeft+this.axisWidth-h),Math.round(this.gutterTop+i*(this.axisHeight/this.left.length)+t["chart.margin"]),h,this.barHeight];ISOLD&&t["chart.shadow"]&&this.DrawIEShadow(r),this.left[i]&&(e.strokeRect(r[0],r[1],r[2],r[3]),e.fillRect(r[0],r[1],r[2],r[3])),e.stroke(),e.fill(),this.coords.push([r[0],r[1],r[2],r[3]]),this.coordsLeft.push([r[0],r[1],r[2],r[3]])}a.NoShadow(this),e.lineWidth=1},this.DrawRightBars=function(){e.strokeStyle=t["chart.strokestyle"],e.lineWidth=t["chart.linewidth"],t["chart.shadow"]&&(e.shadowColor=t["chart.shadow.color"],e.shadowBlur=t["chart.shadow.blur"],e.shadowOffsetX=t["chart.shadow.offsetx"],e.shadowOffsetY=t["chart.shadow.offsety"]);for(var i=0;i<this.right.length;++i){e.beginPath(),e.fillStyle=t["chart.colors.sequential"]?t["chart.colors"][this.sequentialColorIndex++]:t["chart.colors"][0];var h=(this.right[i]-this.min)/(this.max-this.min)*this.axisWidth,r=[Math.round(this.gutterLeft+this.axisWidth+t["chart.gutter.center"]),Math.round(t["chart.margin"]+i*(this.axisHeight/this.right.length)+this.gutterTop),h,this.barHeight];ISOLD&&t["chart.shadow"]&&this.DrawIEShadow(r),this.right[i]&&(e.strokeRect(Math.round(r[0]),Math.round(r[1]),r[2],r[3]),e.fillRect(Math.round(r[0]),Math.round(r[1]),r[2],r[3])),e.closePath(),this.coords.push([r[0],r[1],r[2],r[3]]),this.coordsRight.push([r[0],r[1],r[2],r[3]])}e.stroke(),a.NoShadow(this),e.lineWidth=1},this.DrawLabels=function(){e.fillStyle=t["chart.text.color"];var n=new Array,s=t["chart.text.font"],o=t["chart.text.size"],d=Math.max(this.left.length,this.right.length);for(i=0;d>i;++i){var c=r.height-this.gutterTop-this.gutterBottom,g=c/this.left.length;i*c+this.gutterTop,n.push(this.gutterTop+i*g+g/2+5)}for(i=0;i<n.length;++i)a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:this.gutterLeft+this.axisWidth+t["chart.gutter.center"]/2,y:n[i],text:String(t["chart.labels"][i]?t["chart.labels"][i]:""),halign:"center",tag:"labels"});if(t["chart.xlabels"])for(var l=(r.width-t["chart.gutter.center"]-this.gutterLeft-this.gutterRight)/2,i=0;i<this.scale2.labels.length;++i)a.Text2(this,{font:s,size:o,x:this.gutterLeft+l/this.scale2.labels.length*i,y:r.height-this.gutterBottom+3,text:this.scale2.labels[this.scale2.labels.length-i-1],valign:"top",halign:"center",tag:"scale"}),a.Text2(this,{font:s,size:o,x:this.gutterLeft+l+t["chart.gutter.center"]+l/this.scale2.labels.length*(i+1),y:r.height-this.gutterBottom+3,text:this.scale2.labels[i],valign:"top",halign:"center",tag:"scale"});if(t["chart.labels.above"]){for(var i=0;i<this.coordsLeft.length;++i)if("number"==typeof this.left[i]){var h=this.coordsLeft[i];a.Text2(this,{font:s,size:o,x:h[0]-5,y:h[1]+h[3]/2,text:a.number_format(this,this.left[i],t["chart.units.pre"],t["chart.units.post"]),valign:"center",halign:"right",tag:"labels.above"})}for(i=0;i<this.coordsRight.length;++i)if("number"==typeof this.right[i]){var h=this.coordsRight[i];a.Text2(this,{font:s,size:o,x:h[0]+h[2]+5,y:h[1]+h[3]/2,text:a.number_format(this,this.right[i],t["chart.units.pre"],t["chart.units.post"]),valign:"center",halign:"left",tag:"labels.above"})}}},this.DrawTitles=function(){a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:this.gutterLeft+5,y:this.gutterTop-5,text:String(t["chart.title.left"]),halign:"left",valign:"bottom",tag:"title.left"}),a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:r.width-this.gutterRight-5,y:this.gutterTop-5,text:String(t["chart.title.right"]),halign:"right",valign:"bottom",tag:"title.right"}),a.DrawTitle(this,t["chart.title"],this.gutterTop,null,t["chart.title.size"]?t["chart.title.size"]:null)},this.DrawIEShadow=function(a){var r=e.fillStyle,i=t["chart.shadow.offsetx"],h=t["chart.shadow.offsety"];e.lineWidth=t["chart.linewidth"],e.fillStyle=t["chart.shadow.color"],e.beginPath(),e.fillRect(a[0]+i,a[1]+h,a[2],a[3]),e.fill(),e.fillStyle=r},this.getShape=this.getBar=function(c){this.canvas,this.context;for(var o=a.getMouseXY(c),e=0;e<this.coords.length;e++){var n=o[0],l=o[1],r=this.coords[e][0],i=this.coords[e][1],h=this.coords[e][2],s=this.coords[e][3];if(n>=r&&r+h>=n&&l>=i&&i+s>=l){var g=a.parseTooltipText(t["chart.tooltips"],e);return{0:this,1:r,2:i,3:h,4:s,5:e,object:this,x:r,y:i,width:h,height:s,index:e,tooltip:g}}}return null},this.Highlight=function(t){a.Highlight.Rect(this,t)},this.getValue=function(h){h.target.__object__;var s=a.getMouseXY(h),e=s[0];if(e>this.gutterLeft&&e<r.width/2-t["chart.gutter.center"]/2){var i=(e-t["chart.gutter.left"])/this.axisWidth;i=this.max-i*this.max}if(e<r.width-this.gutterRight&&e>r.width/2+t["chart.gutter.center"]/2){var i=(e-t["chart.gutter.left"]-this.axisWidth-t["chart.gutter.center"])/this.axisWidth;i*=this.max}return i},this.getObjectByXY=function(i){var e=a.getMouseXY(i);return e[0]>t["chart.gutter.left"]&&e[0]<r.width-t["chart.gutter.right"]&&e[1]>t["chart.gutter.top"]&&e[1]<r.height-t["chart.gutter.bottom"]?this:void 0},this.positionTooltip=function(i,c,g,t){var s=i.coords[t.__index__][0],l=i.coords[t.__index__][1],o=i.coords[t.__index__][2];i.coords[t.__index__][3];var h=a.getCanvasXY(i.canvas);i.Get("chart.gutter.left"),i.Get("chart.gutter.top");var r=t.offsetWidth,n=t.offsetHeight;t.style.left=0,t.style.top=h[1]+l-n-7+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),h[0]+s+o/2-r/2<0?(t.style.left=h[0]+s-.1*r+o/2+"px",e.style.left=.1*r-8.5+"px"):h[0]+s+r>document.body.offsetWidth?(t.style.left=h[0]+s-.9*r+o/2+"px",e.style.left=.9*r-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*r+"px",e.style.left=.5*r-8.5+"px")},this.RedrawBars=function(){var i=this.coords,h=i.length;this.sequentialColorIndex=0,e.beginPath(),a.NoShadow(this),e.strokeStyle=t["chart.strokestyle"],e.lineWidth=t["chart.linewidth"];for(var r=0;h>r;++r)i[r][2]>0&&(e.fillStyle=t["chart.colors.sequential"]?t["chart.colors"][this.sequentialColorIndex++]:t["chart.colors"][0],e.strokeRect(i[r][0],i[r][1],i[r][2],i[r][3]),e.fillRect(i[r][0],i[r][1],i[r][2],i[r][3]));e.stroke(),e.fill()},this.getXCoord=function(t){if(t>this.max||0>t)return null;var e=[],a=t/this.max*this.axisWidth;return e[0]=this.gutterLeft+this.axisWidth-a,e[1]=r.width-this.gutterRight-this.axisWidth+a,e},this.parseColors=function(){for(var t=this.properties,a=t["chart.colors"],e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e]);t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(t["chart.gutter.left"],0,r.width-t["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,a.trim(h[o]))}return s?s:i},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Annotating_canvas_onmousedown=function(e){if(0==e.button){e.target.__object__.Set("chart.mousedown",!0);var t=e.target.__object__;t.context.beginPath(),t.context.strokeStyle=t.Get("chart.annotate.color"),t.context.lineWidth=1;var a=RGraph.getMouseXY(e),r=a[0],i=a[1];RGraph.Registry.Set("annotate.actions",[t.Get("chart.annotate.color")]),t.context.moveTo(r,i),RGraph.Registry.Set("annotate.last.coordinates",[r,i]),RGraph.Registry.Set("started.annotating",!1),RGraph.Registry.Set("chart.annotating",t),RGraph.FireCustomEvent(t,"onannotatebegin")}return!1},RGraph.Annotating_window_onmouseup=function(r){var i=RGraph.Registry.Get("chart.annotating");if(0==r.button&&i){for(var e=document.getElementsByTagName("canvas"),t=0;t<e.length;++t)e[t].__object__&&e[t].__object__.Set("chart.mousedown",!1);if(RGraph.Registry.Get("annotate.actions")&&RGraph.Registry.Get("annotate.actions").length>0&&window.localStorage){var a="__rgraph_annotations_"+r.target.id+"__",h=window.localStorage[a]?window.localStorage[a]+"|":"";h+=RGraph.Registry.Get("annotate.actions"),window.localStorage[a]=h}RGraph.Registry.Set("annotate.actions",[]),RGraph.FireCustomEvent(i,"onannotateend")}},RGraph.Annotating_canvas_onmousemove=function(i){var t=i.target.__object__,h=RGraph.getMouseXY(i),e=h[0],a=h[1],r=RGraph.Registry.Get("annotate.last.coordinates");t.Get("chart.mousedown")&&(t.context.beginPath(),r?(t.context.strokeStyle=t.properties["chart.annotate.color"],t.context.moveTo(r[0],r[1]),t.context.lineTo(e,a)):t.context.moveTo(e,a),RGraph.Registry.Set("annotate.actions",RGraph.Registry.Get("annotate.actions")+"|"+e+","+a),RGraph.Registry.Set("annotate.last.coordinates",[e,a]),RGraph.FireCustomEvent(t,"onannotate"),t.context.stroke())},RGraph.Showpalette=function(e){var s=navigator.userAgent.indexOf("Safari")?!0:!1;e=RGraph.FixEventObject(e);var r=e.target.parentNode.__canvas__;r.getContext("2d");var o=r.__object__,t=document.createElement("DIV");RGraph.getMouseXY(e),t.__object__=o,t.className="RGraph_palette",t.style.position="absolute",t.style.backgroundColor="white",t.style.border="1px solid black",t.style.left=0,t.style.top=0,t.style.padding="3px",t.style.paddingBottom=0,t.style.paddingRight=0,t.style.opacity=0,t.style.boxShadow="rgba(96,96,96,0.5) 3px 3px 3px",t.style.WebkitBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",t.style.MozBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)";var n="padding: 1px; display: inline; display: inline-block; width: 15px; height: 15px; margin-right: 3px; cursor: pointer;"+(s?"margin-bottom: 3px":""),l=" onmouseover=\"this.style.border = '1px black solid'; this.style.padding = 0\"",c=" onmouseout=\"this.style.border = 0; this.style.padding = '1px'\" ",a="",h=["red","blue","green","black","yellow","magenta","pink","cyan","purple","#ddf","gray","#36905c"];for(i=0;i<h.length;++i)a=a+"<span "+l+c+' style="background-color: '+h[i]+"; "+n+"\" onclick=\"this.parentNode.__object__.Set('chart.annotate.color', this.style.backgroundColor); this.parentNode.style.display = 'none'; RGraph.FireCustomEvent(this.parentNode.__object__, 'onannotatecolor')\">&nbsp;</span>",5==i&&(a+="<br />");return t.innerHTML=a,document.body.appendChild(t),t.style.width=t.offsetWidth+"px",t.style.height=t.offsetHeight-(RGraph.isIE9up()?5:5)+"px",t.style.left=Math.max(0,e.pageX-t.offsetWidth-2)+"px",t.style.top=e.pageY-t.offsetHeight-2+"px",RGraph.Registry.Set("palette",t),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.2",50),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.4",100),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.6",150),setTimeout("RGraph.Registry.Get('palette').style.opacity = 0.8",200),setTimeout("RGraph.Registry.Get('palette').style.opacity = 1",250),RGraph.HideContext(),window.onclick=function(){RGraph.HidePalette()},e.stopPropagation(),!1},RGraph.ClearAnnotations=function(t){if("string"==typeof t){var e=t;t=document.getElementById(e)}else var e=t.id;var a=t.__object__;window.localStorage&&window.localStorage["__rgraph_annotations_"+e+"__"]&&window.localStorage["__rgraph_annotations_"+e+"__"].length&&(window.localStorage["__rgraph_annotations_"+e+"__"]=[],RGraph.FireCustomEvent(a,"onannotateclear"))},RGraph.ReplayAnnotations=function(h){if(window.localStorage){var a,s,i,r,t=h.context,e=window.localStorage["__rgraph_annotations_"+h.id+"__"];if(t.beginPath(),t.lineWidth=2,e&&e.length){for(e=e.split("|"),a=0,s=e.length;s>a;++a)e[a].match(/^[0-9]+,[0-9]+$/)?(r=e[a].split(","),i?(t.moveTo(r[0],r[1]),i=!1):t.lineTo(r[0],r[1])):(t.stroke(),t.beginPath(),t.strokeStyle=e[a],i=!0);t.stroke()}}},window.addEventListener("load",function(){setTimeout(function(){for(var e=document.getElementsByTagName("canvas"),t=0;t<e.length;++t)e[t].__object__&&e[t].__object__.isRGraph&&e[t].__object__.Get("chart.annotatable")&&RGraph.ReplayAnnotations(e[t].__object__)},100)},!1),"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Contextmenu=function(h,a,s){var o=h.canvas;s=RGraph.FixEventObject(s),RGraph.FireCustomEvent(h,"onbeforecontextmenu"),RGraph.Registry.Get("chart.contextmenu")&&RGraph.HideContext(),RGraph.HideZoomedCanvas(),RGraph.HidePalette(),h.Set("chart.mousedown",!1);var n=s.pageX,l=s.pageY,e=document.createElement("div"),r=document.createElement("div");for(e.className="RGraph_contextmenu",e.__canvas__=o,e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.border="1px solid black",e.style.backgroundColor="white",e.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",e.style.opacity=0,r.className="RGraph_contextmenu_background",r.style.position="absolute",r.style.backgroundColor="#ccc",r.style.borderRight="1px solid #aaa",r.style.top=0,r.style.left=0,r.style.width="18px",r.style.height="100%",r.style.opacity=0,e=document.body.appendChild(e),r=e.appendChild(r),i=0;i<a.length;++i){var t=document.createElement("div");t.__object__=h,t.__canvas__=o,t.__contextmenu__=e,t.className="RGraph_contextmenu_item",a[i]?(t.style.padding="2px 5px 2px 23px",t.style.fontFamily="Arial",t.style.fontSize="10pt",t.style.fontWeight="normal",t.innerHTML=a[i][0],RGraph.is_array(a[i][1])&&(t.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAQUlEQVQImY3NoQ2AMABE0ZewABMyGQ6mqWODzlAclBSFO8HZl8uf0FFxCHtwYkt4Y6ChYE44cGH9/fyae2p2LAleW9oVTQuVf6gAAAAASUVORK5CYII=)",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="97% center"),a[i][1]?t.addEventListener?(t.addEventListener("mouseover",function(t){RGraph.HideContextSubmenu(),t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"},!1),t.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(t.attachEvent("onmouseover",function(){RGraph.HideContextSubmenu(),event.srcElement.style.backgroundColor="#eee",event.srcElement.style.cursor="pointer"},!1),t.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):t.addEventListener?(t.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),t.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(t.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),t.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(t.style.borderBottom="1px solid #ddd",t.style.marginLeft="25px"),e.appendChild(t),a[i]&&a[i][1]&&"function"==typeof a[i][1]?t.addEventListener("click",a[i][1],!1):a[i]&&a[i][1]&&RGraph.is_array(a[i][1])&&!function(){var e=a[i][1];t.addEventListener("mouseover",function(t){RGraph.Contextmenu_submenu(h,e,t.target)},!1)}()}return e.style.width=e.offsetWidth+10+"px",e.style.height=e.offsetHeight-2+"px",n+e.offsetWidth>document.body.offsetWidth&&(n-=e.offsetWidth),e.style.left=n+"px",e.style.top=l+"px",setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 1",250),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 1",250),RGraph.Registry.Set("chart.contextmenu",e),RGraph.Registry.Set("chart.contextmenu.bg",r),RGraph.Registry.Get("chart.contextmenu").oncontextmenu=function(){return!1},RGraph.Registry.Get("chart.contextmenu.bg").oncontextmenu=function(){return!1},o.addEventListener("click",function(){RGraph.HideContext()},!1),window.addEventListener("click",function(){RGraph.HideContext()},!1),window.addEventListener("resize",function(){RGraph.HideContext()},!1),"function"==typeof h.getShape&&(RGraph.Registry.Get("chart.contextmenu").__shape__=h.getShape(s)),s.stopPropagation(),RGraph.FireCustomEvent(h,"oncontextmenu"),!1},RGraph.HideContext=function(){var t=RGraph.Registry.Get("chart.contextmenu"),e=RGraph.Registry.Get("chart.contextmenu.bg");RGraph.HideContextSubmenu(),t&&(t.parentNode.removeChild(t),e.parentNode.removeChild(e),t.style.visibility="hidden",t.style.display="none",RGraph.Registry.Set("chart.contextmenu",null),e.style.visibility="hidden",e.style.display="none",RGraph.Registry.Set("chart.contextmenu.bg",null))},RGraph.HideContextSubmenu=function(){var t=RGraph.Registry.Get("chart.contextmenu.submenu");t&&(t.style.visibility="none",t.style.display="none",RGraph.Registry.Set("chart.contextmenu.submenu",null))},RGraph.ShowContext=function(t){if(RGraph.HidePalette(),t.Get("chart.contextmenu")&&t.Get("chart.contextmenu").length){var e=navigator.userAgent.indexOf("Opera")>=0,a=navigator.userAgent.indexOf("Safari")>=0,r=navigator.userAgent.indexOf("Chrome")>=0,i=navigator.userAgent.indexOf("Firefox")>0&&navigator.userAgent.indexOf("Mac")>0;navigator.userAgent.indexOf("MSIE 9")>=0,(e||a)&&!r||i?t.canvas.addEventListener("dblclick",function(e){return e.ctrlKey?!0:(RGraph.Registry.Get("chart.contextmenu")||RGraph.Contextmenu(t,t.Get("chart.contextmenu"),e),void 0)},!1):t.canvas.oncontextmenu=function(e){return e=RGraph.FixEventObject(e),e.ctrlKey?!0:(RGraph.Contextmenu(t,t.Get("chart.contextmenu"),e),!1)}}},RGraph.Contextmenu_submenu=function(s,i,o){RGraph.HideContextSubmenu();var n=s.canvas;s.context;var h=o.parentNode,e=document.createElement("DIV");e.style.position="absolute",e.style.width="100px",e.style.top=h.offsetTop+o.offsetTop+"px",e.style.left=h.offsetLeft+h.offsetWidth-(RGraph.isOld()?9:0)+"px",e.style.backgroundColor="white",e.style.border="1px solid black",e.className="RGraph_contextmenu",e.__contextmenu__=h,e.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",e.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",document.body.appendChild(e);for(var r=0;r<i.length;++r){var t=document.createElement("DIV");t.__canvas__=n,t.__contextmenu__=h,t.className="RGraph_contextmenu_item",i[r]?(t.style.padding="2px 5px 2px 23px",t.style.fontFamily="Arial",t.style.fontSize="10pt",t.style.fontWeight="normal",t.innerHTML=i[r][0],i[r][1]?t.addEventListener?(t.addEventListener("mouseover",function(t){t.target.style.backgroundColor="rgba(0,0,0,0.2)",t.target.style.cursor="pointer"
},!1),t.addEventListener("mouseout",function(t){t.target.style.backgroundColor="inherit",t.target.style.cursor="default"},!1)):(t.attachEvent("onmouseover",function(){event.srcElement.style.backgroundColor="rgba(0,0,0,0.2)",event.srcElement.style.cursor="pointer"},!1),t.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):t.addEventListener?(t.addEventListener("mouseover",function(t){t.target.style.cursor="default"},!1),t.addEventListener("mouseout",function(t){t.target.style.cursor="default"},!1)):(t.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),t.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(t.style.borderBottom="1px solid #ddd",t.style.marginLeft="25px"),e.appendChild(t),i[r]&&i[r][1]&&(document.all?t.attachEvent("onclick",i[r][1]):t.addEventListener("click",i[r][1],!1))}var a=document.createElement("DIV");a.className="RGraph_contextmenu_background",a.style.position="absolute",a.style.backgroundColor="#ccc",a.style.borderRight="1px solid #aaa",a.style.top=0,a.style.left=0,a.style.width="18px",a.style.height="100%",a=e.appendChild(a),RGraph.Registry.Set("chart.contextmenu.submenu",e)},RGraph.showPNG=function(){if(RGraph.isIE8())return alert("[RGRAPH PNG] Sorry, showing a PNG is not supported on MSIE8."),void 0;if(arguments[0]&&arguments[0].id)var e=arguments[0],h=arguments[1];else if(RGraph.Registry.Get("chart.contextmenu"))var e=RGraph.Registry.Get("chart.contextmenu").__canvas__;else alert("[RGRAPH SHOWPNG] Could not find canvas!");var i=e.__object__,a=document.createElement("DIV");a.id="__rgraph_image_bg__",a.style.position="fixed",a.style.top="-10px",a.style.left="-10px",a.style.width="5000px",a.style.height="5000px",a.style.backgroundColor="rgb(204,204,204)",a.style.opacity=0,document.body.appendChild(a);var t=document.createElement("DIV");t.style.backgroundColor="white",t.style.opacity=0,t.style.border="1px solid black",t.style.position="fixed",t.style.top="20%",t.style.width=e.width+"px",t.style.height=e.height+35+"px",t.style.left=document.body.clientWidth/2-e.width/2+"px",t.style.padding="5px",t.style.borderRadius="10px",t.style.MozBorderRadius="10px",t.style.WebkitBorderRadius="10px",t.style.boxShadow="0 0 15px rgba(96,96,96,0.5)",t.style.MozBoxShadow="0 0 15px rgba(96,96,96,0.5)",t.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",t.__canvas__=e,t.__object__=i,t.id="__rgraph_image_div__",document.body.appendChild(t),t.innerHTML+='<div style="position: absolute; margin-left: 10px; top: '+e.height+"px; width: "+(e.width-50)+'px; height: 25px"><span style="font-size: 12pt;display: inline; display: inline-block; width: 65px; text-align: right">URL:</span><textarea style="float: right; overflow: hidden; height: 20px; width: '+(e.width-i.gutterLeft-i.gutterRight-80)+'px" onclick="this.select()" readonly="readonly" id="__rgraph_dataurl__">'+e.toDataURL()+"</textarea></div>",t.innerHTML+='<div style="position: absolute; top: '+(e.height+25)+"px; left: "+(i.gutterLeft-65+e.width/2)+"px; width: "+(e.width-i.gutterRight)+'px; font-size: 65%">A link using the URL: <a href="'+e.toDataURL()+'">View</a></div>';var r=document.createElement("IMG");RGraph.Registry.Set("chart.png",r),r.__canvas__=e,r.__object__=i,r.id="__rgraph_image_img__",r.className="RGraph_png",r.src=e.toDataURL(),t.appendChild(r),setTimeout(function(){document.getElementById("__rgraph_dataurl__").select()},50),window.addEventListener("resize",function(){var t=RGraph.Registry.Get("chart.png");t.style.left=document.body.clientWidth/2-t.width/2+"px"},!1),a.onclick=function(){var t=document.getElementById("__rgraph_image_div__"),e=document.getElementById("__rgraph_image_bg__");t&&(t.style.opacity=0,t.parentNode.removeChild(t),t.id="",t.style.display="none",t=null),e&&(e.style.opacity=0,e.id="",e.style.display="none",e=null)},window.addEventListener("resize",function(t){a.onclick(t)},!1),__rgraph_image_bg__=a,__rgraph_image_div__=t,setTimeout("__rgraph_image_div__.style.opacity = 0.2",50),setTimeout("__rgraph_image_div__.style.opacity = 0.4",100),setTimeout("__rgraph_image_div__.style.opacity = 0.6",150),setTimeout("__rgraph_image_div__.style.opacity = 0.8",200),setTimeout("__rgraph_image_div__.style.opacity = 1",250),setTimeout("__rgraph_image_bg__.style.opacity = 0.1",50),setTimeout("__rgraph_image_bg__.style.opacity = 0.2",100),setTimeout("__rgraph_image_bg__.style.opacity = 0.3",150),setTimeout("__rgraph_image_bg__.style.opacity = 0.4",200),setTimeout("__rgraph_image_bg__.style.opacity = 0.5",250),r.onclick=function(t){t.stopPropagation?t.stopPropagation():h.cancelBubble=!0},h&&h.stopPropagation&&h.stopPropagation()},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Highlight={},RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["chart.event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],PI=Math.PI,HALFPI=PI/2,TWOPI=2*PI,ISFF=-1!=navigator.userAgent.indexOf("Firefox"),ISOPERA=-1!=navigator.userAgent.indexOf("Opera"),ISCHROME=-1!=navigator.userAgent.indexOf("Chrome"),ISSAFARI=-1!=navigator.userAgent.indexOf("Safari")&&!ISCHROME,ISWEBKIT=-1!=navigator.userAgent.indexOf("WebKit"),RGraph.getScale=function(t,r){if(0==t)return["0.2","0.4","0.6","0.8","1.0"];var h=t;if(1>=t){if(t>.5)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(t>=.1)return r.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var s=t,e=0;1.01>s;)e+=1,s*=10;var o=["2e-"+e,"4e-"+e,"6e-"+e,"8e-"+e,"10e-"+e];return"5e-"+e>=t&&(o=["1e-"+e,"2e-"+e,"3e-"+e,"4e-"+e,"5e-"+e]),o}String(t).indexOf(".")>0&&(t=String(t).replace(/\.\d+$/,""));for(var i=Math.pow(10,Number(String(Number(t)).length-1)),a=i;t>a;)a+=i/2;return Number(h)>Number(a)&&(a+=i/2),10>t&&(a=Number(h)<=5?5:10),r&&"boolean"==typeof r.Get("chart.scale.round")&&r.Get("chart.scale.round")&&(a=10*i),[.2*a,.4*a,.6*a,.8*a,a]},RGraph.getScale2=function(o,i){var y=RGraph;o.canvas,o.context;var x=o.properties,h="number"==typeof i["ylabels.count"]?i["ylabels.count"]:5,c="string"==typeof i["units.pre"]?i["units.pre"]:"",l="string"==typeof i["units.post"]?i["units.post"]:"",a=Number(i.max),r="number"==typeof i.min?i.min:0,p=i.strict,g=Number(i["scale.decimals"]),m=i["scale.point"],b=i["scale.thousand"],v=a,u=i["scale.round"],t={max:1,labels:[]};if(a)if(1>=a&&!p)if(a>.5){a=1,r=r,t.min=r;for(var e=0;h>e;++e){var s=((a-r)/h*(e+1)+r).toFixed(g);t.labels.push(c+s+l)}}else if(a>=.1){a=.5,r=r,t={max:.5,min:r,labels:[]};for(var e=0;h>e;++e){var s=(((a-r)/h+r)*(e+1)).toFixed(g);t.labels.push(c+s+l)}}else{t={min:r,labels:[]};var f=String(a);if(f.indexOf("e")>0)var _=Math.abs(f.substring(f.indexOf("e")+1));else var _=String(a).length-2;for(var a=1/Math.pow(10,_-1),e=0;h>e;++e){var s=((a-r)/h+r)*(e+1);s=s.toExponential(),s=s.split(/e/),s[0]=Math.round(s[0]),s=s.join("e"),t.labels.push(s)}tmp=t.labels[t.labels.length-1].split(/e/),tmp[0]+=0,tmp[1]=Number(tmp[1])-1,tmp=tmp[0]+"e"+tmp[1],t.labels[t.labels.length-1]=tmp;for(var e=0;e<t.labels.length;++e)t.labels[e]=c+t.labels[e]+l;t.max=Number(a)}else if(p){if("number"==typeof a&&p){for(var e=0;h>e;++e)t.labels.push(y.number_format(o,((e+1)/h*(a-r)+r).toFixed(g),c,l));t.max=a}}else{a=Math.ceil(a);for(var d=Math.pow(10,Math.max(1,Number(String(Number(a)-Number(r)).length-1))),n=d;a>n;)n+=d/2;Number(v)>Number(n)&&(n+=d/2),10>=a&&(n=Number(v)<=5?5:10),o&&"boolean"==typeof u&&u&&(n=10*d),t.max=n;var w=x["chart.scale.point"],R=x["chart.scale.thousand"];o.Set("chart.scale.thousand",b),o.Set("chart.scale.point",m);for(var e=0;h>e;++e)t.labels.push(y.number_format(o,((e+1)/h*(n-r)+r).toFixed(g),c,l));o.Set("chart.scale.thousand",R),o.Set("chart.scale.point",w)}else for(var a=1,t={max:1,min:0,labels:[]},e=0;h>e;++e){var s=(((a-r)/h+r)*(e+1)).toFixed(g);t.labels.push(c+s+l)}return t.units_pre=c,t.units_post=l,t.point=m,t.decimals=g,t.thousand=b,t.numlabels=h,t.round=Boolean(u),t.min=r,t},RGraph.array_max=function(t){var a=null,r=Math;if("number"==typeof t)return t;if(RGraph.is_null(t))return 0;for(var e=0,h=t.length;h>e;++e)if("number"==typeof t[e]){var i=arguments[1]?r.abs(t[e]):t[e];a="number"==typeof a?r.max(a,i):i}return a},RGraph.array_pad=function(t,a){if(t.length<a)for(var r=arguments[2]?arguments[2]:null,e=t.length;a>e;e+=1)t[e]=r;return t},RGraph.array_sum=function(t){if("number"==typeof t)return t;if(RGraph.is_null(t))return 0;var e,a,r=t.length;for(e=0,a=0;r>e;a+=t[e++]);return a},RGraph.array_linearize=function(){for(var a=[],e=arguments,s=RGraph,t=0,o=e.length;o>t;++t)if("object"==typeof e[t]&&e[t])for(var r=0;r<e[t].length;++r)for(var h=s.array_linearize(e[t][r]),i=0;i<h.length;++i)a.push(h[i]);else a.push(e[t]);return a},RGraph.Text=function(e,d,h,s,r,a){var t=arguments;if(("string"==typeof a||"number"==typeof a)&&"undefined"!=a){if("string"==typeof a&&a.match(/\r\n/)){var f=RGraph.MeasureText("M",t[11],d,h),n=a.split("\r\n");t[6]&&"center"==t[6]&&(r-=f[1]*((n.length-1)/2));for(var c=1;c<n.length;++c)RGraph.Text(e,d,h,-90==t[9]?s+1.5*h:s,r+f[1]*c,n[c],t[6]?t[6]:null,t[7],t[8],t[9],t[10],t[11],t[12]);a=n[0]}document.all&&ISOLD&&(r+=2),e.font=(t[11]?"Bold ":"")+h+"pt "+d;var c,u=e.fillStyle,v=e.lineWidth;if("undefined"==typeof t[6]&&(t[6]="bottom"),"undefined"==typeof t[7]&&(t[7]="left"),"undefined"==typeof t[8]&&(t[8]=null),"undefined"==typeof t[9]&&(t[9]=0),-1!=navigator.userAgent.indexOf("Opera")&&(e.canvas.__rgraph_valign__=t[6],e.canvas.__rgraph_halign__=t[7]),e.save(),e.canvas.__rgraph_originalx__=s,e.canvas.__rgraph_originaly__=r,e.translate(s,r),s=0,r=0,t[9]&&e.rotate(t[9]/(180/PI)),t[6]){var g=t[6];"center"==g?e.textBaseline="middle":"top"==g&&(e.textBaseline="top")}if(t[7]){var o=t[7],l=e.measureText(a).width;o&&("center"==o?e.textAlign="center":"right"==o&&(e.textAlign="right"))}e.fillStyle=u,e.save(),e.fillText(a,0,0),e.lineWidth=1;var l=e.measureText(a).width,p="center"==o?l/2:"right"==o?l:0,i=1.5*h,m="center"==g?i/2:"top"==g?i:0,y=ISOLD?2:0;t[8]&&(e.strokeRect(-3-p,-3-i-y+m,l+6,i+6),t[10]&&(e.fillStyle=t[10],e.fillRect(-3-p,-3-i-y+m,l+6,i+6)),e.fillStyle=u,e.fillText(a,0,0)),e.restore(),e.lineWidth=v,e.restore()}},RGraph.Clear=function(t){var r=RGraph,e=t.getContext("2d"),a=arguments[1];if(t){if(r.FireCustomEvent(t.__object__,"onbeforeclear"),ISIE8&&!a&&(a="white"),!a||a&&"rgba(0,0,0,0)"==a||"transparent"==a?(e.clearRect(0,0,t.width,t.height),e.globalCompositeOperation="source-over"):(e.fillStyle=a,e.beginPath(),ISIE8?e.fillRect(0,0,t.width,t.height):e.fillRect(-10,-10,t.width+20,t.height+20),e.fill()),r.Registry.Get("chart.background.image."+t.id)){var i=r.Registry.Get("chart.background.image."+t.id);i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px"}r.Registry.Get("chart.tooltip")&&r.HideTooltip(t),t.style.cursor="default",r.FireCustomEvent(t.__object__,"onclear")}},RGraph.DrawTitle=function(a,w,r){var b=RGraph,h=canvas=a.canvas,i=context=a.context,t=a.properties,u=t["chart.gutter.left"],R=t["chart.gutter.right"],r=r,l=t["chart.gutter.bottom"],n=arguments[4]?arguments[4]:12,x=t["chart.title.bold"],o=arguments[3]?arguments[3]:(h.width-u-R)/2+u,s=t["chart.key.position"],e=t["chart.title.vpos"],f=t["chart.title.hpos"],m=t["chart.title.background"],c=t["chart.title.x"],v=t["chart.title.y"],y="center",p="center";if("bar"==a.type&&"3d"==t["chart.variant"]&&(s="gutter"),i.beginPath(),i.fillStyle=t["chart.text.color"]?t["chart.text.color"]:"black",s&&"gutter"!=s)var p="center";else if(s)var p="bottom";else var p="center";"number"==typeof t["chart.title.vpos"]?(e=t["chart.title.vpos"]*r,"top"==t["chart.xaxispos"]&&(e=t["chart.title.vpos"]*l+r+(h.height-r-l))):(e=r-n-5,"top"==t["chart.xaxispos"]&&(e=h.height-l+n+5)),"number"==typeof f&&(o=f*h.width),"number"==typeof c&&(o=c),"number"==typeof v&&(e=v),"string"==typeof t["chart.title.halign"]&&(y=t["chart.title.halign"]),"string"==typeof t["chart.title.valign"]&&(p=t["chart.title.valign"]);var _=i.fillStyle,d=t["chart.title.color"];i.fillStyle=d?d:"black";var g=t["chart.text.font"];"string"==typeof t["chart.title.font"]&&(g=t["chart.title.font"]),b.Text2(a,{font:g,size:n,x:o,y:e,text:w,valign:p,halign:y,bounding:null!=m,"bounding.fill":m,bold:x,tag:"title"}),i.fillStyle=_},RGraph.getMouseXY=function(t){var a,e,r=t.target,c=r,s=c.style,l=0,g=0,d="fixed"==c.style.position,o=parseInt(s.borderLeftWidth)||0,n=parseInt(s.borderTopWidth)||0,h=parseInt(s.paddingLeft)||0,i=parseInt(s.paddingTop)||0,u=o+h,p=n+i;if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)d?ISOPERA?(a=t.offsetX,e=t.offsetY):ISWEBKIT?(a=t.offsetX-h-o,e=t.offsetY-i-n):ISIE?(a=t.offsetX-h,e=t.offsetY-i):(a=t.offsetX,e=t.offsetY):ISIE||ISOPERA?ISIE?(a=t.offsetX-h,e=t.offsetY-i):(a=t.offsetX,e=t.offsetY):(a=t.offsetX-o-h,e=t.offsetY-n-i);else{if("undefined"!=typeof r.offsetParent)do l+=r.offsetLeft,g+=r.offsetTop;while(r=r.offsetParent);a=t.pageX-l-u,e=t.pageY-g-p,a-=2*(parseInt(document.body.style.borderLeftWidth)||0),e-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[a,e]},RGraph.getCanvasXY=function(t){var a=0,r=0,e=t;do a+=e.offsetLeft,r+=e.offsetTop,"table"==e.tagName.toLowerCase()&&(ISCHROME||ISSAFARI)&&(a+=parseInt(e.border)||0,r+=parseInt(e.border)||0),e=e.offsetParent;while(e&&"body"!=e.tagName.toLowerCase());var i=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,h=t.style.paddingTop?parseInt(t.style.paddingTop):0,s=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,o=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(a+=parseInt(document.body.style.borderLeftWidth)||0,r+=parseInt(document.body.style.borderTopWidth)||0),[a+i+s,r+h+o]},RGraph.isFixed=function(e){for(var t=e,a=0;"body"!=t.tagName.toLowerCase()&&99>a;){if("fixed"==t.style.position)return t;t=t.offsetParent}return!1},RGraph.Register=function(t){t.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(t),t.Set("chart.noregister",!0))},RGraph.Redraw=function(){for(var a=RGraph.ObjectRegistry.objects.byCanvasID,e=document.getElementsByTagName("canvas"),t=0,r=e.length;r>t;++t)e[t].__object__&&e[t].__object__.isRGraph&&(e[t].noclear||RGraph.Clear(e[t],arguments[0]?arguments[0]:null));for(var t=0,r=a.length;r>t;++t)a[t]&&(a[t][0],a[t][1].Draw())},RGraph.RedrawCanvas=function(a){var e=RGraph.ObjectRegistry.getObjectsByCanvasID(a.id);(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1])&&RGraph.Clear(a);for(var t=0,r=e.length;r>t;++t)e[t]&&e[t]&&e[t].isRGraph&&e[t].Draw()},RGraph.background.Draw=function(r){var u=RGraph,a=canvas=r.canvas,e=context=r.context,t=r.properties,l=0,i=r.gutterLeft,o=r.gutterRight,h=r.gutterTop,s=r.gutterBottom,v=t["chart.variant"];if(e.fillStyle=t["chart.text.color"],"3d"==v&&(e.save(),e.translate(10,-5)),"string"==typeof t["chart.title.xaxis"]&&t["chart.title.xaxis"].length){var g=t["chart.text.size"]+2,c=t["chart.text.font"],p=t["chart.title.xaxis.bold"];"number"==typeof t["chart.title.xaxis.size"]&&(g=t["chart.title.xaxis.size"]),"string"==typeof t["chart.title.xaxis.font"]&&(c=t["chart.title.xaxis.font"]);var _=(a.width-i-o)/2+i,f=a.height-s+25;"number"==typeof t["chart.title.xaxis.pos"]&&(f=a.height-s*t["chart.title.xaxis.pos"]),u.Text2(r,{font:c,size:g,x:_,y:f,text:t["chart.title.xaxis"],halign:"center",valign:"center",bold:p,tag:"title xaxis"})}if("string"==typeof t["chart.title.yaxis"]&&t["chart.title.yaxis"].length){var g=t["chart.text.size"]+2,c=t["chart.text.font"],m=270,p=t["chart.title.yaxis.bold"],w=t["chart.title.yaxis.color"];if("number"==typeof t["chart.title.yaxis.pos"])var d=t["chart.title.yaxis.pos"]*i;else var d=(i-25)/i*i;"number"==typeof t["chart.title.yaxis.size"]&&(g=t["chart.title.yaxis.size"]),"string"==typeof t["chart.title.yaxis.font"]&&(c=t["chart.title.yaxis.font"]),"right"==t["chart.title.yaxis.align"]||"right"==t["chart.title.yaxis.position"]?(m=90,d=t["chart.title.yaxis.pos"]?a.width-o+t["chart.title.yaxis.pos"]*o:a.width-o+t["chart.text.size"]+5):d=d,e.fillStyle=w,u.Text2(r,{font:c,size:g,x:d,y:(a.height-h-s)/2+h,valign:"center",halign:"center",angle:m,bold:p,text:t["chart.title.yaxis"],tag:"title yaxis"})}var b=t["chart.background.color"];b&&(e.fillStyle=b,e.fillRect(i,h,a.width-i-o,a.height-h-s)),e.beginPath(),e.fillStyle=t["chart.background.barcolor1"],e.strokeStyle=e.fillStyle,l=a.height-s;for(var n=h;l>n;n+=80)e.fillRect(i,n,a.width-i-o,Math.min(40,a.height-s-n));e.fillStyle=t["chart.background.barcolor2"],e.strokeStyle=e.fillStyle,l=a.height-s;for(var n=40+h;l>n;n+=80)e.fillRect(i,n,a.width-i-o,n+40>a.height-s?a.height-(s+n):40);if(e.beginPath(),t["chart.background.grid"]){if(t["chart.background.grid.autofit"]){t["chart.background.grid.autofit.align"]&&(r.Set("chart.background.grid.autofit.numhlines",t["chart.ylabels.count"]),"line"==r.type?t["chart.labels"]&&t["chart.labels"].length?r.Set("chart.background.grid.autofit.numvlines",t["chart.labels"].length-1):r.Set("chart.background.grid.autofit.numvlines",r.data[0].length-1):"bar"==r.type&&t["chart.labels"]&&t["chart.labels"].length&&r.Set("chart.background.grid.autofit.numvlines",t["chart.labels"].length));var R=(a.width-i-o)/t["chart.background.grid.autofit.numvlines"],k=(a.height-h-s)/t["chart.background.grid.autofit.numhlines"];r.Set("chart.background.grid.vsize",R),r.Set("chart.background.grid.hsize",k)}if(e.beginPath(),e.lineWidth=t["chart.background.grid.width"]?t["chart.background.grid.width"]:1,e.strokeStyle=t["chart.background.grid.color"],t["chart.background.grid.dashed"]&&"function"==typeof e.setLineDash&&e.setLineDash([3,2]),t["chart.background.grid.dotted"]&&"function"==typeof e.setLineDash&&e.setLineDash([1,2]),t["chart.background.grid.hlines"])for(l=a.height-s,y=h;l>y;y+=t["chart.background.grid.hsize"])context.moveTo(i,Math.round(y)),context.lineTo(a.width-o,Math.round(y));if(t["chart.background.grid.vlines"]){var G=a.width-o;for(x=i;G>=x;x+=t["chart.background.grid.vsize"])e.moveTo(Math.round(x),h),e.lineTo(Math.round(x),a.height-s)}t["chart.background.grid.border"]&&(e.strokeStyle=t["chart.background.grid.color"],e.strokeRect(Math.round(i),Math.round(h),a.width-i-o,a.height-h-s))}context.stroke(),"function"==typeof e.setLineDash&&e.setLineDash(null),"3d"==v&&e.restore(),"string"==typeof t["chart.title"]&&("gantt"==r.type&&(h-=10),u.DrawTitle(r,t["chart.title"],h,null,t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2)),e.stroke()},RGraph.array_clone=function(t){var r=RGraph;if(null==t||"object"!=typeof t)return t;for(var a=[],e=0,i=t.length;i>e;++e)a[e]="number"==typeof t[e]?function(t){return Number(t)}(t[e]):"string"==typeof t[e]?function(t){return String(t)}(t[e]):"function"==typeof t[e]?t[e]:r.array_clone(t[e]);return a},RGraph.number_format=function(s,e){s.canvas,s.context;var a,r=s.properties,o=arguments[2]?String(arguments[2]):"",n=arguments[3]?String(arguments[3]):"",t="",i="",c="string"==typeof r["chart.scale.point"]?r["chart.scale.point"]:".",g="string"==typeof r["chart.scale.thousand"]?r["chart.scale.thousand"]:",";RegExp.$1="";var a,h;if("function"==typeof r["chart.scale.formatter"])return r["chart.scale.formatter"](s,e);if(String(e).indexOf("e")>0)return String(o+String(e)+n);if(e=String(e),e.indexOf(".")>0){var d=e;e=e.replace(/\.(.*)/,""),i=d.replace(/(.*)\.(.*)/,"$2")}var u=g;for(a=e.length-1,h=0;a>=0;h++,a--){var p=e.charAt(a);0==h%3&&0!=h&&(t+=u),t+=p}var l=t;for(t="",a=l.length-1;a>=0;a--)t+=l.charAt(a);return 0==t.indexOf("-"+r["chart.scale.thousand"])&&(t="-"+t.substr(("-"+r["chart.scale.thousand"]).length)),i.length&&(t=t+c+i,i="",RegExp.$1=""),"-"==t.charAt(0)&&(t=t.replace(/-/,""),o="-"+o),o+t+n},RGraph.DrawBars=function(t){var r=t.properties,n=t.context,l=t.canvas,c=RGraph,s=r["chart.background.hbars"];if(null!==s)for(n.beginPath(),i=0,len=s.length;len>i;++i){var e=s[i][0],a=s[i][1],g=s[i][2];c.is_null(e)&&(e=t.scale2.max),e>t.scale2.max&&(e=t.scale2.max),c.is_null(a)&&(a=t.scale2.max-e),e+a>t.scale2.max&&(a=t.scale2.max-e),e+a<-1*t.scale2.max&&(a=-1*t.scale2.max-e),"center"==r["chart.xaxispos"]&&e==t.scale2.max&&a<-2*t.scale2.max&&(a=-2*t.scale2.max);var d=r["chart.gutter.left"],h=t.getYCoord(e),u=l.width-r["chart.gutter.left"]-r["chart.gutter.right"],o=t.getYCoord(e+a)-h;-1!=ISOPERA&&"center"==r["chart.xaxispos"]&&0>o&&(o*=-1,h-=o),"top"==r["chart.xaxispos"]&&(h=l.height-h,o*=-1),n.fillStyle=g,n.fillRect(d,h,u,o)}},RGraph.DrawInGraphLabels=function(i){var c=RGraph;i.canvas;var t=i.context,l=i.properties,n=l["chart.labels.ingraph"],a=[];if(n){for(var e=0,d=n.length;d>e;e+=1)if("number"==typeof n[e])for(var g=0;g<n[e];++g)a.push(null);else"string"==typeof n[e]||"object"==typeof n[e]?a.push(n[e]):a.push("");if(c.NoShadow(i),a&&a.length>0)for(var e=0,d=a.length;d>e;++e)if(a[e]){var o=i.coords[e];if(o&&o.length>0){var r="bar"==i.type?o[0]+o[2]/2:o[0],h="bar"==i.type?o[1]+o[3]/2:o[1],s="number"==typeof a[e][4]?a[e][4]:25;if(t.beginPath(),t.fillStyle="black",t.strokeStyle="black","bar"==i.type){if("top"==i.Get("chart.xaxispos")&&(s*=-1),"dot"==l["chart.variant"]){t.moveTo(Math.round(r),i.coords[e][1]-5),t.lineTo(Math.round(r),i.coords[e][1]-5-s);var u=Math.round(r),p=i.coords[e][1]-5-s}else if("arrow"==l["chart.variant"]){t.moveTo(Math.round(r),i.coords[e][1]-5),t.lineTo(Math.round(r),i.coords[e][1]-5-s);var u=Math.round(r),p=i.coords[e][1]-5-s}else{t.arc(Math.round(r),h,2.5,0,6.28,0),t.moveTo(Math.round(r),h),t.lineTo(Math.round(r),h-s);var u=Math.round(r),p=h-s}t.stroke(),t.fill()}else if("line"==i.type){if("object"==typeof a[e]&&"number"==typeof a[e][3]&&-1==a[e][3]){t.moveTo(Math.round(r),h+5),t.lineTo(Math.round(r),h+5+s),t.stroke(),t.beginPath(),t.moveTo(Math.round(r),h+5),t.lineTo(Math.round(r)-3,h+10),t.lineTo(Math.round(r)+3,h+10),t.closePath();var u=r,p=h+5+s}else{var u=r,p=h-5-s;t.moveTo(Math.round(r),h-5),t.lineTo(Math.round(r),h-5-s),t.stroke(),t.beginPath(),t.moveTo(Math.round(r),h-5),t.lineTo(Math.round(r)-3,h-10),t.lineTo(Math.round(r)+3,h-10),t.closePath()}t.fill()}t.beginPath(),t.fillStyle="object"==typeof a[e]&&"string"==typeof a[e][1]?a[e][1]:"black",c.Text2(i,{font:l["chart.text.font"],size:l["chart.text.size"],x:u,y:p,text:"object"==typeof a[e]&&"string"==typeof a[e][0]?a[e][0]:a[e],valign:"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof a[e]&&"string"==typeof a[e][2]?a[e][2]:"white",tag:"labels ingraph"}),t.fill()}}}},RGraph.FixEventObject=function(t){if(ISOLD){var t=event;t.pageX=event.clientX+document.body.scrollLeft,t.pageY=event.clientY+document.body.scrollTop,t.target=event.srcElement,!document.body.scrollTop&&document.documentElement.scrollTop&&(t.pageX+=parseInt(document.documentElement.scrollLeft),t.pageY+=parseInt(document.documentElement.scrollTop))}return t.stopPropagation||(t.stopPropagation=function(){window.event.cancelBubble=!0}),t},RGraph.HideCrosshairCoords=function(){var t=RGraph,e=t.Registry.Get("chart.coordinates.coords.div");e&&1==e.style.opacity&&e.__object__.Get("chart.crosshairs.coords.fadeout")&&(setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.9},50),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.8},100),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.7},150),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.6},200),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.5},250),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.4},300),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.3},350),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.2},400),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=.1},450),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.opacity=0},500),setTimeout(function(){t.Registry.Get("chart.coordinates.coords.div").style.display="none"},550))},RGraph.Draw3DAxes=function(h){var i=h.properties,t=h.context,e=h.canvas,a=i["chart.gutter.left"],s=i["chart.gutter.right"],o=i["chart.gutter.top"],r=i["chart.gutter.bottom"];t.strokeStyle="#aaa",t.fillStyle="#ddd",t.beginPath(),t.moveTo(a,o),t.lineTo(a+10,o-5),t.lineTo(a+10,e.height-r-5),t.lineTo(a,e.height-r),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.moveTo(a,e.height-r),t.lineTo(a+10,e.height-r-5),t.lineTo(e.width-s+10,e.height-r-5),t.lineTo(e.width-s,e.height-r),t.closePath(),t.stroke(),t.fill()},RGraph.OldBrowserCompat=function(t){t&&(t.measureText||(t.measureText=function(e){var t=document.createElement("DIV");t.innerHTML=e,t.style.position="absolute",t.style.top="-100px",t.style.left=0,document.body.appendChild(t);var a={width:t.offsetWidth};return t.style.display="none",a}),t.fillText||(t.fillText=function(){return!1}),t.canvas.addEventListener||(window.addEventListener=function(t,e){return this.attachEvent("on"+t,e)},t.canvas.addEventListener=function(t,e){return this.attachEvent("on"+t,e)}))},RGraph.strokedCurvyRect=function(e,a,r,i,h){var t=arguments[5]?arguments[5]:3,s=arguments[6]||null==arguments[6]?!0:!1,o=arguments[7]||null==arguments[7]?!0:!1,n=arguments[8]||null==arguments[8]?!0:!1,l=arguments[9]||null==arguments[9]?!0:!1;e.beginPath(),e.moveTo(a+(s?t:0),r),e.lineTo(a+i-(o?t:0),r),o&&e.arc(a+i-t,r+t,t,PI+HALFPI,TWOPI,!1),e.lineTo(a+i,r+h-(n?t:0)),n&&e.arc(a+i-t,r-t+h,t,TWOPI,HALFPI,!1),e.lineTo(a+(l?t:0),r+h),l&&e.arc(a+t,r-t+h,t,HALFPI,PI,!1),e.lineTo(a,r+(s?t:0)),s&&e.arc(a+t,r+t,t,PI,PI+HALFPI,!1),e.stroke()},RGraph.filledCurvyRect=function(e,a,r,h,i){var t=arguments[5]?arguments[5]:3,s=arguments[6]||null==arguments[6]?!0:!1,o=arguments[7]||null==arguments[7]?!0:!1,n=arguments[8]||null==arguments[8]?!0:!1,l=arguments[9]||null==arguments[9]?!0:!1;e.beginPath(),s?(e.moveTo(a+t,r+t),e.arc(a+t,r+t,t,PI,PI+HALFPI,!1)):e.fillRect(a,r,t,t),o?(e.moveTo(a+h-t,r+t),e.arc(a+h-t,r+t,t,PI+HALFPI,0,!1)):(e.moveTo(a+h-t,r),e.fillRect(a+h-t,r,t,t)),n?(e.moveTo(a+h-t,r+i-t),e.arc(a+h-t,r-t+i,t,0,HALFPI,!1)):(e.moveTo(a+h-t,r+i-t),e.fillRect(a+h-t,r+i-t,t,t)),l?(e.moveTo(a+t,r+i-t),e.arc(a+t,r-t+i,t,HALFPI,PI,!1)):(e.moveTo(a,r+i-t),e.fillRect(a,r+i-t,t,t)),e.fillRect(a+t,r,h-t-t,i),e.fillRect(a,r+t,t+1,i-t-t),e.fillRect(a+h-t-1,r+t,t+1,i-t-t),e.fill()},RGraph.HideZoomedCanvas=function(){var t=15,e=10;if("object"==typeof __zoomedimage__){var h=__zoomedimage__.obj,r=h.properties;if(r["chart.zoom.fade.out"]){for(var a=e,i=1;a>=0;--a,++i)"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.opacity = "+String(a/10),i*t);"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.opacity = "+String(a/e),i*t)}"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.display = 'none'",r["chart.zoom.fade.out"]?e*t+10:0),"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.display = 'none'",r["chart.zoom.fade.out"]?e*t+10:0)}},RGraph.AddCustomEventListener=function(t,a,r){var e=RGraph;return"undefined"==typeof e.events[t.uid]&&(e.events[t.uid]=[]),e.events[t.uid].push([t,a,r]),e.events[t.uid].length-1},RGraph.FireCustomEvent=function(t,i){var e=RGraph;if(t&&t.isRGraph){t[i]&&t[i](t);var a=t.uid;if("string"==typeof a&&"object"==typeof e.events&&"object"==typeof e.events[a]&&e.events[a].length>0)for(var r=0;r<e.events[a].length;++r)e.events[a][r]&&e.events[a][r][1]==i&&e.events[a][r][2](t)}},RGraph.SetConfig=function(t,e){for(i in e)"string"==typeof i&&t.Set(i,e[i]);return t},RGraph.RemoveAllCustomEventListeners=function(){var t=RGraph,e=arguments[0];e&&t.events[e]?t.events[e]=[]:t.events=[]},RGraph.RemoveCustomEventListener=function(e,a){var t=RGraph;"object"==typeof t.events&&"object"==typeof t.events[e.id]&&"object"==typeof t.events[e.id][a]&&(t.events[e.id][a]=null)},RGraph.DrawBackgroundImage=function(a){var e=a.properties,r=a.canvas,g=a.context,n=RGraph;if("string"==typeof e["chart.background.image"]){if("undefined"==typeof r.__rgraph_background_image__){var t=new Image;t.__object__=a,t.__canvas__=r,t.__context__=g,t.src=a.Get("chart.background.image"),r.__rgraph_background_image__=t}else t=r.__rgraph_background_image__;t.onload=function(){a.__rgraph_background_image_loaded__=!0,n.Clear(r),n.RedrawCanvas(r)};var s=a.gutterLeft,o=a.gutterRight,i=a.gutterTop,l=a.gutterBottom,c=e["chart.background.image.stretch"],h=e["chart.background.image.align"];if("string"==typeof h){if(-1!=h.indexOf("right"))var d=r.width-t.width-o;else var d=s;if(-1!=h.indexOf("bottom"))var u=r.height-t.height-l;else var u=i}else var d=s,u=i;var d="number"==typeof e["chart.background.image.x"]?e["chart.background.image.x"]:d,u="number"==typeof e["chart.background.image.y"]?e["chart.background.image.y"]:u,p=c?r.width-s-o:t.width,f=c?r.height-i-l:t.height;"number"==typeof e["chart.background.image.w"]&&(p=e["chart.background.image.w"]),"number"==typeof e["chart.background.image.h"]&&(f=e["chart.background.image.h"]),g.drawImage(t,d,u,p,f)}},RGraph.hasTooltips=function(a){var t=a.properties;if("object"==typeof t["chart.tooltips"]&&t["chart.tooltips"]){for(var e=0,r=t["chart.tooltips"].length;r>e;++e)if(!RGraph.is_null(a.Get("chart.tooltips")[e]))return!0}else if("function"==typeof t["chart.tooltips"])return!0;return!1},RGraph.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),a="x"==e?t:8|3&t;return a.toString(16)})},RGraph.ObjectRegistry.Add=function(t){var a=t.uid,r=t.canvas.id,e=RGraph;e.ObjectRegistry.objects.byUID.push([a,t]),e.ObjectRegistry.objects.byCanvasID.push([r,t])},RGraph.ObjectRegistry.Remove=function(a){a.id;for(var r=a.uid,e=RGraph,t=0;t<e.ObjectRegistry.objects.byUID.length;++t)e.ObjectRegistry.objects.byUID[t]&&e.ObjectRegistry.objects.byUID[t][1].uid==r&&(e.ObjectRegistry.objects.byUID[t]=null);for(var t=0;t<e.ObjectRegistry.objects.byCanvasID.length;++t)e.ObjectRegistry.objects.byCanvasID[t]&&e.ObjectRegistry.objects.byCanvasID[t][1]&&e.ObjectRegistry.objects.byCanvasID[t][1].uid==r&&(e.ObjectRegistry.objects.byCanvasID[t]=null)},RGraph.ObjectRegistry.Clear=function(){var t=RGraph;if(arguments[0])for(var r="object"==typeof arguments[0]?arguments[0].id:arguments[0],a=t.ObjectRegistry.getObjectsByCanvasID(r),e=0;e<a.length;++e)t.ObjectRegistry.Remove(a[e]);else t.ObjectRegistry.objects={},t.ObjectRegistry.objects.byUID=[],t.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.List=function(){for(var e=[],a=RGraph,t=0,r=a.ObjectRegistry.objects.byUID.length;r>t;++t)a.ObjectRegistry.objects.byUID[t]&&e.push(a.ObjectRegistry.objects.byUID[t][1].type);return arguments[0]?e:(p(e),void 0)},RGraph.ObjectRegistry.ClearByType=function(i){for(var r=RGraph,e=r.ObjectRegistry.objects.byUID,t=0;t<e.length;++t)if(e[t]){e[t][0];var a=e[t][1];a&&a.type==i&&r.ObjectRegistry.Remove(a)}},RGraph.ObjectRegistry.Iterate=function(r){for(var e=RGraph.ObjectRegistry.objects.byUID,t=0;t<e.length;++t)if("string"==typeof arguments[1])for(var i=arguments[1].split(/,/),a=0;a<i.length;++a)i[a]==e[t][1].type&&r(e[t][1]);else r(e[t][1])},RGraph.ObjectRegistry.getObjectsByCanvasID=function(r){for(var e=RGraph.ObjectRegistry.objects.byCanvasID,a=[],t=0;t<e.length;++t)e[t]&&e[t][0]==r&&a.push(e[t][1]);return a},RGraph.ObjectRegistry.getFirstObjectByXY=RGraph.ObjectRegistry.getObjectByXY=function(e){for(var i=e.target,a=RGraph.ObjectRegistry.getObjectsByCanvasID(i.id),t=a.length-1;t>=0;--t){var r=a[t].getObjectByXY(e);if(r)return r}},RGraph.ObjectRegistry.getObjectsByXY=function(e){for(var h=e.target,a=[],r=RGraph.ObjectRegistry.getObjectsByCanvasID(h.id),t=r.length-1;t>=0;--t){var i=r[t].getObjectByXY(e);i&&a.push(i)}return a},RGraph.ObjectRegistry.getObjectByUID=function(a){for(var e=RGraph.ObjectRegistry.objects.byUID,t=0;t<e.length;++t)if(e[t]&&e[t][1].uid==a)return e[t][1]},RGraph.ObjectRegistry.bringToFront=function(t){var e="undefined"==typeof arguments[1]?!0:arguments[1];
RGraph.ObjectRegistry.Remove(t),RGraph.ObjectRegistry.Add(t),e&&RGraph.RedrawCanvas(t.canvas)},RGraph.ObjectRegistry.getObjectsByType=function(r){for(var e=RGraph.ObjectRegistry.objects.byUID,a=[],t=0;t<e.length;++t)e[t]&&e[t][1]&&e[t][1].type&&e[t][1].type&&e[t][1].type==r&&a.push(e[t][1]);return a},RGraph.ObjectRegistry.getFirstObjectByType=function(a){for(var e=RGraph.ObjectRegistry.objects.byUID,t=0;t<e.length;++t)if(e[t]&&e[t][1]&&e[t][1].type==a)return e[t][1];return null},RGraph.getAngleByXY=function(e,a,r,i){var t=Math.atan((i-a)/(r-e));return t=Math.abs(t),r>=e&&i>=a?t+=TWOPI:r>=e&&a>i?t=HALFPI-t+(PI+HALFPI):e>r&&a>i?t+=PI:t=PI-t,t>TWOPI&&(t-=TWOPI),t},RGraph.getHypLength=function(t,e,a,r){var i=Math.sqrt((a-t)*(a-t)+(r-e)*(r-e));return i},RGraph.getRadiusEndPoint=function(a,r,t,e){var i=a+Math.cos(t)*e,h=r+Math.sin(t)*e;return[i,h]},RGraph.InstallEventListeners=function(t){var e=RGraph,a=t.properties;ISOLD||(e.InstallCanvasClickListener?(e.InstallWindowMousedownListener(t),e.InstallWindowMouseupListener(t),e.InstallCanvasMousemoveListener(t),e.InstallCanvasMouseupListener(t),e.InstallCanvasMousedownListener(t),e.InstallCanvasClickListener(t)):(e.hasTooltips(t)||a["chart.adjustable"]||a["chart.annotatable"]||a["chart.contextmenu"]||a["chart.resizable"]||a["chart.key.interactive"]||a["chart.events.click"]||a["chart.events.mousemove"]||"function"==typeof t.onclick||"function"==typeof t.onmousemove)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RGraph.pr=function(e){var a=arguments[2]?arguments[2]:"    ",t="",r="number"==typeof arguments[3]?arguments[3]:0;if(r>=5)return"";switch(typeof e){case"string":t+=e+" ("+typeof e+", "+e.length+")";break;case"number":t+=e+" ("+typeof e+")";break;case"boolean":t+=e+" ("+typeof e+")";break;case"function":t+="function () {}";break;case"undefined":t+="undefined";break;case"null":t+="null";break;case"object":if(RGraph.is_null(e))t+=a+"null\n";else{t+=a+"Object {"+"\n";for(j in e)t+=a+"    "+j+" => "+RGraph.pr(e[j],!0,a+"    ",r+1)+"\n";t+=a+"}"}break;default:t+="Unknown type: "+typeof e}return arguments[1]||alert(t),t},RGraph.DashedLine=function(o,e,t,l,n){var s=5;"number"==typeof arguments[5]&&(s=arguments[5]);var a=l-e,i=n-t,r=Math.floor(Math.sqrt(a*a+i*i)/s),c=a/r,g=i/r,h=0;do 0==h%2&&h>0?o.lineTo(e,t):o.moveTo(e,t),e+=c,t+=g;while(h++<=r)},RGraph.AJAX=function(e,a){if(window.XMLHttpRequest)var t=new XMLHttpRequest;else if(window.ActiveXObject)var t=new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=a,this.__user_callback__(this.responseText))},t.open("GET",e,!0),t.send()},RGraph.AJAX.POST=function(r,e,h){var a=[];if(window.XMLHttpRequest)var t=new XMLHttpRequest;else if(window.ActiveXObject)var t=new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=h,this.__user_callback__(this.responseText))},t.open("POST",r,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(i in e)"string"==typeof i&&a.push(i+"="+encodeURIComponent(e[i]));t.send(a.join("&"))},RGraph.AJAX.getNumber=function(t,e){RGraph.AJAX(t,function(){var t=parseFloat(this.responseText);e(t)})},RGraph.AJAX.getString=function(t,e){RGraph.AJAX(t,function(){var t=String(this.responseText);e(t)})},RGraph.AJAX.getJSON=function(url,callback){RGraph.AJAX(url,function(){var json=eval("("+this.responseText+")");callback(json)})},RGraph.AJAX.getCSV=function(t,e){var a=arguments[2]?arguments[2]:",";RGraph.AJAX(t,function(){for(var i=new RegExp(a),t=this.responseText.split(i),r=0,h=t.length;h>r;++r)t[r]=parseFloat(t[r]);e(t)})},RGraph.RotateCanvas=function(r,e,a,i){var t=r.getContext("2d");t.translate(e,a),t.rotate(i),t.translate(0-e,0-a)},RGraph.MeasureText=function(r,i,h,e){"undefined"==typeof __rgraph_measuretext_cache__&&(__rgraph_measuretext_cache__=[]);var a=r+":"+i+":"+h+":"+e;if("object"==typeof __rgraph_measuretext_cache__&&__rgraph_measuretext_cache__[a])return __rgraph_measuretext_cache__[a];if(__rgraph_measuretext_cache__["text-div"]){if(__rgraph_measuretext_cache__["text-div"])var t=__rgraph_measuretext_cache__["text-div"]}else{var t=document.createElement("DIV");t.style.position="absolute",t.style.top="-100px",t.style.left="-100px",document.body.appendChild(t),__rgraph_measuretext_cache__["text-div"]=t}t.innerHTML=r.replace(/\r\n/g,"<br />"),t.style.fontFamily=h,t.style.fontWeight=i?"bold":"normal",t.style.fontSize=e+"pt";var e=[t.offsetWidth,t.offsetHeight];return __rgraph_measuretext_cache__[a]=e,e},RGraph.Text2=function(g,r){if(g&&g.isRGraph)var e=g.context,k=g.canvas;else if("string"==typeof g)var k=document.getElementById(g),e=k.getContext("2d");else if("function"==typeof g.getContext)var k=g,e=k.getContext("2d");else if(-1!=g.toString().indexOf("CanvasRenderingContext2D"))var e=g,k=g.context;var u=r.x,d=r.y,l=u,c=d,v=r.text,w=v.split(/\r?\n/g),y=w.length,M=r.font?r.font:"Arial",R=r.size?r.size:10,b=1.5*R;r.bold;var p=r.halign?r.halign:"left",n=r.valign?r.valign:"bottom",C="string"==typeof r.tag&&r.tag.length>0?r.tag:"";r.marker;var x=r.angle||0;"string"==typeof r.boundingFill&&(r["bounding.fill"]=r.boundingFill),"string"==typeof r.boundingStroke&&(r["bounding.stroke"]=r.boundingStroke);var S=r.bounding,z=r["bounding.stroke"]?r["bounding.stroke"]:"black",I=r["bounding.fill"]?r["bounding.fill"]:"rgba(255,255,255,0.7)",E=r["bounding.shadow"],Y=r["bounding.shadow.color"]||"#ccc",L=r["bounding.shadow.blur"]||3,B=r["bounding.shadow.offsetx"]||3,G=r["bounding.shadow.offsety"]||3,T=r["bounding.linewidth"]||1,f={};if("number"==typeof v&&(v=String(v)),"string"!=typeof v)return alert("[RGRAPH TEXT] The text given must a string or a number"),void 0;0!=x&&(e.save(),e.translate(u,d),e.rotate(Math.PI/180*x),u=0,d=0),e.font=(r.bold?"bold ":"")+R+"pt "+M;for(var t=0,m=0;y>m;++m)t=Math.max(t,e.measureText(w[m]).width);var a=b*y;if(r.marker){var _=10,P=e.strokeStyle;e.beginPath(),e.strokeStyle="red",e.moveTo(u,d-_),e.lineTo(u,d+_),e.moveTo(u-_,d),e.lineTo(u+_,d),e.stroke(),e.strokeStyle=P}if("center"==p){e.textAlign="center";var o=u-2-t/2}else if("right"==p){e.textAlign="right";var o=u-2-t}else{e.textAlign="left";var o=u-2}if("center"==n){e.textBaseline="middle",d-=1,d-=(y-1)/2*b;var s=d-b/2-2}else if("top"==n){e.textBaseline="top";var s=d-2}else{e.textBaseline="bottom",y>1&&(d-=(y-1)*b);var s=d-b-2}var h=t+4,i=a+4;if(S){var D=e.lineWidth,F=e.strokeStyle,j=e.fillStyle,O=e.shadowColor,W=e.shadowBlur,H=e.shadowOffsetX,A=e.shadowOffsetY;e.lineWidth=T,e.strokeStyle=z,e.fillStyle=I,E&&(e.shadowColor=Y,e.shadowBlur=L,e.shadowOffsetX=B,e.shadowOffsetY=G),e.strokeRect(o,s,h,i),e.fillRect(o,s,h,i),e.lineWidth=D,e.strokeStyle=F,e.fillStyle=j,e.shadowColor=O,e.shadowBlur=W,e.shadowOffsetX=H,e.shadowOffsetY=A}if(y>1)for(var m=0;y>m;++m)e.fillText(w[m],u,d+b*m);else e.fillText(v,u,d);return 0!=x&&(90==x?"left"==p?("bottom"==n&&(o=l-2,s=c-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-2,s=c-2,h=a+4,i=t+4),"top"==n&&(o=l-a-2,s=c-2,h=a+4,i=t+4)):"center"==p?("bottom"==n&&(o=l-2,s=c-t/2-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-2,s=c-t/2-2,h=a+4,i=t+4),"top"==n&&(o=l-a-2,s=c-t/2-2,h=a+4,i=t+4)):"right"==p&&("bottom"==n&&(o=l-2,s=c-t-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-2,s=c-t-2,h=a+4,i=t+4),"top"==n&&(o=l-a-2,s=c-t-2,h=a+4,i=t+4)):180==x?"left"==p?("bottom"==n&&(o=l-t-2,s=c-2,h=t+4,i=a+4),"center"==n&&(o=l-t-2,s=c-a/2-2,h=t+4,i=a+4),"top"==n&&(o=l-t-2,s=c-a-2,h=t+4,i=a+4)):"center"==p?("bottom"==n&&(o=l-t/2-2,s=c-2,h=t+4,i=a+4),"center"==n&&(o=l-t/2-2,s=c-a/2-2,h=t+4,i=a+4),"top"==n&&(o=l-t/2-2,s=c-a-2,h=t+4,i=a+4)):"right"==p&&("bottom"==n&&(o=l-2,s=c-2,h=t+4,i=a+4),"center"==n&&(o=l-2,s=c-a/2-2,h=t+4,i=a+4),"top"==n&&(o=l-2,s=c-a-2,h=t+4,i=a+4)):270==x&&("left"==p?("bottom"==n&&(o=l-a-2,s=c-t-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-4,s=c-t-2,h=a+4,i=t+4),"top"==n&&(o=l-2,s=c-t-2,h=a+4,i=t+4)):"center"==p?("bottom"==n&&(o=l-a-2,s=c-t/2-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-4,s=c-t/2-2,h=a+4,i=t+4),"top"==n&&(o=l-2,s=c-t/2-2,h=a+4,i=t+4)):"right"==p&&("bottom"==n&&(o=l-a-2,s=c-2,h=a+4,i=t+4),"center"==n&&(o=l-a/2-2,s=c-2,h=a+4,i=t+4),"top"==n&&(o=l-2,s=c-2,h=a+4,i=t+4))),e.restore()),e.textBaseline="alphabetic",e.textAlign="left",f.x=o,f.y=s,f.width=h,f.height=i,f.object=g,f.text=v,f.tag=C,g&&g.isRGraph&&g.coordsText&&g.coordsText.push(f),f},RGraph.sequentialIndexToGrouped=function(r,a){for(var t=0,e=0;--r>=0;)RGraph.is_null(a[t])?(t++,e=0):"number"!=typeof a[t]?(e++,e>=a[t].length&&(t++,e=0)):(t++,e=0);return[t,e]},Array.prototype.forEach||(Array.prototype.forEach=function(e,a){for(var t=0,r=this.length;r>t;++t)e.call(a,this[t],t,this)}),RGraph.Highlight.Rect=function(a,t){a.canvas;var e=a.context,r=a.properties;r["chart.tooltips.highlight"]&&(e.lineWidth=1,e.beginPath(),e.strokeStyle=r["chart.highlight.stroke"],e.fillStyle=r["chart.highlight.fill"],e.strokeRect(t.x,t.y,t.width,t.height),e.fillRect(t.x,t.y,t.width,t.height),e.stroke,e.fill())},RGraph.Highlight.Point=function(a,r){var e=a.properties;a.canvas;var t=a.context;if(e["chart.tooltips.highlight"]){t.beginPath(),t.strokeStyle=e["chart.highlight.stroke"],t.fillStyle=e["chart.highlight.fill"];var i=e["chart.highlight.point.radius"]||2;t.arc(r.x,r.y,i,0,TWOPI,0),t.stroke(),t.fill()}},RGraph.LinearGradient=function(a,r,i,h,s){for(var e=a.context.createLinearGradient(r,i,h,s),o=arguments.length-5,t=5;t<arguments.length;++t){var n=arguments[t],l=(t-5)/(o-1);e.addColorStop(l,n)}return e},RGraph.RadialGradient=function(o,s,l,r,i,h,a){for(var e=o.context.createRadialGradient(s,l,r,i,h,a),n=arguments.length-7,t=7;t<arguments.length;++t){var c=arguments[t],g=(t-7)/(n-1);e.addColorStop(g,c)}return e},RGraph.array_shift=function(e){for(var a=[],t=1;t<e.length;++t)a.push(e[t]);return a},RGraph.AddEventListener=function(t,e,a){var r=arguments[3]?arguments[3]:"unknown";RGraph.Registry.Get("chart.event.handlers").push([t,e,a,r])},RGraph.ClearEventListeners=function(e){if(e&&"window"==e)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var t=document.getElementById(e);t.removeEventListener("mouseup",t.__rgraph_mouseup_event_listener_installed__,!1),t.removeEventListener("mousemove",t.__rgraph_mousemove_event_listener_installed__,!1),t.removeEventListener("mousedown",t.__rgraph_mousedown_event_listener_installed__,!1),t.removeEventListener("click",t.__rgraph_click_event_listener_installed__,!1)}},RGraph.HidePalette=function(){var t=RGraph.Registry.Get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",RGraph.Registry.Set("palette",null))},RGraph.random=function(t,e){var a=arguments[2]?arguments[2]:0,r=Math.random();return Number(((e-t)*r+t).toFixed(a))},RGraph.NoShadow=function(t){t.context.shadowColor="rgba(0,0,0,0)",t.context.shadowBlur=0,t.context.shadowOffsetX=0,t.context.shadowOffsetY=0},RGraph.SetShadow=function(t,e,a,r,i){t.context.shadowColor=e,t.context.shadowOffsetX=a,t.context.shadowOffsetY=r,t.context.shadowBlur=i},RGraph.array_reverse=function(e){for(var a=[],t=e.length-1;t>=0;t--)a.push(e[t]);return a},RGraph.Registry.Set=function(e,t){return RGraph.Registry.store[e]=t,t},RGraph.Registry.Get=function(t){return RGraph.Registry.store[t]},RGraph.degrees2Radians=function(t){return t*(PI/180)},RGraph.log=function(){var t=Math.log;return function(a,e){return t(a)/(e?t(e):1)}}(),RGraph.is_array=function(t){return null!=t&&-1!=t.constructor.toString().indexOf("Array")},RGraph.trim=function(t){return RGraph.ltrim(RGraph.rtrim(t))},RGraph.ltrim=function(t){return t.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(t){return t.replace(/(\s|\0)+$/,"")},RGraph.GetHeight=function(t){return t.canvas.height},RGraph.GetWidth=function(t){return t.canvas.width},RGraph.is_null=function(t){return null==t||"object"==typeof t&&!t?!0:!1},RGraph.Timer=function(e){"undefined"==typeof RGraph.TIMER_LAST_CHECKPOINT&&(RGraph.TIMER_LAST_CHECKPOINT=Date.now());var t=Date.now();console.log(e+": "+(t-RGraph.TIMER_LAST_CHECKPOINT).toString()),RGraph.TIMER_LAST_CHECKPOINT=t},RGraph.Async=function(t){return setTimeout(t,arguments[1]?arguments[1]:1)},RGraph.isIE=function(){return navigator.userAgent.indexOf("MSIE")>0},ISIE=RGraph.isIE(),RGraph.isIE6=function(){return navigator.userAgent.indexOf("MSIE 6")>0},ISIE6=RGraph.isIE6(),RGraph.isIE7=function(){return navigator.userAgent.indexOf("MSIE 7")>0},ISIE7=RGraph.isIE7(),RGraph.isIE8=function(){return navigator.userAgent.indexOf("MSIE 8")>0},ISIE8=RGraph.isIE8(),RGraph.isIE9=function(){return navigator.userAgent.indexOf("MSIE 9")>0},ISIE9=RGraph.isIE9(),RGraph.isIE10=function(){return navigator.userAgent.indexOf("MSIE 10")>0},ISIE10=RGraph.isIE10(),RGraph.isIE9up=function(){return navigator.userAgent.match(/MSIE (\d+)/),Number(RegExp.$1)>=9},ISIE9UP=RGraph.isIE9up(),RGraph.isIE10up=function(){return navigator.userAgent.match(/MSIE (\d+)/),Number(RegExp.$1)>=10},ISIE10UP=RGraph.isIE10up(),RGraph.isOld=function(){return ISIE6||ISIE7||ISIE8},ISOLD=RGraph.isOld(),RGraph.Reset=function(t){t.width=t.width,RGraph.ObjectRegistry.Clear(t),t.__rgraph_aa_translated__=!1},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.InstallWindowMousedownListener=function(){if(!window.__rgraph_mousedown_event_listener_installed__){var t=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t),"function"==typeof window.onmousedown_rgraph&&window.onmousedown_rgraph(t),RGraph.HideTooltip&&RGraph.Registry.Get("chart.tooltip")&&(RGraph.Clear(RGraph.Registry.Get("chart.tooltip").__canvas__),RGraph.Redraw(),RGraph.HideTooltip())};window.addEventListener("mousedown",t,!1),window.__rgraph_mousedown_event_listener_installed__=t}},RGraph.InstallWindowMouseupListener=function(){if(!window.__rgraph_mouseup_event_listener_installed__){var t=function(a){if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=a),a=RGraph.FixEventObject(a),RGraph.Annotating_window_onmouseup)return RGraph.Annotating_window_onmouseup(a),void 0;"function"==typeof window.onmouseup_rgraph&&window.onmouseup_rgraph(a),(RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend"),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null);for(var e=document.getElementsByTagName("canvas"),t=0;t<e.length;++t)if(e[t].__object__&&e[t].__object__.isRGraph&&!e[t].__object__.Get("chart.annotatable"))if(e[t].__rgraph_trace_cover__||r)var r=!0;else RGraph.Clear(e[t]);r||RGraph.Redraw()};window.addEventListener("mouseup",t,!1),window.__rgraph_mouseup_event_listener_installed__=t}},RGraph.InstallCanvasMouseupListener=function(t){if(!t.canvas.__rgraph_mouseup_event_listener_installed__){var e=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t),"function"==typeof t.target.onmouseup_rgraph&&t.target.onmouseup_rgraph(t);var r=RGraph.ObjectRegistry.getObjectsByXY(t);if(r)for(var i=0;i<r.length;++i){var a=r[i];if(r[i].id,!RGraph.is_null(a)&&RGraph.Tooltip){var e=a.getShape(t);if(e&&e.tooltip){var s=e.tooltip;if(s){var h=e.object.type;if("line"==h||"rscatter"==h||"scatter"==h&&!a.Get("chart.boxplot")||"radar"==h)var o=RGraph.getCanvasXY(a.canvas),n=o[0]+e.x,l=o[1]+e.y;else var n=t.pageX,l=t.pageY;return RGraph.Clear(a.canvas),RGraph.Redraw(),a.Highlight(e),RGraph.Registry.Set("chart.tooltip.shape",e),RGraph.Tooltip(a,s,n,l,e.index,t),RGraph.Registry.Get("chart.tooltip")&&(RGraph.Registry.Get("chart.tooltip").__shape__=e,RGraph.EvaluateCursor(t)),t.cancelBubble=!0,t.stopPropagation(),!1}}}if((RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend"),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null),e||a.overChartArea&&a.overChartArea(t))break}};t.canvas.addEventListener("mouseup",e,!1),t.canvas.__rgraph_mouseup_event_listener_installed__=e}},RGraph.InstallCanvasMousemoveListener=function(t){if(!t.canvas.__rgraph_mousemove_event_listener_installed__){var e=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t),"function"==typeof t.target.onmousemove_rgraph&&t.target.onmousemove_rgraph(t);var r=RGraph.ObjectRegistry.getObjectsByXY(t);if(r&&r.length)for(var h=0;h<r.length;++h){var e=r[h];if(e.id,e.getShape){var a=e.getShape(t),i=e.Get("chart.events.mousemove");if(!i&&"function"==typeof e.onmousemove)var i=e.onmousemove;if(a){var s="scatter"==a.object.type?a.index_adjusted:a.index;if("object"==typeof e["$"+s]&&"function"==typeof e["$"+s].onmousemove)var o=e["$"+s].onmousemove}if(!a||"function"!=typeof i&&"function"!=typeof o?"string"==typeof e.Get("chart.events.mousemove.revertto")&&(RGraph.cursor.push("default"),e.Set("chart.events.mousemove.revertto",null)):(null==e.Get("chart.events.mousemove.revertto")&&e.Set("chart.events.mousemove.revertto",t.target.style.cursor),"function"==typeof i&&i(t,a),"function"==typeof o&&o(t,a)),a&&(e.Get("chart.tooltips")&&e.Get("chart.tooltips")[a.index]||a.tooltip)&&("onmousemove"==e.Get("chart.tooltips.event")||"mousemove"==e.Get("chart.tooltips.event"))&&(RGraph.is_null(RGraph.Registry.Get("chart.tooltip"))||RGraph.Registry.Get("chart.tooltip").__index__!=a.index||"number"==typeof a.dataset&&a.dataset!=RGraph.Registry.Get("chart.tooltip").__shape__.dataset||e.uid!=RGraph.Registry.Get("chart.tooltip").__object__.uid))return RGraph.Clear(e.canvas),RGraph.Redraw(),e.canvas.__rgraph_mouseup_event_listener_installed__(t),void 0;if(e&&e.Get("chart.adjustable")&&e.Adjusting_mousemove(t),a||e.overChartArea&&e.overChartArea(t))break}}t.target&&t.target.__object__&&t.target.__object__.Get("chart.crosshairs")&&RGraph.DrawCrosshairs(t,t.target.__object__),"function"==typeof InteractiveKey_line_mousemove&&InteractiveKey_line_mousemove(t),"function"==typeof InteractiveKey_pie_mousemove&&InteractiveKey_pie_mousemove(t),t.target.__object__&&t.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousemove&&RGraph.Annotating_canvas_onmousemove(t),RGraph.EvaluateCursor(t)};t.canvas.addEventListener("mousemove",e,!1),t.canvas.__rgraph_mousemove_event_listener_installed__=e}},RGraph.InstallCanvasMousedownListener=function(t){if(!t.canvas.__rgraph_mousedown_event_listener_installed__){var e=function(e){if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=e),e=RGraph.FixEventObject(e),"function"==typeof e.target.onmousedown_rgraph&&e.target.onmousedown_rgraph(e),e.target.__object__&&e.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousedown)return RGraph.Annotating_canvas_onmousedown(e),void 0;var t=RGraph.ObjectRegistry.getObjectByXY(e);if(t){if(t.id,t&&t.isRGraph&&t.Get("chart.adjustable")){var t=RGraph.ObjectRegistry.getObjectByXY(e);if(t&&t.isRGraph){switch(t.type){case"bar":var a=t.getShapeByX(e);break;case"gantt":var a=t.getShape(e);if(a){var r=RGraph.getMouseXY(e);RGraph.Registry.Set("chart.adjusting.gantt",{index:a.index,object:t,mousex:r[0],mousey:r[1],event_start:t.data[a.index][0],event_duration:t.data[a.index][1],mode:r[0]>a.x+a.width-5?"resize":"move",shape:a})}break;case"line":var a=t.getShape(e);break;default:var a=null}RGraph.Registry.Set("chart.adjusting.shape",a),RGraph.FireCustomEvent(t,"onadjustbegin"),RGraph.Registry.Set("chart.adjusting",t),RGraph.Clear(t.canvas),RGraph.Redraw(),t.canvas.__rgraph_mousemove_event_listener_installed__(e)}}RGraph.Clear(t.canvas),RGraph.Redraw()}};t.canvas.addEventListener("mousedown",e,!1),t.canvas.__rgraph_mousedown_event_listener_installed__=e}},RGraph.InstallCanvasClickListener=function(t){if(!t.canvas.__rgraph_click_event_listener_installed__){var e=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t),"function"==typeof t.target.onclick_rgraph&&t.target.onclick_rgraph(t);for(var s=RGraph.ObjectRegistry.getObjectsByXY(t),i=0;i<s.length;++i){var e=s[i];e.id;var a=e.getShape(t),r=e.Get("chart.events.click");if(r||"function"!=typeof e.onclick||(r=e.onclick),a&&"function"==typeof r)return r(t,a),void 0;if(a){var h="scatter"==a.object.type?a.index_adjusted:a.index;if("number"==typeof h&&e["$"+h]){var r=e["$"+h].onclick;if("function"==typeof r)return r(t,a),void 0}}if(a||e.overChartArea&&e.overChartArea(t))break}};t.canvas.addEventListener("click",e,!1),t.canvas.__rgraph_click_event_listener_installed__=e}},RGraph.EvaluateCursor=function(e){for(var d=RGraph.getMouseXY(e),o=d[0],n=d[1],p=e.target,i=RGraph.ObjectRegistry.getObjectsByCanvasID(p.id),a=0;a<i.length;++a)if(i[a].getShape&&i[a].getShape(e)||i[a].overChartArea&&i[a].overChartArea(e)){var t=i[a];t.id}if(!RGraph.is_null(t)){if(t.getShape&&t.getShape(e)){var h=t.getShape(e);if(t.Get("chart.tooltips")){var l=RGraph.parseTooltipText(t.Get("chart.tooltips"),h.index);if(!l&&"scatter"==h.object.type&&h.index_adjusted&&(l=RGraph.parseTooltipText(t.Get("chart.tooltips"),h.index_adjusted)),l)var g=!0}}if(!RGraph.is_null(t)&&t.Get("chart.key.interactive"))for(var s=0;s<t.coords.key.length;++s)if(o>t.coords.key[s][0]&&o<t.coords.key[s][0]+t.coords.key[s][2]&&n>t.coords.key[s][1]&&n<t.coords.key[s][1]+t.coords.key[s][3])var g=!0}if(!RGraph.is_null(h)&&!RGraph.is_null(t)){if(!RGraph.is_null(t.Get("chart.events.mousemove"))&&"function"==typeof t.Get("chart.events.mousemove")){var r=t.Get("chart.events.mousemove").toString();if(r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/))var g=!0}if(!RGraph.is_null(t.onmousemove)&&"function"==typeof t.onmousemove){var r=t.onmousemove.toString();if(r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/))var g=!0}var c="scatter"==h.object.type?h.index_adjusted:h.index;if(!RGraph.is_null(t["$"+c])&&"function"==typeof t["$"+c].onmousemove){var r=t["$"+c].onmousemove.toString();if(r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/))var g=!0}}for(var i=RGraph.ObjectRegistry.objects.byCanvasID,a=0;a<i.length;++a)if(i[a]&&i[a][1].Get("chart.resizable"))var u=!0;u&&o>e.target.width-32&&n>e.target.height-16&&(g=!0),e.target.style.cursor=g?"pointer":"pointer"==e.target.style.cursor?"default":null,u&&o>=e.target.width-15&&n>=e.target.height-15&&(e.target.style.cursor="move"),"boolean"==typeof mouse_over_key&&mouse_over_key&&(e.target.style.cursor="pointer"),t&&"gantt"==t.type&&t.Get("chart.adjustable")&&(e.target.style.cursor=t.getShape&&t.getShape(e)?"ew-resize":"default"),t&&"line"==t.type&&t.Get("chart.adjustable")&&(e.target.style.cursor=t.getShape&&t.getShape(e)?"ns-resize":"default"),e.target.__object__&&e.target.__object__.Get("chart.annotatable")&&(e.target.style.cursor="crosshair")},RGraph.parseTooltipText=function(t,e){if(!t)return null;if("function"==typeof t)var a=t(e);else if("string"==typeof t)var a=t;else if("object"==typeof t&&"function"==typeof t[e])var a=t[e](e);else if("string"==typeof t[e]&&t[e])var a=t[e];else var a="";return"undefined"==a?a="":"null"==a&&(a=""),RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(a):a},RGraph.DrawCrosshairs=function(g,t){var g=RGraph.FixEventObject(g),x=t.canvas.width,v=t.canvas.height,b=RGraph.getMouseXY(g),i=b[0],h=b[1],c=t.gutterLeft,m=t.gutterRight,p=t.gutterTop,y=t.gutterBottom,a=t.properties;if(RGraph.RedrawCanvas(t.canvas),i>=c&&h>=p&&x-m>=i&&v-y>=h){var _=a["chart.crosshairs.linewidth"]?a["chart.crosshairs.linewidth"]:1;if(t.context.lineWidth=_?_:1,t.context.beginPath(),t.context.strokeStyle=a["chart.crosshairs.color"],a["chart.crosshairs.snap"]){var s=null,d=null,u=null;if("line"==t.type){for(var r=0;r<t.coords.length;++r){var u=RGraph.getHypLength(t.coords[r][0],t.coords[r][1],i,h);if("number"!=typeof d||d>u)var s=r,d=u}i=t.coords[s][0],h=t.coords[s][1];for(var o=0;o<t.coords2.length;++o)for(var s=0;s<t.coords2[o].length;++s)t.coords2[o][s][0]==i&&t.coords2[o][s][1]==h&&(t.canvas.__crosshairs_snap_dataset__=o,t.canvas.__crosshairs_snap_point__=s)}else{for(var r=0;r<t.coords.length;++r)for(var l=0;l<t.coords[r].length;++l){var u=RGraph.getHypLength(t.coords[r][l][0],t.coords[r][l][1],i,h);if("number"!=typeof d||d>u)var o=r,s=l,d=u}t.canvas.__crosshairs_snap_dataset__=o,t.canvas.__crosshairs_snap_point__=s,i=t.coords[o][s][0],h=t.coords[o][s][1]}}if(a["chart.crosshairs.vline"]&&(t.context.moveTo(Math.round(i),Math.round(p)),t.context.lineTo(Math.round(i),Math.round(v-y))),a["chart.crosshairs.hline"]&&(t.context.moveTo(Math.round(c),Math.round(h)),t.context.lineTo(Math.round(x-m),Math.round(h))),t.context.stroke(),"scatter"==t.type&&a["chart.crosshairs.coords"]){var f=(i-c)/(x-c-m)*(a["chart.xmax"]-a["chart.xmin"])+a["chart.xmin"];f=f.toFixed(a["chart.scale.decimals"]);var n=t.max-(h-a["chart.gutter.top"])/(v-p-y)*t.max;"scatter"==t.type&&"center"==t.properties["chart.xaxispos"]&&(n=2*(n-t.max/2)),n=n.toFixed(a["chart.scale.decimals"]);var e=RGraph.Registry.Get("chart.coordinates.coords.div"),b=RGraph.getMouseXY(g),w=RGraph.getCanvasXY(t.canvas);if(!e){var e=document.createElement("DIV");e.__object__=t,e.style.position="absolute",e.style.backgroundColor="white",e.style.border="1px solid black",e.style.fontFamily="Arial, Verdana, sans-serif",e.style.fontSize="10pt",e.style.padding="2px",e.style.opacity=1,e.style.WebkitBorderRadius="3px",e.style.borderRadius="3px",e.style.MozBorderRadius="3px",document.body.appendChild(e),RGraph.Registry.Set("chart.coordinates.coords.div",e)}e.style.opacity=1,e.style.display="inline",a["chart.crosshairs.coords.fixed"]?(e.style.left=w[0]+c+3+"px",e.style.top=w[1]+p+3+"px"):(e.style.left=Math.max(2,g.pageX-e.offsetWidth-3)+"px",e.style.top=Math.max(2,g.pageY-e.offsetHeight-3)+"px"),e.innerHTML='<span style="color: #666">'+a["chart.crosshairs.coords.labels.x"]+":</span> "+f+'<br><span style="color: #666">'+a["chart.crosshairs.coords.labels.y"]+":</span> "+n,t.canvas.addEventListener("mouseout",RGraph.HideCrosshairCoords,!1),t.canvas.__crosshairs_labels__=e,t.canvas.__crosshairs_x__=f,t.canvas.__crosshairs_y__=n}else a["chart.crosshairs.coords"]&&alert("[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart");RGraph.FireCustomEvent(t,"oncrosshairs")}else RGraph.HideCrosshairCoords()},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Effects={},RGraph.Effects.Fade={},RGraph.Effects.jQuery={},RGraph.Effects.jQuery.HBlinds={},RGraph.Effects.jQuery.VBlinds={},RGraph.Effects.jQuery.Slide={},RGraph.Effects.Pie={},RGraph.Effects.Bar={},RGraph.Effects.Line={},RGraph.Effects.Line.jQuery={},RGraph.Effects.Fuel={},RGraph.Effects.Rose={},RGraph.Effects.Odo={},RGraph.Effects.Gauge={},RGraph.Effects.Meter={},RGraph.Effects.HBar={},RGraph.Effects.HProgress={},RGraph.Effects.VProgress={},RGraph.Effects.Radar={},RGraph.Effects.Waterfall={},RGraph.Effects.Gantt={},RGraph.Effects.Thermometer={},RGraph.Effects.Scatter={},RGraph.Effects.Scatter.jQuery={},RGraph.Effects.CornerGauge={},RGraph.Effects.jQuery.HScissors={},RGraph.Effects.jQuery.VScissors={},RGraph.Effects.Fade.In=function(e){var r=e.canvas,i=arguments[1]&&arguments[1].duration?arguments[1].duration:250,a=arguments[1]&&arguments[1].frames?arguments[1].frames:5;r.style.opacity=0,RGraph.Clear(e.canvas),RGraph.RedrawCanvas(e.canvas);for(var t=1;a>=t;++t)setTimeout('document.getElementById("'+r.id+'").style.opacity = '+t*(1/a),t*(i/a));"function"==typeof arguments[2]&&setTimeout(arguments[2],i)},RGraph.Effects.Fade.Out=function(a){var i=a.canvas,r=arguments[1]&&arguments[1].duration?arguments[1].duration:250,t=arguments[1]&&arguments[1].frames?arguments[1].frames:5;RGraph.Clear(a.canvas),RGraph.RedrawCanvas(a.canvas);for(var e=t;e>=0;--e)setTimeout('document.getElementById("'+i.id+'").style.opacity = '+e*(1/t),(t-e)*(r/t));"function"==typeof arguments[2]&&setTimeout(arguments[2],r)},RGraph.Effects.jQuery.Expand=function(e){"undefined"==typeof jQuery&&alert("[ERROR] Could not find jQuery object - have you included the jQuery file?");var r=!arguments[1]||arguments[1]&&(arguments[1].bounce||"undefined"==typeof arguments[1].bounce)?!0:!1,t=e.canvas;if(t.__rgraph_div_placeholder__)a=t.__rgraph_div_placeholder__;else{var a=RGraph.Effects.ReplaceCanvasWithDIV(t);t.__rgraph_div_placeholder__=a}a.style.position="relative",t.style.position="absolute",t.style.top=t.height/2+"px",t.style.left=t.width/2+"px",t.style.width=0,t.style.height=0,t.style.opacity=0,RGraph.Clear(e.canvas),RGraph.RedrawCanvas(e.canvas),r?jQuery("#"+e.id).animate({opacity:1,width:"120%",height:"120%",left:t.width*-.1+"px",top:t.height*-.1+"px"},500,function(){jQuery("#"+e.id).animate({width:"90%",height:"90%",top:.05*t.height+"px",left:.05*t.width+"px"},250,function(){jQuery("#"+e.id).animate({width:"101%",height:"101%",top:t.height*-.005+"px",left:t.width*-.005+"px"},250,function(){jQuery("#"+e.id).animate({width:"100%",height:"100%",top:0,left:0},250)})})}):jQuery("#"+e.id).animate({opacity:1,width:"100%",height:"100%",left:0,top:0},1e3),"function"==typeof arguments[2]&&setTimeout(arguments[2],1e3)},RGraph.Effects.jQuery.Contract=function(e){"undefined"==typeof jQuery&&alert("[ERROR] Could not find jQuery object - have you included the jQuery file?");var t=e.canvas;if(t.__rgraph_div_placeholder__)a=t.__rgraph_div_placeholder__;else{var a=RGraph.Effects.ReplaceCanvasWithDIV(t);t.__rgraph_div_placeholder__=a}a.style.position="relative",t.style.position="absolute",t.style.top=0,t.style.left=0,jQuery("#"+e.id).animate({width:1.2*t.width+"px",height:1.2*t.height+"px",left:t.width*-.1+"px",top:t.height*-.1+"px"},250,function(){jQuery("#"+e.id).animate({opacity:0,width:0,height:0,left:.5*t.width+"px",top:.5*t.height+"px"},750)}),"function"==typeof arguments[2]&&setTimeout(arguments[2],1e3)},RGraph.Effects.ReplaceCanvasWithDIV=function(t){if(t.replacementDIV)var e=t.replacementDIV;else{var e=document.createElement("DIV");e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.cssFloat=t.style.cssFloat,e.style.left=t.style.left,e.style.top=t.style.top,e.style.display="inline-block",t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e.appendChild(t),t.style.position="relative",t.style.left=e.offsetWidth/2+"px",t.style.top=e.offsetHeight/2+"px",t.style.cssFloat="",t.replacementDIV=e}return e},RGraph.Effects.jQuery.Snap=function(t){var a=500,e=RGraph.Effects.ReplaceCanvasWithDIV(t.canvas);t.canvas.style.position="absolute",t.canvas.style.top=0,t.canvas.style.left=0,t.canvas.style.width=0,t.canvas.style.height=0,t.canvas.style.opacity=0;var r=e.offsetLeft,i=e.offsetTop,h=e.offsetWidth,s=e.offsetHeight;RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),jQuery("#"+t.id).animate({opacity:1,width:h+"px",height:s+"px",left:r+"px",top:i+"px"},a),"function"==typeof arguments[2]&&setTimeout(arguments[2],a+50)},RGraph.Effects.jQuery.Reveal=function(t){var s=arguments[1]?arguments[1]:null,i=1e3;t.canvas;var e=RGraph.getCanvasXY(t.canvas);t.canvas.style.visibility="hidden",RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);for(var h=[["reveal_left",e[0],e[1],t.canvas.width/2,t.canvas.height],["reveal_right",e[0]+t.canvas.width/2,e[1],t.canvas.width/2,t.canvas.height],["reveal_top",e[0],e[1],t.canvas.width,t.canvas.height/2],["reveal_bottom",e[0],e[1]+t.canvas.height/2,t.canvas.width,t.canvas.height/2]],r=0;r<h.length;++r){var a=document.createElement("DIV");a.id=h[r][0],a.style.width=h[r][3]+"px",a.style.height=h[r][4]+"px",a.style.left=h[r][1]+"px",a.style.top=h[r][2]+"px",a.style.position="absolute",a.style.backgroundColor=s&&"string"==typeof s.color?s.color:"white",document.body.appendChild(a)}t.canvas.style.visibility="visible",jQuery("#reveal_left").animate({width:0},i),jQuery("#reveal_right").animate({left:"+="+t.canvas.width/2,width:0},i),jQuery("#reveal_top").animate({height:0},i),jQuery("#reveal_bottom").animate({top:"+="+t.canvas.height/2,height:0},i),setTimeout(function(){document.body.removeChild(document.getElementById("reveal_top")),document.body.removeChild(document.getElementById("reveal_bottom")),document.body.removeChild(document.getElementById("reveal_left")),document.body.removeChild(document.getElementById("reveal_right"))
},i),"function"==typeof arguments[2]&&setTimeout(arguments[2],i)},RGraph.Effects.RevealCircular=function(a){function i(){s.Clear(t),e.save(),e.beginPath(),e.arc(n,l,r,0,TWOPI,!1),e.clip(),a.Draw(),e.restore(),o>r?(r+=o/30,s.Effects.UpdateCanvas(i)):"function"==typeof h&&h(a)}arguments[1]?arguments[1]:null;var h=arguments[2]?arguments[2]:null,s=RGraph,t=a.canvas,e=a.context,r=0,n=t.width/2,l=t.height/2,o=Math.max(t.height,t.width);i()},RGraph.Effects.jQuery.Conceal=function(t){var s=arguments[1]?arguments[1]:null,r=1e3;t.canvas;for(var e=RGraph.getCanvasXY(t.canvas),h=[["conceal_left",e[0],e[1],0,t.canvas.height],["conceal_right",e[0]+t.canvas.width,e[1],0,t.canvas.height],["conceal_top",e[0],e[1],t.canvas.width,0],["conceal_bottom",e[0],e[1]+t.canvas.height,t.canvas.width,0]],i=0;i<h.length;++i){var a=document.createElement("DIV");a.id=h[i][0],a.style.width=h[i][3]+"px",a.style.height=h[i][4]+"px",a.style.left=h[i][1]+"px",a.style.top=h[i][2]+"px",a.style.position="absolute",a.style.backgroundColor=s&&"string"==typeof s.color?s.color:"white",document.body.appendChild(a)}jQuery("#conceal_left").animate({width:"+="+t.canvas.width/2},r),jQuery("#conceal_right").animate({left:"-="+t.canvas.width/2,width:t.canvas.width/2},r),jQuery("#conceal_top").animate({height:"+="+t.canvas.height/2},r),jQuery("#conceal_bottom").animate({top:"-="+t.canvas.height/2,height:t.canvas.height/2},r),setTimeout(function(){document.body.removeChild(document.getElementById("conceal_top")),document.body.removeChild(document.getElementById("conceal_bottom")),document.body.removeChild(document.getElementById("conceal_left")),document.body.removeChild(document.getElementById("conceal_right"))},r),setTimeout(function(){RGraph.Clear(t.canvas)},r),"function"==typeof arguments[2]&&setTimeout(arguments[2],r)},RGraph.Effects.jQuery.HBlinds.Open=function(i){var r=i.canvas,h=arguments[1]?arguments[1]:[],e=1e3,o=h.color?h.color:"white",s=RGraph.getCanvasXY(r),n=r.height/5;RGraph.Clear(i.canvas),RGraph.RedrawCanvas(i.canvas);for(var a=0;5>a;++a){var t=document.createElement("DIV");t.id="blinds_"+a,t.style.width=r.width+"px",t.style.height=n+"px",t.style.left=s[0]+"px",t.style.top=s[1]+r.height*(a/5)+"px",t.style.position="absolute",t.style.backgroundColor=o,document.body.appendChild(t),jQuery("#blinds_"+a).animate({height:0},e)}setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},e),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},e),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},e),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},e),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},e),"function"==typeof arguments[2]&&setTimeout(arguments[2],e)},RGraph.Effects.jQuery.HBlinds.Close=function(i){for(var r=i.canvas,h=arguments[1]?arguments[1]:[],t=1e3,o=h.color?h.color:"white",s=RGraph.getCanvasXY(r),n=r.height/5,a=0;5>a;++a){var e=document.createElement("DIV");e.id="blinds_"+a,e.style.width=r.width+"px",e.style.height=0,e.style.left=s[0]+"px",e.style.top=s[1]+r.height*(a/5)+"px",e.style.position="absolute",e.style.backgroundColor=o,document.body.appendChild(e),jQuery("#blinds_"+a).animate({height:n+"px"},t)}setTimeout(function(){RGraph.Clear(i.canvas)},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},t+100),"function"==typeof arguments[2]&&setTimeout(arguments[2],t)},RGraph.Effects.jQuery.VBlinds.Open=function(i){var r=i.canvas,h=arguments[1]?arguments[1]:[],t=1e3,o=h.color?h.color:"white",s=RGraph.getCanvasXY(r),n=r.width/10;RGraph.Clear(i.canvas),RGraph.RedrawCanvas(i.canvas);for(var a=0;10>a;++a){var e=document.createElement("DIV");e.id="blinds_"+a,e.style.width=n+"px",e.style.height=r.height+"px",e.style.left=s[0]+r.width*(a/10)+"px",e.style.top=s[1]+"px",e.style.position="absolute",e.style.backgroundColor=o,document.body.appendChild(e),jQuery("#blinds_"+a).animate({width:0},t)}setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_5"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_6"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_7"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_8"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_9"))},t+100),"function"==typeof arguments[2]&&setTimeout(arguments[2],t)},RGraph.Effects.jQuery.VBlinds.Close=function(h){for(var r=h.canvas,i=arguments[1]?arguments[1]:[],t=1e3,s=i.color?i.color:"white",o=RGraph.getCanvasXY(r),n=r.width/10,a=0;10>a;++a){var e=document.createElement("DIV");e.id="blinds_"+a,e.style.width=0,e.style.height=r.height+"px",e.style.left=o[0]+r.width*(a/10)+"px",e.style.top=o[1]+"px",e.style.position="absolute",e.style.backgroundColor=s,document.body.appendChild(e),jQuery("#blinds_"+a).animate({width:n},t)}setTimeout(function(){RGraph.Clear(h.canvas,s)},t+100),i.remove&&(setTimeout(function(){document.body.removeChild(document.getElementById("blinds_0"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_1"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_2"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_3"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_4"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_5"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_6"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_7"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_8"))},t+100),setTimeout(function(){document.body.removeChild(document.getElementById("blinds_9"))},t+100)),"function"==typeof arguments[2]&&setTimeout(arguments[2],t)},RGraph.Effects.Pie.Grow=function(t){var e=t.canvas,a=arguments[1]?arguments[1]:[];a.color?a.color:"white",RGraph.getCanvasXY(e),e.style.visibility="hidden",RGraph.RedrawCanvas(e);var r=t.getRadius();"number"==typeof t.Get("chart.radius")&&(r=t.Get("chart.radius")),e.style.visibility="visible",t.Set("chart.radius",0),RGraph.Effects.Animate(t,{"chart.radius":r},arguments[2])},RGraph.Effects.Bar.Grow=function(t){function r(){var a=30;t.__animation_frame__||(t.__animation_frame__=0,t.__original_hmargin__=t.Get("chart.hmargin"),t.__hmargin__=(t.canvas.width-t.Get("chart.gutter.left")-t.Get("chart.gutter.right"))/t.data.length/2,t.Set("chart.hmargin",t.__hmargin__));for(var e=0;e<t.original_data.length;++e)if("object"==typeof t.data[e])for(var h=0;h<t.data[e].length;++h)t.data[e][h]=t.__animation_frame__/a*t.original_data[e][h];else t.data[e]=t.__animation_frame__/a*t.original_data[e];t.Set("chart.hmargin",(1-t.__animation_frame__/a)*(t.__hmargin__-t.__original_hmargin__)+t.__original_hmargin__),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),t.__animation_frame__<a?(t.__animation_frame__+=1,RGraph.Effects.UpdateCanvas(r)):i&&i(t)}var i=arguments[2];if(t.original_data=RGraph.array_clone(t.data),t.__animation_frame__=0,null==t.Get("chart.ymax")){for(var a=0,e=0;e<t.data.length;++e)a=RGraph.is_array(t.data[e])&&"stacked"==t.Get("chart.grouping")?Math.max(a,Math.abs(RGraph.array_sum(t.data[e]))):RGraph.is_array(t.data[e])&&"grouped"==t.Get("chart.grouping")?Math.max(a,Math.abs(RGraph.array_max(t.data[e]))):Math.max(a,Math.abs(t.data[e]));var h=RGraph.getScale2(t,{max:a});t.Set("chart.ymax",h.max)}RGraph.Effects.UpdateCanvas(r)},RGraph.Effects.UpdateCanvas=function(t){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.amozRequestAnimationFrame||function(t){setTimeout(t,16.666)},window.requestAnimationFrame(t)},RGraph.Effects.Fuel.Grow=function(t){function r(){e++,t.value=e/h*o+a,t.value>t.max&&(t.value=t.max),t.value<t.min&&(t.value=t.min),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),h>e?RGraph.Effects.UpdateCanvas(r):"function"==typeof i&&i(t)}var i=arguments[2],h=30,e=0,a=Number(t.currentValue);null==t.currentValue&&(t.currentValue=t.min,a=t.min);var s=t.value,o=s-a,e=0;r()},RGraph.Effects.Animate=function(t,e){function a(h){var r=[t.id+"_"+t.type];"undefined"==typeof RGraph.Effects.__current_frame__&&(RGraph.Effects.__current_frame__=new Array,RGraph.Effects.__original_values__=new Array,RGraph.Effects.__diffs__=new Array,RGraph.Effects.__steps__=new Array,RGraph.Effects.__callback__=new Array),RGraph.Effects.__current_frame__[r]||(RGraph.Effects.__current_frame__[r]=RGraph.Effects.__total_frames__,RGraph.Effects.__original_values__[r]={},RGraph.Effects.__diffs__[r]={},RGraph.Effects.__steps__[r]={},RGraph.Effects.__callback__[r]=h);for(var i in e)("string"==typeof e[i]||"number"==typeof e[i])&&(RGraph.Effects.__current_frame__[r]==RGraph.Effects.__total_frames__&&(RGraph.Effects.__original_values__[r][i]=t.Get(i),RGraph.Effects.__diffs__[r][i]=e[i]-RGraph.Effects.__original_values__[r][i],RGraph.Effects.__steps__[r][i]=RGraph.Effects.__diffs__[r][i]/RGraph.Effects.__total_frames__),t.Set(i,t.Get(i)+RGraph.Effects.__steps__[r][i]),RGraph.RedrawCanvas(t.canvas));--RGraph.Effects.__current_frame__[r]>0?RGraph.Effects.UpdateCanvas(a):("function"==typeof RGraph.Effects.__callback__[r]&&RGraph.Effects.__callback__[r](t),RGraph.Effects.__current_frame__[r]=null,RGraph.Effects.__original_values__[r]=null,RGraph.Effects.__diffs__[r]=null,RGraph.Effects.__steps__[r]=null,RGraph.Effects.__callback__[r]=null)}RGraph.RedrawCanvas(t.canvas),RGraph.Effects.__total_frames__=e&&e.frames?e.frames:30,a(arguments[2])},RGraph.Effects.jQuery.Slide.In=function(e){RGraph.Clear(e.canvas),RGraph.RedrawCanvas(e.canvas);var t=e.canvas,a=RGraph.Effects.ReplaceCanvasWithDIV(e.canvas),i=1e3;a.style.overflow="hidden";var r="object"==typeof arguments[1]&&"string"==typeof arguments[1].from?arguments[1].from:"left";t.style.position="relative","left"==r?(t.style.left=0-a.offsetWidth+"px",t.style.top=0):"top"==r?(t.style.left=0,t.style.top=0-a.offsetHeight+"px"):"bottom"==r?(t.style.left=0,t.style.top=a.offsetHeight+"px"):(t.style.left=a.offsetWidth+"px",t.style.top=0),jQuery("#"+e.id).animate({left:0,top:0},i),"function"==typeof arguments[2]&&setTimeout(arguments[2],i)},RGraph.Effects.jQuery.Slide.Out=function(t){var e=t.canvas,r=RGraph.Effects.ReplaceCanvasWithDIV(t.canvas),a=1e3;r.style.overflow="hidden";var i="object"==typeof arguments[1]&&arguments[1]&&"string"==typeof arguments[1].to?arguments[1].to:"left";e.style.position="relative",e.style.left=0,e.style.top=0,"left"==i?jQuery("#"+t.id).animate({left:0-e.width+"px"},a):"top"==i?jQuery("#"+t.id).animate({left:0,top:0-r.offsetHeight+"px"},a):"bottom"==i?jQuery("#"+t.id).animate({top:0+r.offsetHeight+"px"},a):jQuery("#"+t.id).animate({left:0+e.width+"px"},a),"function"==typeof arguments[2]&&setTimeout(arguments[2],a)},RGraph.Effects.Line.Unfold=function(t){t.Set("chart.animation.factor",t.Get("chart.animation.unfold.initial")),RGraph.Effects.Animate(t,{"chart.animation.factor":1},arguments[2])},RGraph.Effects.Rose.RoundRobin=function(t){function r(){a++<e?(t.Set("chart.animation.roundrobin.factor",a/e),t.Set("chart.margin",a/e*i),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),RGraph.Effects.UpdateCanvas(r)):(t.Set("chart.animation.roundrobin.factor",1),t.Set("chart.margin",i),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),"function"==typeof h&&h(t))}var e=60,a=0,i=t.Get("chart.margin"),s=360/t.data.length/2,h=arguments[2];t.Set("chart.margin",s),t.Set("chart.animation.roundrobin.factor",0),RGraph.Effects.UpdateCanvas(r)},RGraph.Effects.Line.UnfoldFromCenter=function(t){function h(){RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);for(var e=0;e<r.length;++e)for(var a=0;a<r[e].length;++a)t.original_data[e][a]+=t.__increments__[e][a];--i>0?RGraph.Effects.UpdateCanvas(h):(t.original_data=RGraph.array_clone(r),t.__increments__=null,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),"function"==typeof o&&o(t))}var i=30,n=t.canvas.style.opacity;t.canvas.style.opacity=0,t.Draw(),RGraph.RedrawCanvas(t.canvas);var s="center"==t.Get("chart.xaxispos")?t.Get("chart.ymin"):(t.max-t.min)/2+t.min;t.Set("chart.ymax",t.scale2.max),RGraph.Clear(t.canvas),t.canvas.style.opacity=n;var r=RGraph.array_clone(t.original_data),o=arguments[2];if(!t.__increments__){t.__increments__=new Array;for(var e=0;e<r.length;++e){t.__increments__[e]=new Array;for(var a=0;a<r[e].length;++a)t.Get("chart.filled")&&t.Get("chart.filled.accumulative")&&e>0?(t.__increments__[e][a]=r[e][a]/i,t.original_data[e][a]=0):(t.__increments__[e][a]=(r[e][a]-s)/i,t.original_data[e][a]=s)}}h()},RGraph.Effects.Line.jQuery.UnfoldFromCenterTrace=function(t){function r(){t.original_data=i,RGraph.Effects.Line.UnfoldFromCenter(t,null,h)}t.canvas.style.visibility="hidden",setTimeout(function(){t.canvas.style.visibility="visible"},10),t.Draw(),RGraph.Clear(t.canvas);var i=RGraph.array_clone(t.original_data),h=arguments[2],s="center"==t.Get("chart.xaxispos")?t.min:(t.max-t.min)/2+t.min;t.Set("chart.ymax",t.max);for(var e=0;e<t.original_data.length;++e)for(var a=0;a<t.original_data[e].length;++a)t.original_data[e][a]=t.Get("chart.filled")&&t.Get("chart.filled.accumulative")&&e>0?0:s;RGraph.Effects.Line.jQuery.Trace(t,{duration:1e3},r)},RGraph.Effects.Line.FoldToCenter=function(t){function i(){for(var o=0;o<t.data.length;++o)if(t.data[o].length)for(var n=0;n<t.data[o].length;++n)t.original_data[o][n]=t.original_data[o][n]>e?(h[o][n]-e)*(r/a)+e:e-(e-h[o][n])*(r/a);RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),r-->0?RGraph.Effects.UpdateCanvas(i):"function"==typeof s&&s(t)}var a=30,r=a;RGraph.RedrawCanvas(t.canvas);var e=t.scale2.max/2;t.Set("chart.ymax",t.scale2.max),RGraph.Clear(t.canvas);var h=RGraph.array_clone(t.original_data);t.Set("chart.shadow.blur",0);var s=arguments[2];RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Odo.Grow=function(t){function e(){t.value=i+r*n,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),++r<=a?RGraph.Effects.UpdateCanvas(e):h&&h(t)}var a=30,r=0,i=Number(t.currentValue),s=t.value,o=s-i,n=o/a,h=arguments[2];e()},RGraph.Effects.Meter.Grow=function(t){function e(){t.value=o+r++*s,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),r++<=a?RGraph.Effects.UpdateCanvas(e):"function"==typeof i&&i(t)}t.currentValue||(t.currentValue=t.min);var a=60,r=0,h=t.value-t.currentValue,s=h/a,i=arguments[2],o=t.currentValue;e()},RGraph.Effects.HBar.Grow=function(t){function i(){var a=30;t.__animation_frame__||(t.__animation_frame__=0,t.__original_vmargin__=t.Get("chart.vmargin"),t.__vmargin__=(t.canvas.height-t.Get("chart.gutter.top")-t.Get("chart.gutter.bottom"))/t.data.length/2,t.Set("chart.vmargin",t.__vmargin__));for(var e=0;e<t.original_data.length;++e){var s=Math.pow(Math.sin(t.__animation_frame__*(90/a)/(180/PI)),4);if("object"==typeof t.data[e])for(var h=0;h<t.data[e].length;++h)t.data[e][h]=t.__animation_frame__/a*t.original_data[e][h]*s;else t.data[e]=t.__animation_frame__/a*t.original_data[e]*s}t.Set("chart.vmargin",(1-t.__animation_frame__/a)*(t.__vmargin__-t.__original_vmargin__)+t.__original_vmargin__),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),t.__animation_frame__<a?(t.__animation_frame__+=1,RGraph.Effects.UpdateCanvas(i)):"number"==typeof r&&r>0&&(t.Set("chart.shadow.blur",r),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas))}if(t.original_data=RGraph.array_clone(t.data),t.__animation_frame__=0,0==t.Get("chart.xmax")){for(var a=0,e=0;e<t.data.length;++e)a=RGraph.is_array(t.data[e])&&"stacked"==t.Get("chart.grouping")?Math.max(a,RGraph.array_sum(t.data[e])):RGraph.is_array(t.data[e])&&"grouped"==t.Get("chart.grouping")?Math.max(a,RGraph.array_max(t.data[e])):Math.max(a,RGraph.array_max(t.data[e]));var h=RGraph.getScale2(t,{max:a});t.Set("chart.xmax",h.max)}if(t.Get("chart.shadow.blur")>0){var r=t.Get("chart.shadow.blur");t.Set("chart.shadow.blur",0)}RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Line.jQuery.Trace=function(t){var d="function"==typeof arguments[2]?arguments[2]:function(){},n=arguments[1]||[];n.duration||(n.duration=1e3),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);var e=document.createElement("DIV"),s=RGraph.getCanvasXY(t.canvas);e.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",e.style.left=s[0]+"px",e.style.top=s[1]+"px",e.style.width=t.Get("chart.gutter.left"),e.style.height=t.canvas.height+"px",e.style.position="absolute",e.style.overflow="hidden",document.body.appendChild(e),t.canvas.__rgraph_trace_div__=e;var l="__rgraph_line_trace_animation_"+RGraph.random(0,99999999)+"__",h=document.createElement("CANVAS"),c=["WebkitTransform","MozTransform","OTransform","MSTransform","transform"];for(i in c){var o=c[i];"string"==typeof t.canvas.style[o]&&t.canvas.style[o]&&(h.style[o]=t.canvas.style[o])}t.canvas.__rgraph_line_canvas2__=h,h.width=t.canvas.width,h.height=t.canvas.height,h.style.position="absolute",h.style.left=0,h.style.top=0,h.noclear=!0,h.id=l,e.appendChild(h);var g=function(){var a=RGraph.getCanvasXY(t.canvas);e.style.left=a[0]+"px",e.style.top=a[1]+"px"};window.addEventListener("resize",g,!1);var a=new RGraph.Line(l,RGraph.array_clone(t.original_data));RGraph.ObjectRegistry.Remove(a);for(i in t.properties)"string"==typeof i&&a.Set(i,t.properties[i]);if(a.Set("chart.labels",[]),a.Set("chart.background.grid",!1),a.Set("chart.background.barcolor1","rgba(0,0,0,0)"),a.Set("chart.background.barcolor2","rgba(0,0,0,0)"),a.Set("chart.ylabels",!1),a.Set("chart.noaxes",!0),a.Set("chart.title",""),a.Set("chart.title.xaxis",""),a.Set("chart.title.yaxis",""),a.Set("chart.filled.accumulative",t.Get("chart.filled.accumulative")),t.Set("chart.key",[]),a.Draw(),t.canvas.__rgraph_trace_obj2__=a,t.Set("chart.line.visible",!1),t.Set("chart.colors",["rgba(0,0,0,0)"]),t.Get("chart.filled")){var u=t.Get("chart.fillstyle");t.Set("chart.fillstyle","rgba(0,0,0,0)"),t.Set("chart.animation.trace.original.fillstyle",u)}if(RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),t.canvas.__rgraph_trace_cover__)r=t.canvas.__rgraph_trace_cover__;else{var r=document.createElement("DIV");r.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",r.style.left=s[0]+"px",r.style.top=s[1]+"px",r.style.width=t.canvas.width+"px",r.style.height=t.canvas.height+"px",r.style.position="absolute",r.style.overflow="hidden",r.style.backgroundColor="rgba(0,0,0,0)",e.div2=r,t.canvas.__rgraph_trace_cover__=r,document.body.appendChild(r)}jQuery("#"+e.id).animate({width:t.canvas.width+"px"},n.duration,function(){RGraph.Effects.Line.Trace_callback(t)}),RGraph.Effects.Line.Trace_callback=function(t){var a=t.canvas.__rgraph_trace_obj2__;window.removeEventListener("resize",g,!1),e.style.display="none",r.style.display="none",t.Set("chart.line.visible",!0),t.Set("chart.filled",RGraph.array_clone(a.Get("chart.filled"))),t.Set("chart.fillstyle",t.Get("chart.animation.trace.original.fillstyle")),t.Set("chart.colors",RGraph.array_clone(a.Get("chart.colors"))),t.Set("chart.key",RGraph.array_clone(a.Get("chart.key"))),RGraph.RedrawCanvas(t.canvas),t.canvas.__rgraph_trace_div__.style.display="none",t.canvas.__rgraph_trace_div__=null,t.canvas.__rgraph_line_canvas2__.style.display="none",t.canvas.__rgraph_line_canvas2__=null,t.canvas.__rgraph_trace_cover__.style.display="none",t.canvas.__rgraph_trace_cover__=null,d(t)}},RGraph.Effects.Line.Trace2=function(t){function a(){return e>i?(r&&r(t),void 0):(t.Set("animation.trace.clip",e/i),RGraph.RedrawCanvas(t.canvas),e++,RGraph.Effects.UpdateCanvas(a),void 0)}var r=arguments[2],i=arguments[1]&&arguments[1].frames?arguments[1].frames:60,e=0;t.Set("animation.trace.clip",0),a()},RGraph.Effects.Radar.Trace=function(t){function a(){return e>i?(r&&r(t),void 0):(t.Set("animation.trace.clip",e/i),RGraph.RedrawCanvas(t.canvas),e++,RGraph.Effects.UpdateCanvas(a),void 0)}var r=arguments[2],i=arguments[1]&&arguments[1].frames?arguments[1].frames:60,e=0;t.Set("animation.trace.clip",0),a()},RGraph.Effects.Pie.RoundRobin=function(t){function i(){t.Set("chart.effect.roundrobin.multiplier",Math.pow(Math.sin(a*(90/r)/(180/PI)),2)*(a/r)),e&&"undefined"!=typeof e.radius&&1!=e.radius||t.Set("chart.radius",s*t.Get("chart.effect.roundrobin.multiplier")),RGraph.RedrawCanvas(t.canvas),a++<r?RGraph.Effects.UpdateCanvas(i):(t.Set("chart.events",!0),RGraph.RedrawCanvas(t.canvas),h&&h(t))}var h=arguments[2]?arguments[2]:null,e=arguments[1],a=0,r=e&&e.frames?e.frames:90,s=t.getRadius();if(t.Set("chart.events",!1),"donut"==t.properties["chart.variant"]&&"number"==typeof t.properties["chart.variant.donut.width"])if(RGraph.is_null(e))var e={radius:null};else e.radius=null;RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Pie.Implode=function(t){function a(){t.Set("chart.exploded",Math.sin(e/(180/PI))*i),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),e>0?(e--,RGraph.Effects.UpdateCanvas(a)):(t.Set("chart.exploded",h),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),"function"==typeof r&&r(t))}var e=90,i=Math.min(t.canvas.width,t.canvas.height),h=t.Get("chart.exploded"),r=arguments[2];RGraph.Effects.UpdateCanvas(a)},RGraph.Effects.Pie.Explode=function(t){var e=t.canvas,a=arguments[1]?arguments[1]:[],r=arguments[2]?arguments[2]:null,i=a.frames?a.frames:60;t.Set("chart.exploded",0),RGraph.Effects.Animate(t,{frames:i,"chart.exploded":Math.max(e.width,e.height)},r)},RGraph.Effects.Gauge.Grow=function(t){function l(){a++,t.value=a/s*i+r,t.value>t.max&&(t.value=t.max),t.value<t.min&&(t.value=t.min),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),30>a?RGraph.Effects.UpdateCanvas(l):"function"==typeof h&&h(t)}function n(){a++;for(var e=0;e<t.value.length;++e)t.value[e]=a/s*i[e]+r[e],t.value[e]>t.max&&(t.value[e]=t.max),t.value[e]<t.min&&(t.value[e]=t.min),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);30>a?RGraph.Effects.UpdateCanvas(n):"function"==typeof h&&h(t)}var h=arguments[2],s=30,a=0;if("number"==typeof t.value){var r=Number(t.currentValue);null==t.currentValue&&(t.currentValue=t.min,r=t.min);var o=t.value,i=o-r,c=i/s,a=0;l()}else{if(null==t.currentValue){t.currentValue=[];for(var e=0;e<t.value.length;++e)t.currentValue[e]=t.min;r=RGraph.array_clone(t.currentValue)}for(var r=RGraph.array_clone(t.currentValue),o=RGraph.array_clone(t.value),i=[],c=[],e=0;e<o.length;++e)i[e]=o[e]-Number(t.currentValue[e]),c[e]=i[e]/s;n()}},RGraph.Effects.Radar.Grow=function(t){function i(){for(var s=0;s<r.length;++s){null==t.original_data[s]&&(t.original_data[s]=[]);for(var o=0;o<r[s].length;++o)t.original_data[s][o]=(e-a)/e*r[s][o]}RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),a>0?(a--,RGraph.Effects.UpdateCanvas(i)):"function"==typeof h&&h(t)}var e=30,a=e,r=RGraph.array_clone(t.data),h=arguments[2];t.original_data=RGraph.array_clone(t.original_data),RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Waterfall.Grow=function(t){function i(){for(var r=0;r<t.data.length;++r)t.data[r]=h[r]*(a/e);Math.pow(Math.sin(90*(a/e)/(180/PI)),20),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),a++<e?RGraph.Effects.UpdateCanvas(i):"function"==typeof s&&s(t)}for(var e=45,a=0,h=RGraph.array_clone(t.data),s=arguments[2],r=0;r<t.data.length;++r)t.data[r]/=e;if(null==t.Get("chart.ymax")){var o=t.getMax(h),n=RGraph.getScale2(t,{max:o});t.Set("chart.ymax",n.max)}RGraph.Effects.UpdateCanvas(i)},RGraph.Effects.Bar.Wave2=RGraph.Effects.Bar.Wave=function(t){function i(e,h){if(h-->0){if("number"==typeof t.data[e])t.data[e]=(a-h)/a*r[e];else if("object"==typeof t.data[e])for(var s=0;s<r[e].length;++s)t.data[e][s]=(a-h)/a*r[e][s];RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),RGraph.Effects.UpdateCanvas(function(){i(e,h)})}}var a=arguments[1]&&arguments[1].frames?arguments[1].frames:15,r=[];t.Draw(),t.Set("chart.ymax",t.scale2.max),RGraph.Clear(t.canvas);for(var e=0;e<t.data.length;++e)!function(h){r[e]=t.data[e],t.data[e]="object"==typeof t.data[e]?[]:0,setTimeout(function(){i(h,a)},100*e)}(e)},RGraph.Effects.VProgress.Grow=RGraph.Effects.HProgress.Grow=function(t){function o(){if(r++,i>=r){if("object"==typeof t.value){t.value=[];for(var e=0;e<a.length;++e)t.value[e]=a[e]+s[e]*r}else t.value=a+s*r;RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),RGraph.Effects.UpdateCanvas(o)}else n&&n(t)}t.canvas,t.context;var a=t.currentValue,i=30,r=0;if("object"==typeof t.value){if(RGraph.is_null(t.currentValue)){t.currentValue=[];for(var e=0;e<t.value.length;++e)t.currentValue[e]=0}for(var h=[],s=[],e=0;e<t.value.length;++e)h[e]=t.value[e]-Number(t.currentValue[e]),s[e]=h[e]/i;if(null==a){a=[];for(var e=0;e<t.value.length;++e)a[e]=0}}else var h=t.value-Number(t.currentValue),s=h/i;var n=arguments[2]?arguments[2]:null;RGraph.Effects.UpdateCanvas(o)},RGraph.Effects.Gantt.Grow=function(t){function i(){if(r>=a){for(var o=0;o<e.length;++o)if("object"==typeof e[o][0])for(var n=0;n<e[o].length;++n)e[o][n][1]=a/r*s[o][n][1];else e[o][1]=a/r*s[o][1];t.data=e,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),a++,RGraph.Effects.UpdateCanvas(i)}else h&&h(t)}t.canvas,t.context;var r=30,a=0,h=arguments[2]?arguments[2]:null,e=t.data,s=RGraph.array_clone(e);RGraph.Effects.UpdateCanvas(i)},Function.prototype.bind||(Function.prototype.bind=function(a){"function"!=typeof this&&console&&console.log&&console.log("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),i=this,t=function(){},e=function(){return i.apply(this instanceof t?this:a||window,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,e.prototype=new t,e}),RGraph.Effects.Rose.Explode=function(t){var e=t.canvas,a=arguments[1]?arguments[1]:[],r=arguments[2]?arguments[2]:null,i=a.frames?a.frames:60;t.Set("chart.exploded",0),RGraph.Effects.Animate(t,{frames:i,"chart.exploded":Math.min(e.width,e.height)},r)},RGraph.Effects.Rose.Implode=function(t){var e=t.canvas,a=arguments[1]?arguments[1]:[],r=arguments[2]?arguments[2]:null,i=a.frames?a.frames:60;t.Set("chart.exploded",Math.min(e.width,e.height)),RGraph.Effects.Animate(t,{frames:i,"chart.exploded":0},r)},RGraph.Effects.Thermometer.Grow=function(t){function r(){a++,t.value=v=a/h*o+e,RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),30>a?RGraph.Effects.UpdateCanvas(r):"function"==typeof i&&i(t)}var i=arguments[2],h=30,e=Number(t.currentValue);null==t.currentValue&&(t.currentValue=0,e=0);var s=t.value,o=s-e,a=0;RGraph.Effects.UpdateCanvas(r)},RGraph.Effects.Scatter.jQuery.Trace=function(t){var c="function"==typeof arguments[2]?arguments[2]:function(){},o=arguments[1]||[];o.duration||(o.duration=1500),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);var e=document.createElement("DIV"),s=RGraph.getCanvasXY(t.canvas);e.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",e.style.left=s[0]+"px",e.style.top=s[1]+"px",e.style.width=t.Get("chart.gutter.left"),e.style.height=t.canvas.height+"px",e.style.position="absolute",e.style.overflow="hidden",document.body.appendChild(e);var n="__rgraph_scatter_trace_animation_"+RGraph.random(0,99999999)+"__",h=document.createElement("CANVAS");h.width=t.canvas.width,h.height=t.canvas.height,h.style.position="absolute",h.style.left=0,h.style.top=0,h.noclear=!0,h.id=n,e.appendChild(h);var l=function(){var a=RGraph.getCanvasXY(t.canvas);e.style.left=a[0]+"px",e.style.top=a[1]+"px"};window.addEventListener("resize",l,!1);var a=new RGraph.Scatter(n,RGraph.array_clone(t.data));RGraph.ObjectRegistry.Remove(a);for(i in t.properties)"string"==typeof i&&a.Set(i,t.properties[i]);if(a.Set("chart.labels",[]),a.Set("chart.background.grid",!1),a.Set("chart.background.barcolor1","rgba(0,0,0,0)"),a.Set("chart.background.barcolor2","rgba(0,0,0,0)"),a.Set("chart.ylabels",!1),a.Set("chart.noaxes",!0),a.Set("chart.title",""),a.Set("chart.title.xaxis",""),a.Set("chart.title.yaxis",""),t.Set("chart.key",[]),a.Draw(),t.Set("chart.line.visible",!1),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),t.canvas.__rgraph_scatter_trace_cover__)r=t.canvas.__rgraph_scatter_trace_cover__;else{var r=document.createElement("DIV");r.id="__rgraph_trace_animation_"+RGraph.random(0,4351623)+"__",r.style.left=s[0]+"px",r.style.top=s[1]+"px",r.style.width=t.canvas.width+"px",r.style.height=t.canvas.height+"px",r.style.position="absolute",r.style.overflow="hidden",r.style.backgroundColor="rgba(0,0,0,0)",e.div2=r,t.canvas.__rgraph_scatter_trace_cover__=r,document.body.appendChild(r)}jQuery("#"+e.id).animate({width:t.canvas.width+"px"},o.duration,function(){window.removeEventListener("resize",l,!1),e.style.display="none",r.style.display="none",t.Set("chart.line.visible",!0),t.Set("chart.colors",RGraph.array_clone(a.Get("chart.colors"))),t.Set("chart.key",RGraph.array_clone(a.Get("chart.key"))),RGraph.RedrawCanvas(t.canvas),t.canvas.__rgraph_trace_cover__=null,c(t)})},RGraph.Effects.CornerGauge.Grow=function(t){function l(){a++,t.value=a/s*i+r,t.value>t.max&&(t.value=t.max),t.value<t.min&&(t.value=t.min),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),30>a?RGraph.Effects.UpdateCanvas(l):"function"==typeof h&&h(t)}function n(){a++;for(var e=0;e<t.value.length;++e)t.value[e]=a/s*i[e]+r[e],t.value[e]>t.max&&(t.value[e]=t.max),t.value[e]<t.min&&(t.value[e]=t.min),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas);30>a?RGraph.Effects.UpdateCanvas(n):"function"==typeof h&&h(t)}var h=arguments[2],s=30,a=0;if("number"==typeof t.value){var r=Number(t.currentValue);null==t.currentValue&&(t.currentValue=t.min,r=t.min);var o=t.value,i=o-r,c=i/s,a=0;l()}else{if(null==t.currentValue){t.currentValue=[];for(var e=0;e<t.value.length;++e)t.currentValue[e]=t.min;r=RGraph.array_clone(t.currentValue)}for(var r=RGraph.array_clone(t.currentValue),o=RGraph.array_clone(t.value),i=[],c=[],e=0;e<o.length;++e)i[e]=o[e]-Number(t.currentValue[e]),c[e]=i[e]/s;n()}},RGraph.Effects.Rose.Grow=function(t){function a(){e++,t.Set("chart.animation.grow.multiplier",e/i),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),i>e?(++e,RGraph.Effects.UpdateCanvas(a)):(t.Set("chart.animation.grow.multiplier",1),RGraph.Clear(t.canvas),RGraph.RedrawCanvas(t.canvas),"function"==typeof r&&r(t))}var r=arguments[2],i=60,e=0;RGraph.Effects.UpdateCanvas(a)},RGraph.Effects.jQuery.HScissors.Open=function(h){var a=h.isRGraph?h.canvas:h,t=a.id,s=arguments[1]?arguments[1]:[],r=1e3,n=s.color?s.color:"white",o=RGraph.getCanvasXY(a),l=a.height/5;RGraph.Clear(a),RGraph.RedrawCanvas(a);for(var i=0;5>i;++i){var e=document.getElementById(t+"scissors_"+i);if(!e){var e=document.createElement("DIV");e.id=t+"scissors_"+i,e.style.width=a.width+"px",e.style.height=l+"px",e.style.left=o[0]+"px",e.style.top=o[1]+a.height*(i/5)+"px",e.style.position="absolute",e.style.backgroundColor=n,document.body.appendChild(e)}0==i%2?jQuery("#"+t+"scissors_"+i).animate({left:a.width+"px",width:0},r):jQuery("#"+t+"scissors_"+i).animate({width:0},r)}setTimeout(function(){document.body.removeChild(document.getElementById(t+"scissors_0"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"scissors_1"))
},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"scissors_2"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"scissors_3"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"scissors_4"))},r),"function"==typeof arguments[2]&&setTimeout(arguments[2],r)},RGraph.Effects.jQuery.HScissors.Close=function(i){var t=i.isRGraph?i.canvas:i,h=t.id,o=arguments[1]?arguments[1]:[],s=1e3,n=o.color?o.color:"white",r=RGraph.getCanvasXY(t),l=t.height/5;RGraph.Clear(t),RGraph.RedrawCanvas(t);for(var e=0;5>e;++e){var a=document.createElement("DIV");a.id=h+"_scissors_"+e,a.style.width=0,a.style.height=l+"px",a.style.left=(0==e%2?r[0]+t.width:r[0])+"px",a.style.top=r[1]+t.height*(e/5)+"px",a.style.position="absolute",a.style.backgroundColor=n,document.body.appendChild(a),0==e%2?jQuery("#"+h+"_scissors_"+e).animate({left:r[0]+"px",width:t.width+"px"},s):jQuery("#"+h+"_scissors_"+e).animate({width:t.width+"px"},s)}"function"==typeof arguments[2]&&setTimeout(arguments[2],s)},RGraph.Effects.jQuery.VScissors.Open=function(h){var a=h.isRGraph?h.canvas:h,t=a.id,o=arguments[1]?arguments[1]:[],r=1e3,n=o.color?o.color:"white",s=RGraph.getCanvasXY(a),l=a.width/5;RGraph.Clear(a),RGraph.RedrawCanvas(a);for(var i=0;5>i;++i){var e=document.getElementById(t+"_vscissors_"+i);if(!e){var e=document.createElement("DIV");e.id=t+"_vscissors_"+i,e.style.width=l+"px",e.style.height=a.height+"px",e.style.left=s[0]+a.width*(i/5)+"px",e.style.top=s[1]+"px",e.style.position="absolute",e.style.backgroundColor=n,document.body.appendChild(e)}0==i%2?jQuery("#"+t+"_vscissors_"+i).animate({top:s[1]+a.height+"px",height:0},r):jQuery("#"+t+"_vscissors_"+i).animate({height:0},r)}setTimeout(function(){document.body.removeChild(document.getElementById(t+"_vscissors_0"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"_vscissors_1"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"_vscissors_2"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"_vscissors_3"))},r),setTimeout(function(){document.body.removeChild(document.getElementById(t+"_vscissors_4"))},r),"function"==typeof arguments[2]&&setTimeout(arguments[2],r)},RGraph.Effects.jQuery.VScissors.Close=function(h){var a=h.isRGraph?h.canvas:h,r=a.id,o=arguments[1]?arguments[1]:[],s=1e3,l=o.color?o.color:"white",i=RGraph.getCanvasXY(a),n=a.width/5;RGraph.Clear(a),RGraph.RedrawCanvas(a);for(var t=0;5>t;++t){var e=document.getElementById(r+"_vscissors_"+t);if(!e){var e=document.createElement("DIV");e.id=r+"_vscissors_"+t,e.style.width=n+"px",e.style.height=0,e.style.left=i[0]+n*t+"px",e.style.top=(0==t%2?i[1]+a.height:i[1])+"px",e.style.position="absolute",e.style.backgroundColor=l,document.body.appendChild(e)}0==t%2?jQuery("#"+r+"_vscissors_"+t).animate({top:i[1]+"px",height:a.height+"px"},s):jQuery("#"+r+"_vscissors_"+t).animate({height:a.height+"px"},s)}"function"==typeof arguments[2]&&setTimeout(arguments[2],s)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.DrawKey=function(a,h,n){function p(i,d,u){var a="number"==typeof e["chart.key.text.size"]?e["chart.key.text.size"]:e["chart.text.size"],v=e["chart.text.font"],m=i.gutterLeft,f=i.gutterRight,x=i.gutterTop;i.gutterBottom;var n="right"==e["chart.yaxispos"]?m+10:o.width-f-10,c=x+10;e["chart.title"];var l=a;e["chart.key.background"];var y="#333",g=0;for(i.coords||(i.coords={}),i.coords.key=[],t.font=a+"pt "+e["chart.text.font"],h=0;h<d.length;++h)g=Math.max(g,t.measureText(d[h]).width);g+=5,g+=l,g+=5,g+=5,g+=5,("left"==e["chart.yaxispos"]||"pie"==i.type&&!e["chart.yaxispos"]||"hbar"==i.type&&!e["chart.yaxispos"]||"hbar"==i.type&&"center"==e["chart.yaxispos"]||"rscatter"==i.type&&!e["chart.yaxispos"]||"radar"==i.type&&!e["chart.yaxispos"]||"rose"==i.type&&!e["chart.yaxispos"]||"funnel"==i.type&&!e["chart.yaxispos"]||"vprogress"==i.type&&!e["chart.yaxispos"]||"hprogress"==i.type&&!e["chart.yaxispos"])&&(n-=g),"string"==typeof e["chart.key.halign"]&&("left"==e["chart.key.halign"]?n=m+10:"right"==e["chart.key.halign"]&&(n=o.width-f-g)),"number"==typeof e["chart.key.position.x"]&&(n=e["chart.key.position.x"]),"number"==typeof e["chart.key.position.y"]&&(c=e["chart.key.position.y"]),e["chart.key.shadow"]&&(t.shadowColor=e["chart.key.shadow.color"],t.shadowBlur=e["chart.key.shadow.blur"],t.shadowOffsetX=e["chart.key.shadow.offsetx"],t.shadowOffsetY=e["chart.key.shadow.offsety"]),t.beginPath(),t.fillStyle=e["chart.key.background"],t.strokeStyle="black",("undefined"==typeof e["chart.key.position.graph.boxed"]||"boolean"==typeof e["chart.key.position.graph.boxed"]&&e["chart.key.position.graph.boxed"])&&0!=arguments[3]&&(t.lineWidth="number"==typeof e["chart.key.linewidth"]?e["chart.key.linewidth"]:1,1==e["chart.key.rounded"]?(t.beginPath(),t.strokeStyle=y,r.strokedCurvyRect(t,Math.round(n),Math.round(c),g-5,5+(a+5)*r.getKeyLength(d),4),t.stroke(),t.fill(),r.NoShadow(i)):(t.strokeRect(Math.round(n),Math.round(c),g-5,5+(a+5)*r.getKeyLength(d)),t.fillRect(Math.round(n),Math.round(c),g-5,5+(a+5)*r.getKeyLength(d)))),r.NoShadow(i),t.beginPath(),e["chart.key.colors"]&&(u=e["chart.key.colors"]);for(var h=d.length-1;h>=0;h--){var s=Number(h)+1;if("object"==typeof e["chart.key.color.shape"]&&"string"==typeof e["chart.key.color.shape"][h])var p=e["chart.key.color.shape"][h];else if("string"==typeof e["chart.key.color.shape"])var p=e["chart.key.color.shape"];else var p="square";"circle"==p?(t.beginPath(),t.fillStyle=u[h],t.arc(n+5+l/2,c+5*s+a*s-a+l/2,l/2,0,6.26,0),t.fill()):"line"==p?(t.beginPath(),t.strokeStyle=u[h],t.moveTo(n+5,c+5*s+a*s-a+l/2),t.lineTo(n+l+5,c+5*s+a*s-a+l/2),t.stroke()):"triangle"==p?(t.beginPath(),t.strokeStyle=u[h],t.moveTo(n+5,c+5*s+a*s-a+l),t.lineTo(n+l/2+5,c+5*s+a*s-a),t.lineTo(n+l+5,c+5*s+a*s-a+l),t.closePath(),t.fillStyle=u[h],t.fill()):(t.fillStyle=u[h],t.fillRect(n+5,c+5*s+a*s-a,a,a+1)),t.beginPath(),t.fillStyle="black",ret=r.Text2(i,{font:v,size:a,x:n+l+5+5,y:c+5*s+a*s+3,text:d[h]}),i.coords.key[h]=[ret.x,ret.y,ret.width,ret.height,d[h],u[h],i]}t.fill()}function d(i,u,l){var c="number"==typeof e["chart.key.text.size"]?e["chart.key.text.size"]:e["chart.text.size"],v=e["chart.text.font"],x=i.gutterLeft,y=i.gutterRight,w=i.gutterTop,d=(i.gutterBottom,(o.width-x-y)/2+i.gutterLeft),n=w-c-5,h=(e["chart.title"],c),p=8,g=4,b=e["chart.key.background"],_="#999";for(length=0,i.coords||(i.coords={}),i.coords.key=[],t.font=c+"pt "+v,a=0;a<u.length;++a)length+=p,length+=h,length+=p,length+=t.measureText(u[a]).width;if(length+=p,"pie"==i.type)if("left"==e["chart.align"])var d=i.radius+x;else if("right"==e["chart.align"])var d=o.width-i.radius-y;else d=o.width/2;d-=length/2,"number"==typeof e["chart.key.position.x"]&&(d=e["chart.key.position.x"]),"number"==typeof e["chart.key.position.y"]&&(n=e["chart.key.position.y"]),i.Get("chart.key.position.gutter.boxed")&&(e["chart.key.shadow"]&&(t.shadowColor=e["chart.key.shadow.color"],t.shadowBlur=e["chart.key.shadow.blur"],t.shadowOffsetX=e["chart.key.shadow.offsetx"],t.shadowOffsetY=e["chart.key.shadow.offsety"]),t.beginPath(),t.fillStyle=b,t.strokeStyle=_,e["chart.key.rounded"]?r.strokedCurvyRect(t,d,n-g,length,c+g+g):t.rect(d,n-g,length,c+g+g),t.stroke(),t.fill(),r.NoShadow(i)),e["chart.key.colors"]&&(l=e["chart.key.colors"]);for(var a=0,s=d;a<u.length;++a){if(s+=p,"object"==typeof e["chart.key.color.shape"]&&"string"==typeof e["chart.key.color.shape"][a])var m=e["chart.key.color.shape"][a];else if("string"==typeof e["chart.key.color.shape"])var m=e["chart.key.color.shape"];else var m="square";"line"==m?(t.beginPath(),t.strokeStyle=l[a],t.moveTo(s,n+h/2),t.lineTo(s+h,n+h/2),t.stroke()):"circle"==m?(t.beginPath(),t.fillStyle=l[a],t.moveTo(s,n+h/2),t.arc(s+h/2,n+h/2,h/2,0,6.28,0),t.fill()):"triangle"==m?(t.fillStyle=l[a],t.beginPath(),t.strokeStyle=l[a],t.moveTo(s,n+h),t.lineTo(s+h/2,n),t.lineTo(s+h,n+h),t.closePath(),t.fill()):(t.beginPath(),t.fillStyle=l[a],t.rect(s,n,h,h),t.fill()),s+=h,s+=p,t.beginPath(),t.fillStyle="black";var f=r.Text2(i,{font:v,size:c,x:s,y:n+c+3,text:u[a]});t.fill(),s+=t.measureText(u[a]).width,i.coords.key[a]=[f.x,f.y,f.width,f.height,u[a],l[a],i]}}if(h){var r=RGraph,o=a.canvas,t=a.context,e=a.properties,s=e["chart.key.position"],c=(e["chart.text.size"],[]),g=[];t.lineWidth=1,t.beginPath(),"number"==typeof e["chart.key.vpos"]&&a.Set("chart.key.position.y",e["chart.key.vpos"]*e["chart.gutter.top"]);for(var i=0;i<h.length;++i)null!=h[i]&&(g.push(n[i]),c.push(h[i]));if(h=c,n=g,s&&"gutter"==s?d(a,h,n):s&&"graph"==s?p(a,h,n):alert("[COMMON] ("+a.id+") Unknown key position: "+s),e["chart.key.interactive"]){RGraph.Drawing&&RGraph.Drawing.Rect||alert("[INTERACTIVE KEY] The drawing API Rect library does not appear to have been included (which the interactive key uses)"),RGraph.InstallWindowMousedownListener||alert("[INTERACTIVE KEY] The dynamic library does not appear to have been included");for(var i=0,u=a.coords.key.length,l=0;u>i;i+=1)l=Math.max(l,a.coords.key[i][2]);a.coords.key.forEach(function(t,i){var r=new RGraph.Drawing.Rect(a.id,t[0],t[1],"gutter"==e["chart.key.position"]?t[2]:l,t[3]).Set("fillstyle","rgba(0,0,0,0)").Draw();r.onclick=function(s,t){var h=r.context;h.fillStyle=e["chart.key.interactive.highlight.label"],h.fillRect(t.x,t.y,t.width,t.height),"function"==typeof a.interactiveKeyHighlight&&a.interactiveKeyHighlight(i)},r.onmousemove=function(t){t.target.style.cursor="pointer"}})}}},RGraph.getKeyLength=function(e){for(var a=0,t=0;t<e.length;++t)null!=e[t]&&++a;return a},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),__rgraph_resizing_preserve_css_properties__=[],RGraph.AllowResizing=function(r){if(r.Get("chart.resizable")){var e=r.canvas,a=r.context,t=15;RGraph.Resizing.canvas=e,RGraph.Resizing.placeHolders=[],e.__original_width__||e.__original_height__||(e.__original_width__=e.width,e.__original_height__=e.height);var i="object"==typeof r.Get("chart.resize.handle.adjust")&&"number"==typeof r.Get("chart.resize.handle.adjust")[0]?r.Get("chart.resize.handle.adjust")[0]:0,h="object"==typeof r.Get("chart.resize.handle.adjust")&&"number"==typeof r.Get("chart.resize.handle.adjust")[1]?r.Get("chart.resize.handle.adjust")[1]:0;a.measureText("Reset").width+2;var s=r.Get("chart.resize.handle.background");s||(s="rgba(0,0,0,0)"),a.beginPath(),a.fillStyle=s,a.moveTo(e.width-t-t+i,e.height-t),a.rect(e.width-t-t+i,e.height-t+h,2*t,t),a.fill(),r.context.beginPath(),r.context.strokeStyle="gray",r.context.fillStyle="rgba(0,0,0,0)",r.context.lineWidth=1,r.context.moveTo(Math.round(r.canvas.width-t/2+i),r.canvas.height-t+h),r.context.lineTo(Math.round(r.canvas.width-t/2+i),r.canvas.height+h),r.context.moveTo(r.canvas.width+i,Math.round(r.canvas.height-t/2+h)),r.context.lineTo(r.canvas.width-t+i,Math.round(r.canvas.height-t/2+h)),a.stroke(),a.fill(),a.fillStyle="gray",a.beginPath(),a.moveTo(e.width-t/2+i,e.height-t+h),a.lineTo(e.width-t/2+3+i,e.height-t+3+h),a.lineTo(e.width-t/2-3+i,e.height-t+3+h),a.closePath(),a.fill(),a.beginPath(),a.moveTo(e.width-t/2+i,e.height+h),a.lineTo(e.width-t/2+3+i,e.height-3+h),a.lineTo(e.width-t/2-3+i,e.height-3+h),a.closePath(),a.fill(),a.beginPath(),a.moveTo(e.width-t+i,e.height-t/2+h),a.lineTo(e.width-t+3+i,e.height-t/2+3+h),a.lineTo(e.width-t+3+i,e.height-t/2-3+h),a.closePath(),a.fill(),a.beginPath(),a.moveTo(e.width+i,e.height-t/2+h),a.lineTo(e.width-3+i,e.height-t/2+3+h),a.lineTo(e.width-3+i,e.height-t/2-3+h),a.closePath(),a.fill(),a.beginPath(),a.fillStyle="white",a.moveTo(e.width+i,e.height-t/2+h),a.rect(e.width-t/2-2+i,e.height-t/2-2+h,4,4),a.rect(e.width-t/2-2+i,e.height-t/2-2+h,4,4),a.stroke(),a.fill(),a.beginPath(),a.fillStyle="gray",a.moveTo(Math.round(e.width-t-3+i),e.height-t/2+h),a.lineTo(Math.round(e.width-t-t+i),e.height-t/2+h),a.lineTo(e.width-t-t+2+i,e.height-t/2-2+h),a.lineTo(e.width-t-t+2+i,e.height-t/2+2+h),a.lineTo(e.width-t-t+i,e.height-t/2+h),a.stroke(),a.fill(),a.beginPath(),a.moveTo(Math.round(e.width-t-t-1+i),e.height-t/2-3+h),a.lineTo(Math.round(e.width-t-t-1+i),e.height-t/2+3+h),a.stroke(),a.fill();var n=function(t){t=RGraph.FixEventObject(t);var e=RGraph.Resizing.canvas,a=RGraph.Resizing.originalw-(RGraph.Resizing.originalx-t.pageX),r=RGraph.Resizing.originalh-(RGraph.Resizing.originaly-t.pageY);RGraph.Resizing.mousedown&&(a>e.__original_width__/2&&(RGraph.Resizing.div.style.width=a+"px"),r>e.__original_height__/2&&(RGraph.Resizing.div.style.height=r+"px"),RGraph.FireCustomEvent(e.__object__,"onresize"))};"boolean"!=typeof e.rgraph_resize_window_mousemove_listener_installed&&(window.addEventListener("mousemove",n,!1),e.rgraph_resize_window_mousemove_listener_installed=!0);var o=function(){if(RGraph.Resizing&&RGraph.Resizing.div&&RGraph.Resizing.mousedown){if(RGraph.Resizing.div){var a=RGraph.Resizing.div,t=a.__canvas__;RGraph.getCanvasXY(a.__canvas__);var r=t.parentNode;if("absolute"!=t.style.position){var e=document.createElement("DIV");e.style.width=RGraph.Resizing.originalw+"px",e.style.height=RGraph.Resizing.originalh+"px",e.style.display="inline-block",e.style.position=t.style.position,e.style.left=t.style.left,e.style.top=t.style.top,e.style.cssFloat=t.style.cssFloat,r.insertBefore(e,t)}t.style.backgroundColor="white",t.style.position="absolute",t.style.border="1px dashed gray",t.style.left=RGraph.Resizing.originalCanvasX-1+"px",t.style.top=RGraph.Resizing.originalCanvasY-1+"px",t.width=parseInt(a.style.width),t.height=parseInt(a.style.height),t.getContext("2d").translate(.5,.5),RGraph.FireCustomEvent(t.__object__,"onresizebeforedraw"),RGraph.RedrawCanvas(t),RGraph.Resizing.mousedown=!1,a.style.display="none",document.body.removeChild(a)}(RGraph.Registry.Get("chart.zoomed.div")||RGraph.Registry.Get("chart.zoomed.img"))&&(RGraph.Registry.Set("chart.zoomed.div",null),RGraph.Registry.Set("chart.zoomed.img",null)),RGraph.FireCustomEvent(t.__object__,"onresizeend")}},l=o;"boolean"!=typeof e.rgraph_resize_window_mouseup_listener_installed&&(window.addEventListener("mouseup",l,!1),e.rgraph_resize_window_mouseup_listener_installed=!0);var c=function(r){r=RGraph.FixEventObject(r);var a=RGraph.getMouseXY(r);r.target.__object__;var e=r.target;e.getContext("2d");var i=e.style.cursor;RGraph.Resizing.original_cursor||(RGraph.Resizing.original_cursor=i),a[0]>e.width-t&&a[0]<e.width&&a[1]>e.height-t&&a[1]<e.height?e.style.cursor="move":a[0]>e.width-t-t&&a[0]<e.width-t&&a[1]>e.height-t&&a[1]<e.height?e.style.cursor="pointer":RGraph.Resizing.original_cursor?(e.style.cursor=RGraph.Resizing.original_cursor,RGraph.Resizing.original_cursor=null):e.style.cursor="default"};"boolean"!=typeof e.rgraph_resize_mousemove_listener_installed&&(e.addEventListener("mousemove",c,!1),e.rgraph_resize_mousemove_listener_installed=!0);var g=function(t){t.target.style.cursor="default",t.target.title=""};"boolean"!=typeof e.rgraph_resize_mouseout_listener_installed&&(e.addEventListener("mouseout",g,!1),e.rgraph_resize_mouseout_listener_installed=!0);var d=function(i){i=RGraph.FixEventObject(i);var h=RGraph.getMouseXY(i),n=RGraph.getCanvasXY(i.target),e=i.target;if(h[0]>r.canvas.width-t&&h[0]<r.canvas.width&&h[1]>r.canvas.height-t&&h[1]<r.canvas.height){RGraph.FireCustomEvent(r,"onresizebegin"),null==e.__original_css_border__&&(e.__original_css_border__=e.style.border),RGraph.Resizing.mousedown=!0;var a=document.createElement("DIV");a.style.position="absolute",a.style.left=n[0]+"px",a.style.top=n[1]+"px",a.style.width=e.width+"px",a.style.height=e.height+"px",a.style.border="1px dotted black",a.style.backgroundColor="gray",a.style.opacity=.5,a.__canvas__=i.target,document.body.appendChild(a),RGraph.Resizing.div=a,RGraph.Resizing.placeHolders.push(a);for(var s=0;s<RGraph.Resizing.placeHolders.length-1;++s)RGraph.Resizing.placeHolders[s].style.display="none";a.onmouseup=function(t){o(t)},RGraph.Resizing.div.onmouseover=function(t){t=RGraph.FixEventObject(t),t.stopPropagation()},RGraph.Resizing.originalx=i.pageX,RGraph.Resizing.originaly=i.pageY,RGraph.Resizing.originalw=r.canvas.width,RGraph.Resizing.originalh=r.canvas.height,RGraph.Resizing.originalCanvasX=RGraph.getCanvasXY(r.canvas)[0],RGraph.Resizing.originalCanvasY=RGraph.getCanvasXY(r.canvas)[1]}h[0]>e.width-t-t&&h[0]<e.width-t&&h[1]>e.height-t&&h[1]<e.height&&(RGraph.FireCustomEvent(e.__object__,"onresizebegin"),e.width=e.__original_width__,e.height=e.__original_height__,e.style.border=e.__original_css_border__,e.style.left=parseInt(e.style.left)+"px",e.style.top=parseInt(e.style.top)+"px",e.getContext("2d").translate(.5,.5),RGraph.FireCustomEvent(e.__object__,"onresizebeforedraw"),RGraph.Redraw(),RGraph.Resizing.div&&(RGraph.Resizing.div.style.width=e.__original_width__+"px",RGraph.Resizing.div.style.height=e.__original_height__+"px"),RGraph.FireCustomEvent(e.__object__,"onresize"),RGraph.FireCustomEvent(e.__object__,"onresizeend"))};"boolean"!=typeof e.rgraph_resize_mousedown_listener_installed&&(e.addEventListener("mousedown",d,!1),e.rgraph_resize_mousedown_listener_installed=!0)}},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.tooltips={},RGraph.tooltips.padding="3px",RGraph.tooltips.font_face="Tahoma",RGraph.tooltips.font_size="10pt",RGraph.Tooltip=function(e,h,d,l,a,n){if("function"==typeof e.Get("chart.tooltips.override"))return e.Get("chart.tooltips.override")(e,h,d,l,a);h=RGraph.getTooltipTextFromDIV(h);var o=RGraph.Registry.Get("chart.tooltip.timers");if(o&&o.length)for(i=0;i<o.length;++i)clearTimeout(o[i]);RGraph.Registry.Set("chart.tooltip.timers",[]),e.Get("chart.contextmenu")&&RGraph.HideContext();var r=e.Get("chart.tooltips.effect")?e.Get("chart.tooltips.effect").toLowerCase():"fade",t=document.createElement("DIV");if(t.className=e.Get("chart.tooltips.css.class"),t.style.display="none",t.style.position=RGraph.isFixed(e.canvas)?"fixed":"absolute",t.style.left=0,t.style.top=0,t.style.backgroundColor="rgb(255,255,239)",t.style.color="black",document.all||(t.style.border=""),t.style.visibility="visible",t.style.paddingLeft=RGraph.tooltips.padding,t.style.paddingRight=RGraph.tooltips.padding,t.style.fontFamily=RGraph.tooltips.font_face,t.style.fontSize=RGraph.tooltips.font_size,t.style.zIndex=3,RGraph.trim(h).length>0&&(t.style.border="1px #bbb solid"),t.style.borderRadius="5px",t.style.MozBorderRadius="5px",t.style.WebkitBorderRadius="5px",t.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",t.style.MozBoxShadow="rgba(96,96,96,0.5) 0 0 15px",t.style.boxShadow="rgba(96,96,96,0.5) 0 0 15px",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)",t.style.opacity=0,t.innerHTML=h,t.__text__=h,t.__canvas__=e.canvas,t.style.display="inline",t.id="__rgraph_tooltip_"+e.canvas.id+"_"+e.uid+"_"+a,t.__event__=e.Get("chart.tooltips.event")||"click",t.__object__=e,"number"==typeof a&&(t.__index__=a,origIdx=a),"line"==e.type||"radar"==e.type){for(var s=0;s<e.data.length&&a>=e.data[s].length;++s)a-=e.data[s].length;t.__dataset__=s,t.__index2__=a}document.body.appendChild(t);var c=t.offsetWidth,g=t.offsetHeight;t.style.width=c+"px",t.style.top=l-g-2+"px","function"==typeof e.positionTooltip?t.innerHTML.length>0&&(e.positionTooltip(e,d,l,t,origIdx?origIdx:a),e.Get("chart.tooltips.coords.page")&&(t.style.left=n.pageX-c/2-4.25+"px",t.style.top=n.pageY-g-10+"px",document.getElementById("__rgraph_tooltip_pointer__").style.left=parseInt(t.offsetWidth)/2-8.5+"px")):(t.style.left=n.pageX-c/2-4.25+"px",t.style.top=n.pageY-g-7+"px"),("fade"==r||"expand"==r||"contract"==r||"snap"==r)&&(setTimeout(function(){t.style.opacity=.1},25),setTimeout(function(){t.style.opacity=.2},50),setTimeout(function(){t.style.opacity=.3},75),setTimeout(function(){t.style.opacity=.4},100),setTimeout(function(){t.style.opacity=.5},125),setTimeout(function(){t.style.opacity=.6},150),setTimeout(function(){t.style.opacity=.7},175),setTimeout(function(){t.style.opacity=.8},200),setTimeout(function(){t.style.opacity=.9},225),("expand"==r||"contract"==r||"snap"==r)&&console.log("[RGRAPH] The snap, expand and contract tooltip effects are deprecated. Available effects now are fade and none")),setTimeout("if (RGraph.Registry.Get('chart.tooltip')) { RGraph.Registry.Get('chart.tooltip').style.opacity = 1;}","none"==r?50:250),t.onmousedown=function(t){t.stopPropagation()},t.onmouseup=function(t){t.stopPropagation()},t.onclick=function(t){0==t.button&&t.stopPropagation()},RGraph.Registry.Set("chart.tooltip",t),RGraph.FireCustomEvent(e,"ontooltip")},RGraph.getTooltipTextFromDIV=function(e){var t=/^id:(.*)/.exec(e);return t&&t[1]&&document.getElementById(t[1])?e=document.getElementById(t[1]).innerHTML:t&&t[1]&&(e=""),e},RGraph.getTooltipWidth=function(e,a){var t=document.createElement("DIV");return t.className=a.Get("chart.tooltips.css.class"),t.style.paddingLeft=RGraph.tooltips.padding,t.style.paddingRight=RGraph.tooltips.padding,t.style.fontFamily=RGraph.tooltips.font_face,t.style.fontSize=RGraph.tooltips.font_size,t.style.visibility="hidden",t.style.position="absolute",t.style.top="300px",t.style.left=0,t.style.display="inline",t.innerHTML=RGraph.getTooltipTextFromDIV(e),document.body.appendChild(t),t.offsetWidth},RGraph.HideTooltip=function(){var t=RGraph.Registry.Get("chart.tooltip"),e=arguments[0]&&arguments[0].uid?arguments[0].uid:null;!t||!t.parentNode||e&&e!=t.__canvas__.uid||(t.parentNode.removeChild(t),t.style.display="none",t.style.visibility="hidden",RGraph.Registry.Set("chart.tooltip",null))},RGraph.PreLoadTooltipImages=function(r){var i=r.Get("chart.tooltips");if(RGraph.hasTooltips(r)){if("rscatter"==r.type){i=[];for(var e=0;e<r.data.length;++e)i.push(r.data[3])}for(var e=0;e<i.length;++e){var t=document.createElement("DIV");t.style.position="absolute",t.style.opacity=0,t.style.top="-100px",t.style.left="-100px",t.innerHTML=i[e],document.body.appendChild(t);for(var h=t.getElementsByTagName("IMG"),s=0;s<h.length;++s)if(h&&h[e]){var a=document.createElement("IMG");a.style.position="absolute",a.style.opacity=0,a.style.top="-100px",a.style.left="-100px",a.src=h[e].src,document.body.appendChild(a),setTimeout(function(){document.body.removeChild(a)},250)}document.body.removeChild(t)}}},RGraph.Tooltips_mousemove=function(e,a){var t=e.getShape(a),r=!1;if(t&&"number"==typeof t.index&&e.Get("chart.tooltips")[t.index]){var i=RGraph.parseTooltipText(e.Get("chart.tooltips"),t.index);i&&(r=!0,"onmousemove"==e.Get("chart.tooltips.event")&&(RGraph.Registry.Get("chart.tooltip")&&RGraph.Registry.Get("chart.tooltip").__object__.uid==e.uid&&RGraph.Registry.Get("chart.tooltip").__index__==t.index||(RGraph.HideTooltip(),RGraph.Clear(e.canvas),RGraph.Redraw(),RGraph.Tooltip(e,i,a.pageX,a.pageY,t.index),e.Highlight(t))))}else if(t&&"number"==typeof t.index){var i=RGraph.parseTooltipText(e.Get("chart.tooltips"),t.index);i&&(r=!0)}return r},"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Zoom=function(o){if(o=RGraph.FixEventObject(o),o&&o.target&&o.target.__canvas__)var r=o.target.__canvas__;else if(o&&o.target&&o.target.__object__){var r=o.target.__object__.canvas;o.stopPropagation()}if(!r){var f=RGraph.Registry.Get("chart.contextmenu").__canvas__;if(f)var r=f}r.getContext("2d");var h=r.__object__,b=r.toDataURL(),y=RGraph.getCanvasXY(r),c=h.Get("chart.zoom.factor")-1,u=y[0],p=y[1],i=document.createElement("img");i.className="RGraph_zoomed_canvas",i.style.border="1px solid #ccc",i.style.width=r.width+"px",i.style.height=r.height+"px",i.style.position="absolute",i.style.left=u+"px",i.style.top=p+"px",i.style.backgroundColor="white",i.style.opacity=h.Get("chart.zoom.fade.in")?0:1,i.style.zIndex=99,i.src=b,document.body.appendChild(i),__zoomedimage__=i,__zoomedimage__.obj=h,i.onclick=function(t){return t=RGraph.FixEventObject(t),t.stopPropagation(),!1};var l=parseInt(r.width),n=parseInt(r.height),e=h.Get("chart.zoom.frames"),s=h.Get("chart.zoom.delay");if("center"==h.Get("chart.zoom.hdir"))for(var t=1;e>=t;++t){var g=l*c*(t/e)+l,_=u+r.width,m=u+r.width/2-g/2;setTimeout("__zoomedimage__.style.width = '"+String(g)+"px'; __zoomedimage__.style.left = '"+m+"px'",t*s)}else if("left"==h.Get("chart.zoom.hdir"))for(var t=1;e>=t;++t){var g=l*c*(t/e)+l,_=u+r.width,m=_-g;setTimeout("__zoomedimage__.style.width = '"+String(g)+"px'; __zoomedimage__.style.left = '"+m+"px'",t*s)}else for(var t=1;e>=t;++t){var g=l*c*(t/e)+l;setTimeout("__zoomedimage__.style.width = '"+String(g)+"px'",t*s)}if("up"==h.Get("chart.zoom.vdir"))for(var t=1;e>=t;++t){var d=n*c*(t/e)+n,v=p+r.height,x=v-d;setTimeout("__zoomedimage__.style.height = '"+String(d)+"px'; __zoomedimage__.style.top = '"+x+"px'",t*s)}else if("center"==h.Get("chart.zoom.vdir"))for(var t=1;e>=t;++t){var d=n*c*(t/e)+n,v=p+r.height/2+d/2,x=v-d;setTimeout("__zoomedimage__.style.height = '"+String(d)+"px'; __zoomedimage__.style.top = '"+x+"px'",t*s)}else for(var t=1;e>=t;++t)setTimeout("__zoomedimage__.style.height = '"+String(n*c*(t/e)+n)+"px'",t*s);if(h.Get("chart.zoom.fade.in"))for(var t=1;e>=t;++t)setTimeout("__zoomedimage__.style.opacity = "+Number(t/e),t*(s/2));if(h.Get("chart.zoom.shadow"))for(var t=1;e>=t;++t)setTimeout("__zoomedimage__.style.boxShadow = 'rgba(128,128,128,"+Number(t/e)/2+") 0 0 25px'",t*s),setTimeout("__zoomedimage__.style.MozBoxShadow = 'rgba(128,128,128,"+Number(t/e)/2+") 0 0 25px'",t*s),setTimeout("__zoomedimage__.style.WebkitBoxShadow = 'rgba(128,128,128,"+Number(t/e)/2+") 0 0 25px'",t*s);var a=document.createElement("DIV");a.style.backgroundColor="white",a.style.opacity=0,a.style.position="fixed",a.style.top=0,a.style.left=0,a.style.width=screen.width+100+"px",a.style.height=screen.height+100+"px",a.style.zIndex=98,a.onclick=a.oncontextmenu=function(t){return RGraph.HideZoomedCanvas(t)},a.origHeight=a.style.height,document.body.appendChild(a),__zoomedbackground__=a;for(var t=1;e>=t;++t)setTimeout("__zoomedbackground__.style.opacity = "+.8*Number(t/e),t*(s/2));RGraph.FireCustomEvent(h,"onzoom")},"undefined"==typeof RGraph&&(RGraph={}),RGraph.CornerGauge=function(o,r,s,n){if(this.id=o,this.canvas=document.getElementById(o),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="cornergauge",this.min=r,this.max=s,this.value=n,this.angles={},this.angles.needle=[],this.centerpin={},this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.coordsText=[],"object"==typeof this.value)for(var h=0;h<this.value.length;++h)this.value[h]>this.max&&(this.value[h]=s),this.value[h]<this.min&&(this.value[h]=r);else this.value>this.max&&(this.value=s),this.value<this.min&&(this.value=r);RGraph.OldBrowserCompat(this.context),this.properties={"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.strokestyle":"black","chart.linewidth":2,"chart.title":"","chart.title.vpos":.5,"chart.title.size":null,"chart.title.x":null,"chart.title.y":null,"chart.title.bold":!0,"chart.text.font":"Arial","chart.text.color":"#666","chart.text.size":10,"chart.background.gradient.color1":"#ddd","chart.background.gradient.color2":"white","chart.shadow":!0,"chart.shadow.color":"gray","chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.resizable":!1,"chart.chart.resize.handle.background":null,"chart.adjustable":!1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.colors.ranges":null,"chart.red.start":r+.9*(this.max-r),"chart.green.end":r+.7*(this.max-r),"chart.red.color":"red","chart.yellow.color":"yellow","chart.green.color":"#0f0","chart.value.text":!0,"chart.value.text.units.pre":"","chart.value.text.units.post":"","chart.value.text.boxed":!0,"chart.value.text.font":"Arial","chart.value.text.size":18,"chart.value.text.bold":!1,"chart.value.text.decimals":0,"chart.centerpin.stroke":"rgba(0,0,0,0)","chart.centerpin.fill":null,"chart.centerpin.color":"blue","chart.needle.colors":["#ccc","#D5604D","red","green","yellow"],"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,t=i.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]},this.Draw=function(){if(a.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=e["chart.gutter.left"],this.gutterRight=e["chart.gutter.right"],this.gutterTop=e["chart.gutter.top"],this.gutterBottom=e["chart.gutter.bottom"],this.radius=Math.min(i.width-this.gutterLeft-this.gutterRight,i.height-this.gutterTop-this.gutterBottom),"number"==typeof e["chart.radius"]&&(this.radius=e["chart.radius"]),this.centerx=i.width/2-this.radius/2+Math.max(30,.1*this.radius),this.centery=i.height/2+this.radius/2-.1*this.radius,"number"==typeof e["chart.centerx"]&&(this.centerx=e["chart.centerx"]),"number"==typeof e["chart.centery"]&&(this.centery=e["chart.centery"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.DrawBackGround(),this.DrawTickmarks(),this.DrawColorBands(),this.DrawLabel(),this.DrawLabels(),"object"==typeof this.value)for(var t=0,h=this.value.length;h>t;++t)this.DrawNeedle(t,this.value[t],this.radius-65);else this.DrawNeedle(0,this.value,this.radius-65);this.DrawCenterpin();var r=e["chart.title.size"]?e["chart.title.size"]:e["chart.text.size"]+2;e["chart.title.y"]=this.centery+20-this.radius-1.5*r/2,RGraph.DrawTitle(this,e["chart.title"],this.guttertop,this.centerx+this.radius/2,r),e["chart.contextmenu"]&&RGraph.ShowContext(this),e["chart.resizable"]&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw")},this.DrawBackGround=function(){e["chart.shadow"]&&RGraph.SetShadow(this,e["chart.shadow.color"],e["chart.shadow.offsetx"],e["chart.shadow.offsety"],e["chart.shadow.blur"]),t.strokeStyle=e["chart.strokestyle"],t.lineWidth=e["chart.linewidth"]?e["chart.linewidth"]:1e-4,t.beginPath(),t.arc(this.centerx,this.centery,30,0,TWOPI,!1),t.stroke(),t.beginPath(),t.moveTo(this.centerx-20,this.centery+20),t.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),t.closePath(),t.fill(),t.stroke(),a.NoShadow(this),t.strokeStyle=e["chart.strokestyle"],t.lineWidth=e["chart.linewidth"]?e["chart.linewidth"]:1e-4,t.beginPath(),t.moveTo(this.centerx-20,this.centery+20),t.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),t.closePath(),t.stroke(),RGraph.NoShadow(this),t.lineWidth=0,t.fillStyle=RGraph.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,.5*this.radius,e["chart.background.gradient.color1"],e["chart.background.gradient.color2"]),t.beginPath(),t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,30,0,TWOPI,0),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.centerx-20,this.centery+20),t.lineTo(this.centerx-20,this.centery+20-this.radius),t.arc(this.centerx-20,this.centery+20,this.radius,PI+HALFPI,TWOPI,!1),t.closePath(),t.fill(),t.beginPath(),t.lineWidth=1,t.strokeStyle="#eee";for(var r=0;5>=r;++r){var i=a.getRadiusEndPoint(this.centerx,this.centery,HALFPI/5*r+PI+HALFPI,30),h=a.getRadiusEndPoint(this.centerx,this.centery,HALFPI/5*r+PI+HALFPI,this.radius-90);t.moveTo(i[0],i[1]),t.lineTo(h[0],h[1])}t.stroke()},this.DrawNeedle=function(r,i,h){var s=a.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,20,"rgba(0,0,0,0)",e["chart.needle.colors"][r]);this.angles.needle[r]=(i-this.min)/(this.max-this.min)*HALFPI+PI+HALFPI,t.lineWidth=1,t.strokeStyle="rgba(0,0,0,0)",t.fillStyle=s,t.beginPath(),t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,10,this.angles.needle[r]-HALFPI,this.angles.needle[r]-HALFPI+1e-6,!1),t.arc(this.centerx,this.centery,h-30,this.angles.needle[r],this.angles.needle[r]+1e-6,!1),t.arc(this.centerx,this.centery,10,this.angles.needle[r]+HALFPI,this.angles.needle[r]+HALFPI+1e-6,!1),t.stroke(),t.fill()
},this.DrawCenterpin=function(){e["chart.centerpin.fill"]||(e["chart.centerpin.fill"]=a.RadialGradient(this,this.centerx+5,this.centery-5,0,this.centerx+5,this.centery-5,20,"white",e["chart.centerpin.color"])),t.strokeStyle=e["chart.centerpin.stroke"],t.fillStyle=e["chart.centerpin.fill"],t.beginPath(),t.lineWidth=2,t.arc(this.centerx,this.centery,15,0,TWOPI,!1),t.stroke(),t.fill()},this.DrawLabels=function(){var i=5;t.fillStyle=e["chart.text.color"];for(var r=0;i>r;++r){t.beginPath();var h=Number(this.min+(this.max-this.min)*(r/(i-1))).toFixed(e["chart.scale.decimals"]);h=a.number_format(this,h,e["chart.units.pre"],e["chart.units.post"]);var s=22.5*r/(180/PI);a.Text2(this,{font:e["chart.text.font"],size:e["chart.text.size"],x:this.centerx+Math.sin(s)*(this.radius-53),y:this.centery-Math.cos(s)*(this.radius-53),text:String(h),valign:"top",halign:"center",angle:90*(r/(i-1)),tag:"scale"}),t.fill()}},this.DrawTickmarks=function(){for(var r=5,i=25,a=0;i>a;++a){t.beginPath();var e=HALFPI/(i-1)*a;t.lineWidth=1,t.arc(this.centerx,this.centery,this.radius-44,PI+HALFPI+e,PI+HALFPI+e+1e-4,!1),t.arc(this.centerx,this.centery,this.radius-46,PI+HALFPI+e,PI+HALFPI+e+1e-4,!1),t.stroke()}for(var a=0;r>a;++a){t.beginPath();var e=HALFPI/(r-1)*a;t.lineWidth=1,t.arc(this.centerx,this.centery,this.radius-43,PI+HALFPI+e,PI+HALFPI+e+1e-4,!1),t.arc(this.centerx,this.centery,this.radius-47,PI+HALFPI+e,PI+HALFPI+e+1e-4,!1),t.stroke()}},this.DrawColorBands=function(){if(a.is_array(e["chart.colors.ranges"]))for(var i=e["chart.colors.ranges"],r=0,g=i.length;g>r;++r)t.fillStyle=i[r][2],t.lineWidth=0,t.beginPath(),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"],(i[r][0]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),(i[r][1]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),!1),t.arc(this.centerx,this.centery,this.radius-54-10-1.5*e["chart.text.size"],(i[r][1]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),(i[r][0]-this.min)/(this.max-this.min)*HALFPI+(PI+HALFPI),!0),t.closePath(),t.fill();else{t.strokeStyle=e["chart.green.color"],t.fillStyle=e["chart.green.color"];var h=PI+HALFPI,s=h+(TWOPI-h)*((e["chart.green.end"]-this.min)/(this.max-this.min));t.beginPath(),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"],h,s,!1),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"]-10,s,h,!0),t.fill(),t.strokeStyle=e["chart.yellow.color"],t.fillStyle=e["chart.yellow.color"];var n=s,o=(e["chart.red.start"]-this.min)/(this.max-this.min)*HALFPI+PI+HALFPI;t.beginPath(),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"],n,o,!1),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"]-10,o,n,!0),t.fill(),t.strokeStyle=e["chart.red.color"],t.fillStyle=e["chart.red.color"];var l=o,c=TWOPI;t.beginPath(),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"],l,c,!1),t.arc(this.centerx,this.centery,this.radius-54-1.5*e["chart.text.size"]-10,c,l,!0),t.fill()}},this.DrawLabel=function(){if(e["chart.value.text"]){t.strokeStyle=e["chart.text.color"],t.fillStyle=e["chart.text.color"];var r="number"==typeof this.value?this.value.toFixed(e["chart.value.text.decimals"]):this.value;if("object"==typeof r){for(var i=0;i<r.length;++i)r[i]=Number(r[i]).toFixed(e["chart.value.text.decimals"]);r=r.toString()}a.Text2(this,{font:e["chart.value.text.font"],size:e["chart.value.text.size"],x:this.centerx+Math.cos(45*(PI/180))*(this.radius/3),y:this.centery-Math.sin(45*(PI/180))*(this.radius/3),text:a.number_format(this,String(r),e["chart.value.text.units.pre"],e["chart.value.text.units.post"]),valign:"center",halign:"center",bounding:e["chart.value.text.boxed"],boundingFill:"white",bold:e["chart.value.text.bold"],tag:"value.text"})}},this.getShape=function(){},this.getValue=function(s){var r=RGraph.getMouseXY(s),i=r[0],h=r[1],e=a.getAngleByXY(this.centerx,this.centery,i,h);if(e>TWOPI&&PI+HALFPI>e)return null;var t=(e-(PI+HALFPI))/(TWOPI-(PI+HALFPI))*(this.max-this.min);return t+=this.min,t<this.min&&(t=this.min),t>this.max&&(t=this.max),i>this.centerx&&h>this.centery&&(t=this.max),t},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e);return t[0]>this.centerx-5&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+5&&a.getHypLength(this.centerx,this.centery,t[0],t[1])<=this.radius?this:void 0},this.Adjusting_mousemove=function(t){e["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(t),a.Clear(i),a.RedrawCanvas(i),a.FireCustomEvent(this,"onadjust"))},this.getAngle=function(t){if(t<this.min||t>this.max)return null;var e=(t-this.min)/(this.max-this.min)*HALFPI;return e+=PI+HALFPI},this.parseColors=function(){if(a.is_null(e["chart.colors.ranges"]))e["chart.green.color"]=this.parseSingleColorForGradient(e["chart.green.color"]),e["chart.yellow.color"]=this.parseSingleColorForGradient(e["chart.yellow.color"]),e["chart.red.color"]=this.parseSingleColorForGradient(e["chart.red.color"]);else for(var t=0;t<e["chart.colors.ranges"].length;++t)e["chart.colors.ranges"][t][2]=this.parseSingleColorForGradient(e["chart.colors.ranges"][t][2])},this.parseSingleColorForGradient=function(r){if(!r||"string"!=typeof r)return r;if(r.match(/^gradient\((.*)\)$/i)){var i=RegExp.$1.split(":"),o=this.radius-54-e["chart.text.size"],n=o-15,h=t.createRadialGradient(this.centerx,this.centery,o,this.centerx,this.centery,n),l=1/(i.length-1);h.addColorStop(0,a.trim(i[0]));for(var s=1,c=i.length;c>s;++s)h.addColorStop(s*l,a.trim(i[s]))}return h?h:r},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Circle=function(r,i,h,s){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.centerx=i,this.centery=h,this.radius=s,this.type="drawing.circle",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"rgba(0,0,0,0)","chart.fillstyle":"red","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":!1,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.highlight.stroke":"black","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.linewidth":2},!this.canvas)return alert("[DRAWING.CIRCLE] No canvas support"),void 0;this.coords=[[i,h,s]],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,o=this.canvas,e=o.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),e.beginPath(),e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.fillstyle"],e.lineWidth=t["chart.linewidth"],t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),e.arc(this.coords[0][0],this.coords[0][1],this.radius,0,TWOPI,!1),e.fill(),e.stroke(),a.NoShadow(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(r){var e=RGraph.getMouseXY(r);return e[0],e[1],a.getHypLength(this.centerx,this.centery,e[0],e[1])<=this.radius?{0:this,1:this.centerx,2:this.centery,3:this.radius,4:null,5:0,object:this,x:this.centerx,y:this.centery,radius:this.radius,index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}:null},this.positionTooltip=function(h,o,n,t){var i=a.getCanvasXY(h.canvas),e=t.offsetWidth,s=t.offsetHeight;this.radius,t.style.left=0,t.style.top=i[1]+h.centery-s-7+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),i[0]+h.centerx-e/2<10?(t.style.left=i[0]+this.centerx-.1*e+"px",r.style.left=.1*e-8.5+"px"):i[0]+h.centerx+e/2>document.body.offsetWidth?(t.style.left=i[0]+this.centerx-.9*e+"px",r.style.left=.9*e-8.5+"px"):(t.style.left=i[0]+this.centerx-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.Highlight=function(){t["chart.tooltips.highlight"]&&(e.beginPath(),e.strokeStyle=t["chart.highlight.stroke"],e.fillStyle=t["chart.highlight.fill"],e.arc(this.centerx,this.centery,this.radius+.5,0,TWOPI,!1),e.fill(),e.stroke())},this.parseColors=function(){t["chart.fillstyle"]=this.parseSingleColorForGradient(t["chart.fillstyle"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"])},this.parseSingleColorForGradient=function(t){if(!t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createLinearGradient(0,0,o.width,0),s=1/(r.length-1);i.addColorStop(0,RGraph.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Image=function(r,h,s){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.x=h,this.y=s,this.src="string"==typeof arguments[3]?arguments[3]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAjCAYAAAAXMhMjAAAD5klEQVRYR+2Yf0xbVRTHP++1tHQMqBXKoIBAtmyIsokmIyxujgRdRMniT5yRzGjizIIxCm5m/lhiTESasDhEh0vcjDrnP0bBuYhuJoIsSrIpG3Nbha5IEQgrsxNKKe95Xxs16hikbdKaeJKXl/T+eJ9+zz3nnnslVRjCslIl7RUX5r4YRELS4DSwAaclLsA0iPy8C2iAUmYKajyB/aGQBvg/XDjrJSrK9Z7biDHRR1dnF/6Aj4KCPEpLy0nW7QmH6c8xUYE7+VMV9sYDHO2Yxu+HnFy4b9MK6raOxh5u3welvNZ0iOFBwSIygCkJim8081T9atbe9F3YgFFRbtebZTS83I46AzNCOVkPZevMPLOjhDWrTsQW7hV7Ca82fIFO5HBZhlmhXtlaM9ueL2RN8ZnYwu0/WCzc+hVDwq3qrEyiSaJUwB3cH8ry4VrEbvXqC+nuUtn57DecOQlKAJKT4f6aLBpf8oXLFRwXMZw2ydHvLey2Ozj2pXDpNFxthU2b03lu22zs4U6ct9LS5KT9Q18wKLJyoPbJfDbXXIw9nHMik70to7zdPIYi4IquT6J++zJuu9UVG7gplmPir0hsfS8F+04n3gm4ZX0G23esYOXK3tjA/fOrbUcsAs6Bywl33JnF7tcjC4aoBYQ2UWePleZGB6f7Atx1byYvviAiI0KLSrRqDMdP2WjdNcAPvZeofiib2q2TEaJFKZVoFM6ha9m3x013dz8PP2aj+p6p+IH7bXo1B94Z4/OOHrbULqH8ZrHJRmhRc+uY9xrOnTbybc9xKjakUVQQJ8oFJJuo47JxnRenJVmHNVNH0uJxDLN9EWkXFeV+di/j8KduDrUNMj4OGTYj1Q/ms6EynUX6U2EDRgXurVYz9oZ+vJ5grQminisugcefSGPj7Urs4H48m0pT4yCftQdIELXcpEhvinhb0uDuBzJ4us7GVSaRmcOweZWTE3LFfjn3Hnm238obzSO8/65HFJsS+gRJACokm6HmkVzq6nPFQWfutedXlmOQL1+QXhFO0q9CDVy5zB75tYCOw5O0NPfhcAh5RDVsWgTX3aDn0S05lK9PJ1XSGua2GbmcBOXIvzrMq9x83vBJFXg8Vjq/dvHxR8cYHLpAwdJsKqtKWFeeTcriCYzTbfNNc9n2iOHC+uoCB/034QJyEYrfg0HvDv1PxSbWUwJa4a1IKqokY1AHFqjBAroZqsD/yd86xrVyFZVLQ/dz5mSJEVf83M/lFeoY/mU0BKfpGc7NplGkjSntpC+OhHqxMyQm6jAYZC55Z7SsgioysqroQ4+qE7+JR+RDGbGdzGGJliX0DwwHW38HIHO9QizDMu0AAAAASUVORK5CYII=",this.img=new Image,this.img.src=this.src,this.type="drawing.image",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.src":null,"chart.width":null,"chart.height":null,"chart.halign":"left","chart.valign":"top","chart.events.mousemove":null,"chart.events.click":null,"chart.shadow":!1,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.alpha":1},!this.canvas)return alert("[DRAWING.IMAGE] No canvas support"),void 0;this.coords=[],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){a.FireCustomEvent(this,"onbeforedraw");var r=this;this.img.onload=function(){if(r.colorsParsed||(r.parseColors(),r.colorsParsed=!0),r.width=this.width,r.height=this.height,"undefined"==typeof alignmentProcessed){var t="number"==typeof r.properties["chart.width"]&&"number"==typeof r.properties["chart.width"];"center"==r.properties["chart.halign"]?r.x-=t?r.properties["chart.width"]/2:this.width/2:"right"==r.properties["chart.halign"]&&(r.x-=t?r.properties["chart.width"]:this.width),"center"==r.properties["chart.valign"]?r.y-=t?r.properties["chart.height"]/2:this.height/2:"bottom"==r.properties["chart.valign"]&&(r.y-=t?r.properties["chart.height"]:this.height),alignmentProcessed=!0}},(this.img.complete||4===this.img.readyState)&&this.img.onload(),t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]);var s=e.globalAlpha;e.globalAlpha=t["chart.alpha"],"number"==typeof t["chart.width"]&&"number"==typeof t["chart.width"]?e.drawImage(this.img,Math.round(this.x),Math.round(this.y),t["chart.width"],t["chart.height"]):e.drawImage(this.img,Math.round(this.x),Math.round(this.y)),e.globalAlpha=s;var h=this;return this.img.onload=function(){RGraph.RedrawCanvas(i),h.coords[0]=[Math.round(h.x),Math.round(h.y),"number"==typeof t["chart.width"]?t["chart.width"]:this.width,"number"==typeof t["chart.height"]?t["chart.height"]:this.height]},a.NoShadow(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return a.getMouseXY(t),this.getShape(t)?this:void 0},this.getShape=function(r){var e=a.getMouseXY(r);return e[0],e[1],this.coords&&this.coords[0]&&e[0]>=this.coords[0][0]&&e[0]<=this.coords[0][0]+this.coords[0][2]&&e[1]>=this.coords[0][1]&&e[1]<=this.coords[0][1]+this.coords[0][3]?{0:this,1:this.coords[0][0],2:this.coords[0][1],3:this.coords[0][2],4:this.coords[0][3],5:0,object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}:null},this.positionTooltip=function(h,o,n,t){var i=a.getCanvasXY(h.canvas),e=t.offsetWidth,s=t.offsetHeight;t.style.left=0,t.style.top=i[1]+this.coords[0][1]-s-7+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),i[0]+h.coords[0][0]+h.coords[0][2]/2-e/2<10?(t.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.1*e+"px",r.style.left=.1*e-8.5+"px"):i[0]+this.coords[0][0]+this.coords[0][2]/2+e/2>document.body.offsetWidth?(t.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.9*e+"px",r.style.left=.9*e-8.5+"px"):(t.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.Highlight=function(){t["chart.tooltips.highlight"]&&(e.beginPath(),e.strokeStyle=t["chart.highlight.stroke"],e.fillStyle=t["chart.highlight.fill"],e.rect(this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]),e.fill(),e.stroke())},this.parseColors=function(){t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createLinearGradient(this.x,this.y,this.x+this.img.width,this.y),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Marker1=function(r,i,h,s,o){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.centerx=i,this.centery=h,this.radius=s,this.text=o,this.type="drawing.marker1",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"black","chart.fillstyle":"white","chart.linewidth":2,"chart.text.color":"black","chart.text.size":12,"chart.text.font":"Arial","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":!0,"chart.shadow.color":"#aaa","chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.align":"center"},!this.canvas)return alert("[DRAWING.MARKER1] No canvas support"),void 0;this.$0={},this.coords=[],this.coordsText=[],this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,n=this.canvas,t=n.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t.toLowerCase()]},this.Draw=function(){a.FireCustomEvent(this,"onbeforedraw");var r=this.radius;return"left"==e["chart.align"]?(this.markerCenterx=this.centerx-r-r-3,this.markerCentery=this.centery-r-r-3):"right"==e["chart.align"]?(this.markerCenterx=this.centerx+r+r+3,this.markerCentery=this.centery-r-r-3):(this.markerCenterx=this.centerx,this.markerCentery=this.centery-r-r-3),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t.beginPath(),e["chart.shadow"]&&a.SetShadow(this,e["chart.shadow.color"],e["chart.shadow.offsetx"],e["chart.shadow.offsety"],e["chart.shadow.blur"]),t.lineWidth=e["chart.linewidth"],t.strokeStyle=e["chart.strokestyle"],t.fillStyle=e["chart.fillstyle"],this.DrawMarker(),t.stroke(),t.fill(),a.NoShadow(this),t.fillStyle=e["chart.text.color"],a.Text2(this,{font:e["chart.text.font"],size:e["chart.text.size"],x:this.coords[0][0]-1,y:this.coords[0][1]-1,text:this.text,valign:"center",halign:"center",tag:"labels"}),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(i){var r=a.getMouseXY(i);return r[0],r[1],t.beginPath(),this.DrawMarker(),t.isPointInPath(r[0],r[1])?{0:this,1:this.coords[0][0],2:this.coords[0][1],3:this.coords[0][2],4:0,object:this,x:this.coords[0][0],y:this.coords[0][1],radius:this.coords[0][2],index:0,tooltip:e["chart.tooltips"]?e["chart.tooltips"][0]:null}:null},this.positionTooltip=function(h,o,n,t){var i=a.getCanvasXY(h.canvas),e=t.offsetWidth,s=t.offsetHeight;t.style.left=0,t.style.top=i[1]+this.coords[0][1]-s-7-this.radius+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),i[0]+h.coords[0][0]+h.coords[0][2]/2-e/2<10?(t.style.left=i[0]+this.markerCenterx-.1*e+"px",r.style.left=.1*e-8.5+"px"):i[0]+this.coords[0][0]+this.coords[0][2]/2+e/2>document.body.offsetWidth?(t.style.left=i[0]+this.markerCenterx-.9*e+"px",r.style.left=.9*e-8.5+"px"):(t.style.left=i[0]+this.markerCenterx-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.Highlight=function(){e["chart.tooltips.highlight"]&&(t.beginPath(),t.strokeStyle=e["chart.highlight.stroke"],t.fillStyle=e["chart.highlight.fill"],this.DrawMarker(),t.closePath(),t.stroke(),t.fill())},this.DrawMarker=function(){var a=this.radius;if("left"==e["chart.align"]){var r=this.markerCenterx,i=this.markerCentery;t.arc(r,i,a,HALFPI,TWOPI,!1),ISOLD?(t.moveTo(r+a+a,i+a+a),t.quadraticCurveTo(r+a,i+a,r+a+1,i),t.moveTo(r+a+a,i+a+a)):t.quadraticCurveTo(r+a,i+a,r+a+a,i+a+a),t.quadraticCurveTo(r+a,i+a,r,i+a+(ISOLD?1:0))}else if("right"==e["chart.align"]){var r=this.markerCenterx,i=this.markerCentery;t.arc(r,i,a,HALFPI,PI,!0),ISOLD?(t.moveTo(r-a-a,i+a+a),t.quadraticCurveTo(r-a,i+a,r-a-1,i),t.moveTo(r-a-a,i+a+a)):t.quadraticCurveTo(r-a,i+a,r-a-a,i+a+a),t.quadraticCurveTo(r-a,i+a,r,i+a+(ISOLD?1:0))}else{var r=this.markerCenterx,i=this.markerCentery;t.arc(r,i,a,HALFPI/2,PI-HALFPI/2,!0),ISOLD?(t.moveTo(r,i+a+a-2),t.quadraticCurveTo(r,i+a+a/4,r-Math.cos(HALFPI/2)*a,i+Math.sin(HALFPI/2)*a),t.moveTo(r,i+a+a-2)):t.quadraticCurveTo(r,i+a+a/4,r,i+a+a-2),t.quadraticCurveTo(r,i+a+a/4,r+Math.cos(HALFPI/2)*a,i+Math.sin(HALFPI/2)*a)}this.coords[0]=[r,i,a]},this.parseColors=function(){e["chart.fillstyle"]=this.parseSingleColorForGradient(e["chart.fillstyle"]),e["chart.strokestyle"]=this.parseSingleColorForGradient(e["chart.strokestyle"]),e["chart.highlight.stroke"]=this.parseSingleColorForGradient(e["chart.highlight.stroke"]),e["chart.highlight.fill"]=this.parseSingleColorForGradient(e["chart.highlight.fill"]),e["chart.text.color"]=this.parseSingleColorForGradient(e["chart.text.color"])},this.parseSingleColorForGradient=function(e){if(!e||"string"!=typeof e)return e;if(e.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=t.createRadialGradient(this.markerCenterx,this.markerCentery,0,this.markerCenterx,this.markerCentery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:e},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Marker2=function(r,h,s,o){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.x=h,this.y=s,this.text=o,this.type="drawing.marker2",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"black","chart.fillstyle":"white","chart.text.color":"black","chart.text.size":12,"chart.text.font":"Arial","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":!0,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.voffset":20},!this.canvas)return alert("[DRAWING.MARKER2] No canvas support"),void 0;this.coords=[],this.coordsText=[],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,i=this.canvas,a=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){e.FireCustomEvent(this,"onbeforedraw"),this.metrics=e.MeasureText(this.text,t["chart.text.bold"],t["chart.text.font"],t["chart.text.size"]),this.x+this.metrics[0]>=i.width&&(this.alignRight=!0),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0);var r=this.alignRight?this.x-this.metrics[0]-6:this.x,h=this.y-6-t["chart.voffset"]-this.metrics[1],s=this.metrics[0]+6,o=this.metrics[1]+6;return this.coords[0]=[r,h,s,o],t["chart.shadow"]&&e.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),a.strokeStyle=t["chart.strokestyle"],a.fillStyle=t["chart.fillstyle"],a.strokeRect(r+(this.alignRight?s:0),h,0,o+t["chart.voffset"]-6),a.strokeRect(r,h,s,o),a.fillRect(r,h,s,o),e.NoShadow(this),a.fillStyle=t["chart.text.color"],e.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:Math.round(this.x)-(this.alignRight?this.metrics[0]+3:-3),y:this.y-3-t["chart.voffset"],text:this.text,valign:"bottom",halign:"left",tag:"labels"}),this.coords[0].push([r,h,s,o]),e.NoShadow(this),a.textBaseline="alphabetic",e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return e.getMouseXY(t),this.getShape(t)?this:void 0},this.getShape=function(h){var a=e.getMouseXY(h),r=a[0],i=a[1];return r>=this.coords[0][0]&&r<=this.coords[0][0]+this.coords[0][2]&&i>=this.coords[0][1]&&i<=this.coords[0][1]+this.coords[0][3]?{0:this,1:this.coords[0][0],2:this.coords[0][1],3:this.coords[0][2],4:this.coords[0][3],5:0,object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}:null},this.positionTooltip=function(s,n,l,a){e.MeasureText(this.text,!1,t["chart.text.font"],t["chart.text.size"]);var h=e.getCanvasXY(s.canvas),r=a.offsetWidth,o=a.offsetHeight;a.style.left=0,a.style.top=h[1]+this.coords[0][1]-o-9+"px",a.style.overflow="";var i=new Image;i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",i.style.position="absolute",i.id="__rgraph_tooltip_pointer__",i.style.top=a.offsetHeight-2+"px",a.appendChild(i),h[0]+s.coords[0][0]+s.coords[0][2]/2-r/2<10?(a.style.left=h[0]+this.coords[0][0]+this.coords[0][2]/2-.1*r+"px",i.style.left=.1*r-8.5+"px"):h[0]+this.coords[0][0]+this.coords[0][2]/2+r/2>document.body.offsetWidth?(a.style.left=h[0]+this.coords[0][0]+this.coords[0][2]/2-.9*r+"px",i.style.left=.9*r-8.5+"px"):(a.style.left=h[0]+this.coords[0][0]+this.coords[0][2]/2-.5*r+"px",i.style.left=.5*r-8.5+"px")},this.Highlight=function(){t["chart.tooltips.highlight"]&&(a.beginPath(),a.strokeStyle=t["chart.highlight.stroke"],a.fillStyle=t["chart.highlight.fill"],a.rect(this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]),a.fill(),a.stroke())},this.parseColors=function(){t["chart.fillstyle"]=this.parseSingleColorForGradient(t["chart.fillstyle"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.text.color"]=this.parseSingleColorForGradient(t["chart.text.color"])},this.parseSingleColorForGradient=function(t){if(this.canvas,this.context,!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=a.createLinearGradient(this.x,this.y,this.x+this.metrics[0],this.y),s=1/(r.length-1);i.addColorStop(0,e.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,e.trim(r[h]))}return i?i:t},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Poly=function(r,h){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.coords=h,this.coordsText=[],this.type="drawing.poly",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"black","chart.fillstyle":"red","chart.events.click":null,"chart.events.mousemove":null,"chart.tooltips":null,"chart.tooltips.override":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.2)","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5},!this.canvas)return alert("[DRAWING.POLY] No canvas support"),void 0;this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,t=i.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t.beginPath(),t.strokeStyle=e["chart.strokestyle"],t.fillStyle=e["chart.fillstyle"],t.lineWidth=e["chart.linewidth"],e["chart.shadow"]&&(t.shadowColor=e["chart.shadow.color"],t.shadowOffsetY=e["chart.shadow.offsetx"],t.shadowOffsetX=e["chart.shadow.offsety"],t.shadowBlur=e["chart.shadow.blur"]),this.DrawPoly(),t.stroke(),t.fill(),a.NoShadow(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.DrawPoly=function(){var e=this.coords;t.beginPath(),t.moveTo(e[0][0],e[0][1]);for(var a=1,r=e.length;r>a;++a)t.lineTo(e[a][0],e[a][1]);t.closePath(),t.stroke(),t.fill()},this.getShape=function(r){this.coords;var a=RGraph.getMouseXY(r),i=a[0],h=a[1];return t.beginPath(),t.strokeStyle="rgba(0,0,0,0)",t.fillStyle="rgba(0,0,0,0)",this.DrawPoly(),t.isPointInPath(i,h)?{0:this,1:this.coords,2:0,object:this,coords:this.coords,index:0,tooltip:e["chart.tooltips"]?e["chart.tooltips"][0]:null}:null},this.positionTooltip=function(i,r,h,t){var s=RGraph.getCanvasXY(i.canvas),e=t.offsetWidth,o=t.offsetHeight;t.style.left=0,t.style.top=h-o-7+"px",t.style.overflow="";var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",a.style.position="absolute",a.id="__rgraph_tooltip_pointer__",a.style.top=t.offsetHeight-2+"px",t.appendChild(a),10>r-e/2?(t.style.left=s[0]+r-.1*e-8.5+"px",a.style.left=.1*e-8.5+"px"):r+e/2>document.body.offsetWidth?(t.style.left=r-.9*e+"px",a.style.left=.9*e-8.5+"px"):(t.style.left=r-e/2+"px",a.style.left=.5*e-8.5+"px")},this.Highlight=function(){e["chart.tooltips.highlight"]&&(t.beginPath(),t.strokeStyle=e["chart.highlight.stroke"],t.fillStyle=e["chart.highlight.fill"],this.DrawPoly(),t.fill(),t.stroke())},this.parseColors=function(){var t=this.parseSingleColorForGradient;e["chart.fillstyle"]=t(e["chart.fillstyle"]),e["chart.strokestyle"]=t(e["chart.strokestyle"]),e["chart.highlight.stroke"]=t(e["chart.highlight.stroke"]),e["chart.highlight.fill"]=t(e["chart.highlight.fill"])},this.parseSingleColorForGradient=function(e){if(!e)return e;if(e.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),h=t.createLinearGradient(0,0,i.width,0),o=1/(r.length-1);h.addColorStop(0,a.trim(r[0]));for(var s=1,n=r.length;n>s;++s)h.addColorStop(s*o,a.trim(r[s]))}return h?h:e},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Rect=function(r,h,s,o,n){if(this.id=r,this.canvas=document.getElementById(r),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.type="drawing.rect",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"rgba(0,0,0,0)","chart.fillstyle":"red","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":!1,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.highlight.stroke":"black","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.tooltips.valign":"top"},!this.canvas)return alert("[DRAWING.RECT] No canvas support"),void 0;
this.coords=[[Math.round(h),Math.round(s),o,n]],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,i=this.canvas,a=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return e.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),a.beginPath(),a.strokeStyle=t["chart.strokestyle"],a.fillStyle=t["chart.fillstyle"],t["chart.shadow"]&&e.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),a.rect(this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]),a.stroke(),a.fill(),e.NoShadow(this),e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(c){for(var l=RGraph.getMouseXY(c),o=l[0],n=l[1],h=0,g=this.coords.length;g>h;h++){var e=this.coords[h],a=e[0],r=e[1],s=e[2],i=e[3];if(o>=a&&a+s>=o&&n>=r&&r+i>=n)return{0:this,1:a,2:r,3:s,4:i,5:0,object:this,x:a,y:r,width:s,height:i,index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}}return null},this.positionTooltip=function(o,d,u,a){var s=o.coords[0][0],l=o.coords[0][1],n=o.coords[0][2],g=o.coords[0][3],h=e.getCanvasXY(o.canvas),i=a.offsetWidth,c=a.offsetHeight;a.style.left=0,a.style.top="center"==t["chart.tooltips.valign"]?h[1]+l+g/2-c+"px":h[1]+l-c-7+"px",a.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=a.offsetHeight-2+"px",a.appendChild(r),h[0]+s+n/2-i/2<10?(a.style.left=h[0]+s-.1*i+n/2+"px",r.style.left=.1*i-8.5+"px"):h[0]+s+i/2>document.body.offsetWidth?(a.style.left=h[0]+s-.9*i+n/2+"px",r.style.left=.9*i-8.5+"px"):(a.style.left=h[0]+s+n/2-.5*i+"px",r.style.left=.5*i-8.5+"px")},this.Highlight=function(t){e.Highlight.Rect(this,t)},this.parseColors=function(){t["chart.fillstyle"]=this.parseSingleColorForGradient(t["chart.fillstyle"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"])},this.parseSingleColorForGradient=function(t){if(!t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),h=a.createLinearGradient(0,0,i.width,0),o=1/(r.length-1);h.addColorStop(0,e.trim(r[0]));for(var s=1,n=r.length;n>s;++s)h.addColorStop(s*o,e.trim(r[s]))}return h?h:t},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.Text=function(a,h,s,o){if(this.id=a,this.canvas=document.getElementById(a),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.x=h,this.y=s,this.text=o,this.coords=[],this.coordsText=[],this.type="drawing.text",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.size":10,"chart.font":"Arial","chart.bold":!1,"chart.angle":0,"chart.colors":["black"],"chart.events.click":null,"chart.events.mousemove":null,"chart.highlight.stroke":"#ccc","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.bounding":!1,"chart.bounding.fill":"rgba(255,255,255,0.7)","chart.bounding.stroke":"#777","chart.bounding.shadow":!1,"chart.bounding.shadow.color":"#ccc","chart.bounding.shadow.blur":3,"chart.bounding.shadow.offsetx":3,"chart.bounding.shadow.offsety":3,"chart.marker":!1,"chart.halign":"left","chart.valign":"bottom"},!this.canvas)return alert("[DRAWING.TEXT] No canvas support"),void 0;this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,r=this.canvas,i=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){e.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.coords=[],e.MeasureText(this.text,t["chart.text.bold"],t["chart.text.font"],t["chart.text.size"]),i.fillStyle=t["chart.colors"][0];var a=e.Text2(this,{font:t["chart.font"],size:t["chart.size"],x:this.x,y:this.y,text:this.text,bold:t["chart.bold"],angle:t["chart.angle"],bounding:t["chart.bounding"],"bounding.fill":t["chart.bounding.fill"],"bounding.stroke":t["chart.bounding.stroke"],"bounding.shadow":t["chart.bounding.shadow"],"bounding.shadow.color":t["chart.bounding.shadow.color"],"bounding.shadow.blur":t["chart.bounding.shadow.blur"],"bounding.shadow.offsetx":t["chart.bounding.shadow.offsetx"],"bounding.shadow.offsety":t["chart.bounding.shadow.offsety"],marker:t["chart.marker"],halign:t["chart.halign"],valign:t["chart.valign"]});return this.coords.push({x:a.x,y:a.y,width:a.width,height:a.height}),e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(g){for(var s=this.properties,e=this.coords,l=RGraph.getMouseXY(g),n=l[0],o=l[1],t=0,c=this.coords.length;c>t;t++){var r=e[t].x,a=e[t].y,h=e[t].width,i=e[t].height;if(n>=r&&r+h>=n&&o>=a&&a+i>=o)return{0:this,1:r,2:a,3:h,4:i,5:0,object:this,x:r,y:a,width:h,height:i,index:0,tooltip:s["chart.tooltips"]?s["chart.tooltips"][0]:null}}return null},this.positionTooltip=function(o,g,d,t){var h=o.coords[0],i=h.x,c=h.y,s=h.width,n=h.height,r=RGraph.getCanvasXY(o.canvas),a=t.offsetWidth,l=t.offsetHeight;t.style.left=0,t.style.top=r[1]+c+n/2-l+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),r[0]+i+s/2-a/2<10?(t.style.left=r[0]+i-.1*a+s/2+"px",e.style.left=.1*a-8.5+"px"):r[0]+i+a/2>document.body.offsetWidth?(t.style.left=r[0]+i-.9*a+s/2+"px",e.style.left=.9*a-8.5+"px"):(t.style.left=r[0]+i+s/2-.5*a+"px",e.style.left=.5*a-8.5+"px")},this.Highlight=function(t){e.Highlight.Rect(this,t)},this.parseColors=function(){t["chart.fillstyle"]=this.parseSingleColorForGradient(t["chart.fillstyle"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"])},this.parseSingleColorForGradient=function(t){if(!t)return t;if(t.match(/^gradient\((.*)\)$/i)){var a=RegExp.$1.split(":"),h=i.createLinearGradient(0,0,r.width,0),o=1/(a.length-1);h.addColorStop(0,RGraph.trim(a[0]));for(var s=1,n=a.length;n>s;++s)h.addColorStop(s*o,e.trim(a[s]))}return h?h:t},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.XAxis=function(i,h){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.y=h,this.coords=[],this.coordsText=[],this.type="drawing.xaxis",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.gutter.left":25,"chart.gutter.right":25,"chart.labels":null,"chart.labels.position":"section","chart.colors":["black"],"chart.title.color":null,"chart.text.color":null,"chart.text.font":"Arial","chart.text.size":10,"chart.align":"bottom","chart.numlabels":5,"chart.scale.visible":!0,"chart.scale.formatter":null,"chart.scale.decimals":0,"chart.scale.invert":!1,"chart.scale.zerostart":!0,"chart.units.pre":"","chart.units.post":"","chart.title":"","chart.numticks":null,"chart.hmargin":0,"chart.linewidth":1,"chart.noendtick.left":!1,"chart.noendtick.right":!1,"chart.noxaxis":!1,"chart.max":null,"chart.min":0,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.events.click":null,"chart.events.mousemove":null,"chart.xaxispos":"bottom","chart.yaxispos":"left"},!this.canvas)return alert("[DRAWING.XAXIS] No canvas support"),void 0;this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,r=this.canvas,a=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.labels"!=e||t["chart.numxticks"]||(t["chart.numxticks"]=a.length),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return e.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],t["chart.text.color"]||(t["chart.text.color"]=t["chart.colors"][0]),t["chart.title.color"]||(t["chart.title.color"]=t["chart.colors"][0]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.DrawXAxis(),e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(c){var a=e.getMouseXY(c),i=a[0],h=a[1];if(i>=this.gutterLeft&&i<=r.width-this.gutterRight&&h>=this.y-("top"==t["chart.align"]?1.5*t["chart.text.size"]+5:0)&&h<=this.y+("top"==t["chart.align"]?0:1.5*t["chart.text.size"]+5)){var s=this.gutterLeft,o=this.y,n=r.width-this.gutterLeft-this.gutterRight,l=15;return{0:this,1:s,2:o,3:n,4:l,5:0,object:this,x:s,y:o,width:n,height:l,index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}}return null},this.positionTooltip=function(n,g,d,a){var o=n.gutterLeft;n.y;var l=r.width-n.gutterLeft-n.gutterRight;1.5*t["chart.text.size"];var s=e.getCanvasXY(r),i=a.offsetWidth,c=a.offsetHeight;a.style.left=0,a.style.top=s[1]+this.y-c-5+("top"==t["chart.align"]?-1*(1.5*t["chart.text.size"]/2):1.5*t["chart.text.size"]/2)+"px",a.style.overflow="";var h=new Image;h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",h.style.position="absolute",h.id="__rgraph_tooltip_pointer__",h.style.top=a.offsetHeight-2+"px",a.appendChild(h),s[0]+o+l/2-i/2<10?(a.style.left=s[0]+o-.1*i+l/2+"px",h.style.left=.1*i-8.5+"px"):s[0]+o+i/2>document.body.offsetWidth?(a.style.left=s[0]+o-.9*i+l/2+"px",h.style.left=.9*i-8.5+"px"):(a.style.left=s[0]+o+l/2-.5*i+"px",h.style.left=.5*i-8.5+"px")},this.Highlight=function(){},this.parseColors=function(){t["chart.colors"][0]=this.parseSingleColorForGradient(t["chart.colors"][0])},this.parseSingleColorForGradient=function(i){if(!i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=a.createLinearGradient(t["chart.gutter.left"],0,r.width-t["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,e.trim(h[0]));for(var o=1,l=h.length;l>o;++o)s.addColorStop(o*n,e.trim(h[o]))}return s?s:i},this.DrawXAxis=function(){var u=t["chart.gutter.left"];t["chart.gutter.right"];var p=this.gutterLeft,o=this.y,v=t["chart.min"],x=t["chart.max"],s=t["chart.labels"],W=t["chart.labels.position"],O=t["chart.colors"][0],j=t["chart.title.color"],F=t["chart.text.color"],n=r.width-this.gutterLeft-this.gutterRight,d=t["chart.text.font"],c=t["chart.text.size"],g=t["chart.align"],l=t["chart.numlabels"],y=t["chart.scale.formatter"],C=Number(t["chart.scale.decimals"]),A=t["chart.scale.invert"],L=t["chart.scale.visible"],z=t["chart.units.pre"],k=t["chart.units.post"],b=t["chart.title"],f=t["chart.numticks"],h=t["chart.hmargin"],M=t["chart.linewidth"],E=t["chart.noendtick.left"],I=t["chart.noendtick.right"],B=t["chart.noxaxis"],P=t["chart.xaxispos"],S=t["chart.yaxispos"];if(e.is_null(f)&&(f=s&&s.length?s.length:s||0==x?l:10),a.lineWidth=M+.001,a.strokeStyle=O,!B){a.beginPath(),a.moveTo(p,Math.round(o)),a.lineTo(p+n,Math.round(o)),a.stroke(),a.beginPath();for(var i=E?1:0;f-(I?1:0)>=i;++i)a.moveTo(Math.round(p+n/f*i),"center"==P?"bottom"==g?o-3:o+3:o),a.lineTo(Math.round(p+n/f*i),o+("bottom"==g?3:-3));a.stroke()}if(a.fillStyle=F,s){l=s.length;for(var w=0,H=0,D=e.MeasureText("Mg",!1,d,c),i=0,T=s.length;T>i;++i)var _=e.MeasureText(s[i],!1,d,c),w=Math.max(w,_[1]),H=Math.max(H,s[i].split("\r\n").length);for(var i=0,T=s.length;T>i;++i)RGraph.Text2(this,{font:d,size:c,x:"edge"==W?(n-h-h)/(s.length-1)*i+u+h:(n-h-h)/s.length*i+n/s.length/2+u+h,y:"bottom"==g?o+3:o-3-w+D[1],text:String(s[i]),valign:"bottom"==g?"top":"bottom",halign:"center",tag:"labels"})}else if(L){if(x||alert("[DRAWING.XAXIS] If not specifying axis.labels you must specify axis.max!"),"center"==S){n/=2;var R=n}else var R=0;for(var i=0;l>=i;++i)if(0!=i||t["chart.scale.zerostart"]){var m=(x-v)/l*i+v,h=t["chart.hmargin"],G=String("function"==typeof y?y(this,m):e.number_format(this,m.toFixed(C),z,k));if(A)var p=n-h-(n-h-h)/l*i+u+R;else var p=(n-h-h)/l*i+u+h+R;e.Text2(this,{font:d,size:c,x:p,y:"bottom"==g?o+3:o-3,text:G,valign:"bottom"==g?"top":"bottom",halign:"center",tag:"scale"})}if("center"==S)for(var i=0;l>i;++i){var m=(x-v)/l*(l-i)+v,h=t["chart.hmargin"],G=String("function"==typeof y?y(this,m):e.number_format(this,m.toFixed(C),z,k));if(A)var p=n-h-(n-h-h)/l*i+u;else var p=(n-h-h)/l*i+u+h;e.Text2(this,{font:d,size:c,x:p,y:"bottom"==g?o+c+2:o-c-2,text:"-"+G,valign:"center",halign:"center",tag:"scale"})}}if(b){var _=e.MeasureText(b,!1,d,c+2);a.fillStyle=j,e.Text2(this,{font:d,size:c+2,x:(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,y:"bottom"==g?o+_[1]+10:o-_[1]-10,text:b,valign:"center",halign:"center",tag:"title"})}},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),"undefined"==typeof RGraph.Drawing&&(RGraph.Drawing={}),RGraph.Drawing.YAxis=function(i,h){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.x=h,this.coords=[],this.coordsText=[],this.type="drawing.yaxis",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.min":0,"chart.max":null,"chart.colors":["black"],"chart.title":"","chart.title.color":null,"chart.text.color":null,"chart.numticks":5,"chart.numlabels":5,"chart.labels.specific":null,"chart.text.font":"Arial","chart.text.size":10,"chart.align":"left","hart.scale.formatter":null,"chart.scale.point":".","chart.scale.decimals":0,"chart.scale.invert":!1,"chart.scale.zerostart":!0,"chart.scale.visible":!0,"chart.units.pre":"","chart.units.post":"","chart.linewidth":1,"chart.noendtick.top":!1,"chart.noendtick.bottom":!1,"chart.noyaxis":!1,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.xaxispos":"bottom","chart.events.click":null,"chart.events.mousemove":null},!this.canvas)return alert("[DRAWING.YAXIS] No canvas support"),void 0;this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],t["chart.text.color"]||(t["chart.text.color"]=t["chart.colors"][0]),t["chart.title.color"]||(t["chart.title.color"]=t["chart.colors"][0]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.DrawYAxis(),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.getShape=function(c){var e=a.getMouseXY(c),i=e[0],h=e[1];if(i>=this.x-("left"==t["chart.align"]?this.getWidth():0)&&i<=this.x+("left"==t["chart.align"]?0:this.getWidth())&&h>=this.gutterTop&&h<=r.height-this.gutterBottom){var s=this.x,o=this.gutterTop,n=15,l=r.height-this.gutterTop-this.gutterBottom;return{0:this,1:s,2:o,3:n,4:l,5:0,object:this,x:s,y:o,width:n,height:l,index:0,tooltip:t["chart.tooltips"]?t["chart.tooltips"][0]:null}}return null},this.positionTooltip=function(l,c,g,e){var o=1.5*t["chart.text.size"],n=l.x-o;l.gutterTop,r.height-l.gutterTop-l.gutterBottom;var s=a.getCanvasXY(r),i=e.offsetWidth;e.offsetHeight,e.style.left=0,e.style.top=s[1]+(r.height-this.gutterTop-this.gutterBottom)/2+"px",e.style.overflow="";var h=new Image;h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",h.style.position="absolute",h.id="__rgraph_tooltip_pointer__",h.style.top=e.offsetHeight-2+"px",e.appendChild(h),s[0]+n+o/2-i/2<10?(e.style.left=s[0]+n-.1*i+o/2+"px",h.style.left=.1*i-8.5+"px"):s[0]+n+i/2>document.body.offsetWidth?(e.style.left=s[0]+n-.9*i+o/2+"px",h.style.left=.9*i-8.5+"px"):(e.style.left=s[0]+n+o/2-.5*i+"px",h.style.left=.5*i-8.5+"px")},this.Highlight=function(){},this.parseColors=function(){t["chart.colors"][0]=this.parseSingleColorForGradient(t["chart.colors"][0])},this.parseSingleColorForGradient=function(i){if(!i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(0,t["chart.gutter.top"],0,r.height-this.gutterBottom),n=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,a.trim(h[o]))}return s?s:i},this.DrawYAxis=function(){for(i in t)if("string"==typeof i){var z=i.replace(/^chart\./,"axis.");t[z]=t[i]}var h=this.x,l=this.gutterTop,n=r.height-this.gutterBottom-this.gutterTop,G=t["chart.min"]?t["chart.min"]:0,I=t["chart.max"],k=t["chart.title"]?t["chart.title"]:"",x=t["chart.colors"]?t["chart.colors"][0]:"black",P=t["chart.title.color"]?t["chart.title.color"]:x,E=t["chart.text.color"]?t["chart.text.color"]:x,m="number"==typeof t["chart.numticks"]?t["chart.numticks"]:10,o=t["chart.labels.specific"],g=t["chart.numlabels"]?t["chart.numlabels"]:5,u=t["chart.text.font"]?t["chart.text.font"]:"Arial",p=t["chart.text.size"]?t["chart.text.size"]:10,s="string"==typeof t["chart.align"]?t["chart.align"]:"left",w=t["chart.scale.formatter"],F=t["chart.scale.decimals"],M=t["chart.scale.invert"],L=t["chart.scale.visible"],B=t["chart.units.pre"],D=t["chart.units.post"],T=t["chart.linewidth"]?t["chart.linewidth"]:1,C=t["chart.noendtick.top"],A=t["chart.noendtick.bottom"],S=t["chart.noyaxis"],f=t["chart.xaxispos"];if(e.lineWidth=T+.001,e.strokeStyle=x,!S&&(e.beginPath(),e.moveTo(Math.round(h),l),e.lineTo(Math.round(h),l+n),e.stroke(),m)){var c=("center"==f?n/2:n)/m,R=n/2;e.beginPath();for(var i=C?1:0;m-(A||"center"==f?1:0)>=i;++i)e.moveTo("right"==s?h+3:h-3,Math.round(l+c*i)),e.lineTo(h,Math.round(l+c*i));if("center"==f)for(var i=1;m>=i;++i)e.moveTo("right"==s?h+3:h-3,Math.round(l+R+c*i)),e.lineTo(h,Math.round(l+R+c*i));e.stroke()}e.fillStyle=E;var b=0;if(L)if(o&&o.length){for(var b=0,i=0,d=o.length;d>i;i+=1)b=Math.max(b,e.measureText(o[i]).width);for(var i=0,d=o.length;d>i;++i){var c=d-1>0?n/(d-1):0;"center"==f&&(c/=2),a.Text2(this,{font:u,size:p,x:h-("right"==s?-5:5),y:i*c+this.gutterTop,text:o[i],valign:"center",halign:"right"==s?"left":"right",tag:"scale"})}if("center"==f)for(var i=o.length-2;i>=0;--i)a.Text2(this,{font:u,size:p,x:h-("right"==s?-5:5),y:r.height-this.gutterBottom-i*c,text:o[i],valign:"center",halign:"right"==s?"left":"right",tag:"scale"})}else for(var i=0;g>=i;++i){var _=(I-G)*((g-i)/g)+G;if(0!=_||0!=t["chart.scale.zerostart"]){var v=a.number_format(this,_.toFixed(F),B,D),v=String("function"==typeof w?w(this,_):v),b=Math.max(b,e.measureText(v).width);if(M)var l=n-n/g*i;else var l=n/g*i;"center"==t["chart.xaxispos"]&&(l/=2),a.Text2(this,{font:u,size:p,x:h-("right"==s?-5:5),y:l+this.gutterTop,text:v,valign:"center",halign:"right"==s?"left":"right",tag:"scale"}),"center"==t["chart.xaxispos"]&&g>i&&a.Text2(this,{font:u,size:p,x:h-("right"==s?-5:5),y:r.height-this.gutterBottom-l,text:"-"+v,valign:"center",halign:"right"==s?"left":"right",tag:"scale"})}}if(k){if(e.beginPath(),e.fillStyle=P,o)for(var y=0,i=0,d=o.length;d>i;i+=1)y=Math.max(y,e.measureText(o[i]).width);else var y=e.measureText(t["chart.units.pre"]+t["chart.max"].toFixed(t["chart.scale.decimals"])+t["chart.units.post"]).width;a.Text2(this,{font:u,size:p+2,x:"right"==h-s?h+y+5:h-y-5,y:n/2+this.gutterTop,text:k,valign:"bottom",halign:"center",angle:"right"==s?90:-90}),e.stroke()}},this.getWidth=function(){var a=e.measureText(t["chart.max"]).width;return t["chart.title"]&&t["chart.title"].length&&(a+=1.5*t["chart.text.size"]),this.width=a,a},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Fuel=function(i,h,s,o){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="fuel",this.isRGraph=!0,this.min=h,this.max=s,this.value=o,this.angles={},this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.coordsText=[],RGraph.OldBrowserCompat(this.context),!this.canvas)return alert("[FUEL] No canvas support"),void 0;this.properties={"chart.colors":["Gradient(white:red)"],"chart.needle.color":"red","chart.gutter.left":5,"chart.gutter.right":5,"chart.gutter.top":5,"chart.gutter.bottom":5,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.adjustable":!1,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAfCAYAAAD0ma06AAAEGElEQVRIS7VXSyhtYRT+jnfe5FEMjAwUBiQGHikzRWIkkgy8YyDK+xnJK5JCeZSUGKBMiAyYkMxMJAMpSfJ+2/d8695/33NunSPnHqt2Z5+91/9///et9a/1b8Pn56dmMBhg/IWDgwNoNzc38PHxkXtN0+Tiexp9eH18fIDj1Bj63N/fw8vLS/wsmcHoqKmXT09PuL29RVFREU5OTvTJ6UIAgioQ+vLe09MTb29v8PX1RWBgICYnJ+XXIqDRWXN0dJT3nIDsWlpadP+lpSWZlD4KmL/8//7+Ls/S09N1/7y8PISHh+sK/QssDJWcHEyGCnB1dRUDAwPIzMzUx5GpAnZ1dcXy8jK2trbM5j06OsLc3JzISx8q4OzsLOOsAq6treHg4AAeHh4WJbq7u0Nzc7P+PiYmBnt7ezg9PcXExAQCAgLg5OSEx8dHuLu7Wwfc3t7G/v6+yEcjO8rIROGKaWdnZ+jr6zMDjI6OxvT0tDzr6uqS2KtksspwZ2cHjY2NuqSUhnHmilUCraysmElaWloKJpQCjI2NRX5+Pl5eXr6WlCv08/MTEMVOZDH+Zzw4CdlfX1/rDHt7ezE1NQXGkcYEKi4ulkVKYlpLGouBs/JiaGgIZL25uSlecXFxohAz/ccAz8/P4e/vj7q6Ojw8PMje5DNRy94MQ0JCUFtbK2wqKipE+sHBQbi4uPwMQ86ak5ODxMREVFdXIywsDCUlJRJDXnZlmJqaip6eHuTm5kqikGlycjIyMjL+ZrY9JSUgMzQiIgINDQ2ypaqqqkCZWXHsnjQEHB8fR0pKigAxabq7uyWOlJNxtLukTJDs7GxUVlZKDNl5oqKi8Pr6+jOAIyMjiI+Pl5JGQG4F1Qy+LN7f3fiUdGZmBsHBwRgbG8Pw8LD01ba2NmlX0rTtnTQLCwvSjEdHR3FxcSExLCwsRGRkpBR9vePzeMDyw3bT1NT0XXLiT4a7u7s4Pj4GGzd7K8GCgoKEsRR8I4Cm6hwHXV5eiv62GAE5npMTmFuBTCkzmzT7qs5Q9TlW/o6ODlvwhCHPM5SVPZIxYzNeXFxEa2srvL29YTC2GI3aMm3Zeq6urv4LMC0tDRsbG1K8k5KS9DgS0IwhKVFjSsJA22r9/f0oKCgQdvPz83JEmZ2dlcpD9maSshow0KZnlO8Csx9yK3BLKCMJPpf2xGMigdi9WXooaWdn53dxdP+amhrZh4eHh1hfX5cTW319vZyBnp+ffzNkBWBmhYaGysB/j322oCckJCArK0uGMlsJ5ubmBoPxRiMzFlomjr2MGdne3i5ANILRJEtJt6ysTG8h9gDl4am8vFwSUWron1O9LulXIOqk9pWftfdSS40yyj5Uh101wPRryuR7R1ZMX/U1pfy5IF40xcgUnGAc9wsGYxsFhy87kwAAAABJRU5ErkJggg==","chart.icon.redraw":!0,"chart.background.image.stretch":!1,"chart.background.image.x":null,"chart.background.image.y":null,"chart.labels.full":"F","chart.labels.empty":"E","chart.labels.count":5,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.scale.visible":!1,"chart.scale.decimals":0,"chart.units.pre":"","chart.units.post":""},this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,t=r.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=e["chart.gutter.left"],this.gutterRight=e["chart.gutter.right"],this.gutterTop=e["chart.gutter.top"],this.gutterBottom=e["chart.gutter.bottom"],this.centerx=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=r.height-20-this.gutterBottom,this.radius=r.height-this.gutterTop-this.gutterBottom-20,"number"==typeof e["chart.centerx"]&&(this.centerx=e["chart.centerx"]),"number"==typeof e["chart.centery"]&&(this.centery=e["chart.centery"]),"number"==typeof e["chart.radius"]&&(this.radius=e["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.angles.start=PI+HALFPI-.5,this.angles.end=PI+HALFPI+.5,this.angles.needle=this.getAngle(this.value),this.DrawLabels(),this.DrawChart(),e["chart.contextmenu"]&&a.ShowContext(this),e["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawChart=function(){this.DrawScale(),ISOLD||this.DrawIcon(),this.DrawNeedle()},this.DrawLabels=function(){if(!e["chart.scale.visible"]){this.radius-20,t.fillStyle=e["chart.text.color"];var r=this.centery-Math.sin(this.angles.start-PI)*(this.radius-25),i=this.centerx-Math.cos(this.angles.start-PI)*(this.radius-25);a.Text2(this,{font:e["chart.text.font"],size:e["chart.text.size"],x:i,y:r,text:e["chart.labels.empty"],halign:"center",valign:"center",tag:"labels"});var r=this.centery-Math.sin(this.angles.start-PI)*(this.radius-25),i=this.centerx+Math.cos(this.angles.start-PI)*(this.radius-25);a.Text2(this,{font:e["chart.text.font"],size:e["chart.text.size"],x:i,y:r,text:e["chart.labels.full"],halign:"center",valign:"center",tag:"labels"})}},this.DrawNeedle=function(){t.beginPath(),t.lineWidth=5,t.lineCap="round",t.strokeStyle=e["chart.needle.color"];var h=this.angles.needle;t.arc(this.centerx,this.centery,this.radius-30,h,h+1e-4,!1),t.lineTo(this.centerx,this.centery),t.stroke(),t.lineWidth=1;var r=this.centerx+10,i=this.centery-10,a=t.createRadialGradient(r,i,35,r,i,0);a.addColorStop(0,"black"),a.addColorStop(1,"#eee"),navigator.userAgent.indexOf("Firefox/6.0")>0&&(a=t.createLinearGradient(r+10,i-10,r-10,i+10),a.addColorStop(1,"#666"),a.addColorStop(.5,"#ccc")),t.beginPath(),t.fillStyle=a,t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,20,0,TWOPI,0),t.fill()},this.DrawScale=function(){var r,l,s;t.beginPath(),t.strokeStyle="black",t.fillStyle="white",t.arc(this.centerx,this.centery,this.radius,this.angles.start,this.angles.end,!1),t.arc(this.centerx,this.centery,this.radius-10,this.angles.end,this.angles.start,!0),t.closePath(),t.stroke(),t.fill();var o=this.angles.start,n=this.angles.needle;for(t.beginPath(),t.fillStyle=e["chart.colors"][0],t.arc(this.centerx,this.centery,this.radius,o,n,!1),t.arc(this.centerx,this.centery,this.radius-10,n,o,!0),t.closePath(),t.fill(),r=this.angles.start;r<=this.angles.end+.01;r+=(this.angles.end-this.angles.start)/5)t.beginPath(),t.arc(this.centerx,this.centery,this.radius-10,r,r+1e-4,!1),t.arc(this.centerx,this.centery,this.radius-15,r+1e-4,r,!0),t.stroke();if(e["chart.scale.visible"]){t.fillStyle=e["chart.text.color"];for(var h=e["chart.labels.count"],p=e["chart.scale.decimals"],c=e["chart.text.font"],g=e["chart.text.size"],d=e["chart.units.post"],u=e["chart.units.pre"],i=0;h>=i;++i)r=(this.angles.end-this.angles.start)*(i/h)+this.angles.start,s=this.centery-Math.sin(r-PI)*(this.radius-25),l=this.centerx-Math.cos(r-PI)*(this.radius-25),a.Text2(this,{font:c,size:g,x:l,y:s,text:a.number_format(this,(this.min+(this.max-this.min)*(i/h)).toFixed(p),u,d),halign:"center",valign:"center",tag:"scale"})}},this.getShape=function(){},this.getValue=function(i){var e=a.getMouseXY(i),t=a.getAngleByXY(this.centerx,this.centery,e[0],e[1]);if(t>=this.angles.end)return this.max;if(t<=this.angles.start)return this.min;var r=(t-this.angles.start)/(this.angles.end-this.angles.start);return r*=this.max-this.min,r+=this.min},this.getObjectByXY=function(e){var t=a.getMouseXY(e);a.getAngleByXY(this.centerx,this.centery,t[0],t[1]);var r=this.centerx-this.radius,i=this.centerx+this.radius,h=this.centery-this.radius,s=this.centery+this.radius;return t[0]>r&&t[0]<i&&t[1]>h&&t[1]<s?this:void 0},this.DrawIcon=function(){if(!ISOLD)if(this.__icon__&&this.__icon__.__loaded__){var i=this.__icon__;t.drawImage(i,this.centerx-i.width/2,this.centery-this.radius+35)}else{var i=new Image;i.src=e["chart.icon"],i.__object__=this,this.__icon__=i,i.onload=function(){i.__loaded__=!0;var h=i.__object__;t.drawImage(i,h.centerx-i.width/2,h.centery-h.radius+35),h.DrawNeedle(),e["chart.icon.redraw"]&&(h.Set("chart.icon.redraw",!1),a.Clear(h.canvas),a.RedrawCanvas(r))}}this.DrawNeedle()},this.Adjusting_mousemove=function(t){e["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(t),a.Clear(r),a.RedrawCanvas(r),a.FireCustomEvent(this,"onadjust"))},this.getAngle=function(t){if(t<this.min||t>this.max)return null;var e=(t-this.min)/(this.max-this.min)*(this.angles.end-this.angles.start)+this.angles.start;return e},this.parseColors=function(){for(var e=this.properties,a=e["chart.colors"],t=0;t<a.length;++t)a[t]=this.parseSingleColorForLinearGradient(a[t]);e["chart.needle.color"]=this.parseSingleColorForRadialGradient(e["chart.needle.color"])},this.parseSingleColorForLinearGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=t.createLinearGradient(e["chart.gutter.left"],0,r.width-e["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,a.trim(h[o]))}return s?s:i},this.parseSingleColorForRadialGradient=function(e){if(!e||"string"!=typeof e)return e;if(e.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=t.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:e},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Funnel=function(h,s){if(this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="funnel",this.coords=[],this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.coordsText=[],RGraph.OldBrowserCompat(this.context),!this.canvas)return alert("[FUNNEL] No canvas support"),void 0;this.properties={"chart.strokestyle":"rgba(0,0,0,0)","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.labels":null,"chart.labels.sticks":!1,"chart.labels.x":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.colors":["Gradient(white:red)","Gradient(white:green)","Gradient(white:gray)","Gradient(white:blue)","Gradient(white:black)","Gradient(white:gray)","Gradient(white:pink)","Gradient(white:blue)","Gradient(white:yellow)","Gradient(white:green)","Gradient(white:red)"],"chart.text.size":10,"chart.text.boxed":!0,"chart.text.halign":"left","chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips.highlight":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.events.click":null,"chart.events.mousemove":null},this.data=s;
for(var a=0;a<s.length;++a)this["$"+a]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var r=RGraph,i=this.canvas,t=i.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),e[t]=a,this},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),e[t.toLowerCase()]},this.Draw=function(){return r.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=e["chart.gutter.left"],this.gutterRight=e["chart.gutter.right"],this.gutterTop=e["chart.gutter.top"],this.gutterBottom=e["chart.gutter.bottom"],this.coords=[],r.DrawTitle(this,e["chart.title"],this.gutterTop,null,e["chart.title.size"]?e["chart.title.size"]:e["chart.text.size"]+2),this.DrawFunnel(),e["chart.contextmenu"]&&r.ShowContext(this),this.DrawLabels(),e["chart.resizable"]&&r.AllowResizing(this),r.InstallEventListeners(this),r.FireCustomEvent(this,"ondraw"),this},this.DrawFunnel=function(){var o=i.width-this.gutterLeft-this.gutterRight,_=i.height-this.gutterTop-this.gutterBottom,n=r.array_max(this.data),h=this.gutterTop;for(e["chart.shadow"]&&(t.shadowColor=e["chart.shadow.color"],t.shadowBlur=e["chart.shadow.blur"],t.shadowOffsetX=e["chart.shadow.offsetx"],t.shadowOffsetY=e["chart.shadow.offsety"]),a=0,len=this.data.length;len>a;++a){var T=this.data[0],G=T/n*o,k=this.data[a],R=k/n*o,l=_/this.data.length,p=R/2,w=this.data[a+1],b=this.data[a+1]?w/n*o:null,y=b/2,s=this.gutterLeft+G/2,x=s-p,m=h,f=s+p,d=h,g=s+y,c=h+l,v=s-y,u=h+l;b&&a<this.data.length-1&&(t.beginPath(),t.strokeStyle=e["chart.strokestyle"],t.fillStyle=e["chart.colors"][a],t.moveTo(x,m),t.lineTo(f,d),t.lineTo(g,c),t.lineTo(v,u),t.closePath(),this.coords.push([x,m,f,d,g,c,v,u])),e["chart.shadow"]||t.stroke(),t.fill(),h+=l}if(e["chart.shadow"])for(r.NoShadow(this),a=0;a<this.coords.length;++a)t.strokeStyle=e["chart.strokestyle"],t.fillStyle=e["chart.colors"][a],t.beginPath(),t.moveTo(this.coords[a][0],this.coords[a][1]),t.lineTo(this.coords[a][2],this.coords[a][3]),t.lineTo(this.coords[a][4],this.coords[a][5]),t.lineTo(this.coords[a][6],this.coords[a][7]),t.closePath(),t.stroke(),t.fill();e["chart.key"]&&e["chart.key"].length&&r.DrawKey(this,e["chart.key"],e["chart.colors"])},this.DrawLabels=function(){if(e["chart.labels"]&&e["chart.labels"].length>0){var h=e["chart.text.font"],o=e["chart.text.size"],p=e["chart.text.color"],c=e["chart.labels"],n="left"==e["chart.text.halign"]?"left":"center",u=e["chart.text.boxed"]?"white":null;if("number"==typeof e["chart.labels.x"])var s=e["chart.labels.x"];else var s="left"==n?this.gutterLeft-15:(i.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft;for(var a=0;a<this.coords.length;++a){t.beginPath(),t.strokeStyle="black",t.fillStyle=p,r.NoShadow(this);var g=c[a];if(r.Text2(this,{font:h,size:o,x:s,y:this.coords[a][1],text:g,valign:"center",halign:n,bounding:e["chart.text.boxed"],boundingFill:u,tag:"labels"}),e["chart.labels.sticks"]){t.font=o+"pt "+h;var d=t.measureText(g).width;t.beginPath(),t.strokeStyle="gray",t.moveTo(s+d+10,Math.round(this.coords[a][1])),t.lineTo(this.coords[a][0]-10,Math.round(this.coords[a][1])),t.stroke()}}var l=c[a];if(l&&(r.Text2(this,{font:h,size:o,x:s,y:this.coords[a-1][5],text:l,valign:"center",halign:n,bounding:e["chart.text.boxed"],boundingFill:u,tag:"labels"}),e["chart.labels.sticks"])){t.font=o+"pt "+h;var d=t.measureText(l).width;t.beginPath(),t.strokeStyle="gray",t.moveTo(s+d+10,Math.round(this.coords[a-1][7])),t.lineTo(this.coords[a-1][0]-10,Math.round(this.coords[a-1][7])),t.stroke()}}},this.getShape=this.getSegment=function(o){var h=this.coords,s=r.getMouseXY(o),n=s[0],l=s[1];for(a=0,len=h.length;len>a;++a){var i=h[a];if(t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.lineTo(i[8],i[9]),t.isPointInPath(n,l)){var c=RGraph.parseTooltipText(e["chart.tooltips"],a);return{0:this,1:h,2:a,object:this,coords:i,index:a,tooltip:c}}}return null},this.Highlight=function(r){if(e["chart.tooltips.highlight"]){var a=r.coords;t.beginPath(),t.strokeStyle=e["chart.highlight.stroke"],t.fillStyle=e["chart.highlight.fill"],t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.closePath(),t.stroke(),t.fill()}},this.getObjectByXY=function(a){var t=RGraph.getMouseXY(a);return t[0]>e["chart.gutter.left"]&&t[0]<i.width-e["chart.gutter.right"]&&t[1]>e["chart.gutter.top"]&&t[1]<i.height-e["chart.gutter.bottom"]?this:void 0},this.positionTooltip=function(p,y,v,t){var h=p.coords[t.__index__],l=h[0],f=h[1],c=h[2],m=h[3];h[4];var d=h[5];h[6],h[7];var u=c-l,n=l+u/2,o=r.getCanvasXY(i);e["chart.gutter.left"],e["chart.gutter.top"];var s=t.offsetWidth,g=t.offsetHeight;t.style.left=0,t.style.top=o[1]+f+(d-m)/2-g-7+"px",t.style.overflow="";var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",a.style.position="absolute",a.id="__rgraph_tooltip_pointer__",a.style.top=t.offsetHeight-2+"px",t.appendChild(a),o[0]+n-s/2<5?(t.style.left=o[0]+n-.1*s+"px",a.style.left=.1*s-8.5+"px"):o[0]+n+s/2>document.body.offsetWidth?(t.style.left=o[0]+n-.9*s+"px",a.style.left=.9*s-8.5+"px"):(t.style.left=o[0]+n-s/2+"px",a.style.left=.5*s-8.5+"px")},this.parseColors=function(){for(var r=e["chart.colors"],t=0;t<r.length;++t)r[t]=this.parseSingleColorForHorizontalGradient(r[t]);var a=e["chart.key.colors"];if(a)for(var t=0;t<a.length;++t)a[t]=this.parseSingleColorForHorizontalGradient(a[t]);e["chart.strokestyle"]=this.parseSingleColorForVerticalGradient(e["chart.strokestyle"]),e["chart.highlight.stroke"]=this.parseSingleColorForHorizontalGradient(e["chart.highlight.stroke"]),e["chart.highlight.fill"]=this.parseSingleColorForHorizontalGradient(e["chart.highlight.fill"])},this.parseSingleColorForHorizontalGradient=function(a){if(!a||"string"!=typeof a)return a;if(a.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=t.createLinearGradient(e["chart.gutter.left"],0,i.width-e["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,RGraph.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,r.trim(h[o]))}return s?s:a},this.parseSingleColorForVerticalGradient=function(a){if(!a||"string"!=typeof a)return a;if(a.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=t.createLinearGradient(0,e["chart.gutter.top"],0,i.height-e["chart.gutter.bottom"]),n=1/(h.length-1);s.addColorStop(0,RGraph.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,r.trim(h[o]))}return s?s:a},this.interactiveKeyHighlight=function(r){var a=this.coords[r];if(a&&8==a.length){var i=t.lineWidth;t.lineWidth=2,t.strokeStyle="black",t.fillStyle=e["chart.key.interactive.highlight.chart"],t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.closePath(),t.fill(),t.stroke(),t.lineWidth=i}},r.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Gantt=function(s,h){this.id=s,this.canvas=document.getElementById(s),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="gantt",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.data=h,this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"white","chart.background.barcolor2":"white","chart.background.grid":!0,"chart.background.grid.width":1,"chart.background.grid.color":"#ddd","chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.hlines":!0,"chart.background.grid.vlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":7,"chart.background.grid.autofit.numvlines":20,"chart.background.vbars":[],"chart.text.size":10,"chart.text.font":"Arial","chart.text.color":"black","chart.gutter.left":75,"chart.gutter.right":25,"chart.gutter.top":35,"chart.gutter.bottom":25,"chart.labels":[],"chart.labels.align":"bottom","chart.labels.inbar":null,"chart.labels.inbar.color":"black","chart.labels.inbar.bgcolor":null,"chart.labels.inbar.align":"left","chart.labels.inbar.size":10,"chart.labels.inbar.font":"Arial","chart.labels.inbar.above":!1,"chart.vmargin":2,"chart.title":"","chart.title.background":null,"chart.title.x":null,"chart.title.y":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.pos":null,"chart.title.yaxis.color":null,"chart.title.yaxis.position":"right","chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.borders":!0,"chart.defaultcolor":"white","chart.coords":[],"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.xmin":0,"chart.xmax":0,"chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.events.click":null,"chart.events.mousemove":null},h||alert("[GANTT] The Gantt chart event data is now supplied as the second argument to the constructor - please update your code");for(var a=0,o=0;a<h.length;++a)if(RGraph.is_array(this.data[a][0]))for(var n=0;n<this.data[a].length;++n)this["$"+o++]={};else this["$"+o++]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,i=this.canvas,r=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.margin"==e&&(e="chart.vmargin"),"chart.events"==e&&(alert("[GANTT] The chart.events property is deprecated - supply the events data as an argument to the constructor instead"),this.data=a),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.margin"==e&&(e="chart.vmargin"),t[e.toLowerCase()]},this.Draw=function(){return e.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.graphArea=i.width-this.gutterLeft-this.gutterRight,this.graphHeight=i.height-this.gutterTop-this.gutterBottom,this.numEvents=this.data.length,this.barHeight=this.graphHeight/this.numEvents,this.halfBarHeight=this.barHeight/2,e.background.Draw(this),this.DrawLabels(),this.DrawEvents(),t["chart.contextmenu"]&&e.ShowContext(this),t["chart.resizable"]&&e.AllowResizing(this),e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.DrawLabels=function(){r.beginPath(),r.fillStyle=t["chart.text.color"];var s=t["chart.labels"],l=this.graphArea/s.length,c=this.gutterLeft+l/2,o=this.gutterTop-t["chart.text.size"]/2-5,g=t["chart.text.font"],n=t["chart.text.size"];for(r.strokeStyle="black","bottom"==t["chart.labels.align"]&&(o=i.height-this.gutterBottom+n+2),a=0;a<s.length;++a)e.Text2(this,{font:g,size:n,x:c+a*l,y:o,text:String(s[a]),halign:"center",valign:"center",tag:"labels.horizontal"});for(var a=0,d=this.data.length;d>a;++a){var h=this.data[a],c=this.gutterLeft,o=this.gutterTop+this.halfBarHeight+a*this.barHeight;e.Text2(this,{font:g,size:n,x:c-5,y:o,text:e.is_array(h[0])?h[0][3]?String(h[0][3]):"":String(h[3]),halign:"right",valign:"center",tag:"labels.vertical"})}},this.DrawEvents=function(){var e=this.data;if(this.coords=[],t["chart.vbars"])for(a=0,len=t["chart.vbars"].length;len>a;++a){t["chart.vbars"][a][0]+t["chart.vbars"][a][1]>t["chart.xmax"]&&(t["chart.vbars"][a][1]=364-t["chart.vbars"][a][0]);var h=this.gutterLeft+(t["chart.vbars"][a][0]-t["chart.xmin"])/(t["chart.xmax"]-t["chart.xmin"])*this.graphArea,n=this.gutterTop,s=this.graphArea/(t["chart.xmax"]-t["chart.xmin"])*t["chart.vbars"][a][1],l=i.height-this.gutterTop-this.gutterBottom;h+s>i.width-this.gutterRight&&(s=i.width-this.gutterRight-h),r.fillStyle=t["chart.vbars"][a][2],r.fillRect(h,n,s,l)}for(a=0;a<e.length;++a)if("number"==typeof e[a][0])this.DrawSingleEvent(e[a],a);else for(var o=0;o<e[a].length;++o)this.DrawSingleEvent(e[a][o],a)},this.getShape=this.getBar=function(h){h=e.FixEventObject(h);for(var c=RGraph.getMouseXY(h),n=c[0],l=c[1],a=0,d=this.coords.length;d>a;a++){var r=this.coords[a][0],i=this.coords[a][1],s=this.coords[a][2],o=this.coords[a][3];if(n>=r&&r+s>=n&&l>=i&&i+o>=l){var g=RGraph.parseTooltipText(t["chart.tooltips"],a);return{0:this,object:this,1:r,x:r,2:i,y:i,3:s,width:s,4:o,height:o,5:a,index:a,tooltip:g}}}},this.DrawSingleEvent=function(a,l){var c=t["chart.xmin"];r.beginPath(),r.strokeStyle="black",r.fillStyle=a[4]?a[4]:t["chart.defaultcolor"];var h=this.gutterLeft+(a[0]-c)/(t["chart.xmax"]-c)*this.graphArea,o=this.gutterTop+l*this.barHeight,s=a[1]/(t["chart.xmax"]-c)*this.graphArea;if(h+s>i.width-this.gutterRight&&(s=i.width-this.gutterRight-h),this.coords.push([h,o+t["chart.vmargin"],s,this.barHeight-2*t["chart.vmargin"]]),(t["chart.borders"]||a[6])&&(r.strokeStyle="string"==typeof a[6]?a[6]:"black",r.lineWidth="number"==typeof a[7]?a[7]:1,r.beginPath(),r.strokeRect(h,o+t["chart.vmargin"],s,this.barHeight-2*t["chart.vmargin"])),r.beginPath(),r.fillRect(h,o+t["chart.vmargin"],s,this.barHeight-2*t["chart.vmargin"]),r.fill(),a[2]/100*s,"number"==typeof a[2]&&(r.beginPath(),r.fillStyle=a[5]?a[5]:"#0c0",r.fillRect(h,o+t["chart.vmargin"],a[2]/100*s,this.barHeight-2*t["chart.vmargin"]),r.beginPath(),r.fillStyle=t["chart.text.color"],e.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:h+s+5,y:o+this.halfBarHeight,text:String(a[2])+"%",valign:"center",tag:"labels.complete"})),t["chart.labels.inbar"]&&t["chart.labels.inbar"][l]){var d=String(t["chart.labels.inbar"][l]),n="left"==t["chart.labels.inbar.align"]?"left":"center";if(n="right"==t["chart.labels.inbar.align"]?"right":n,"right"==n)var g=h+s-5;else if("center"==n)var g=h+s/2;else var g=h+5;t["chart.labels.inbar.above"]&&(g=h+s+5,n="left"),r.fillStyle=t["chart.labels.inbar.color"],RGraph.Text2(this,{font:t["chart.labels.inbar.font"],size:t["chart.labels.inbar.size"],x:g,y:o+this.halfBarHeight,text:d,valign:"center",halign:n,bounding:"string"==typeof t["chart.labels.inbar.bgcolor"],boundingFill:"string"==typeof t["chart.labels.inbar.bgcolor"]?t["chart.labels.inbar.bgcolor"]:null,tag:"labels.inbar"})}},this.Highlight=function(t){e.Highlight.Rect(this,t)},this.getObjectByXY=function(a){var t=e.getMouseXY(a);return t[0]>this.gutterLeft&&t[0]<i.width-this.gutterRight&&t[1]>this.gutterTop&&t[1]<i.height-this.gutterBottom?this:void 0},this.Adjusting_mousemove=function(l){if(t["chart.adjustable"]&&e.Registry.Get("chart.adjusting")&&e.Registry.Get("chart.adjusting").uid==this.uid){var o=e.Registry.Get("chart.adjusting.gantt");if(o){var n=e.getMouseXY(l),a=e.Registry.Get("chart.adjusting.gantt").object,h=o.index,r=(n[0]-e.Registry.Get("chart.adjusting.gantt").mousex)/(i.width-a.gutterLeft-a.gutterRight)*t["chart.xmax"],s=e.Registry.Get("chart.adjusting.gantt").event_start,c=e.Registry.Get("chart.adjusting.gantt").event_duration;if("move"==o.mode)r=Math.round(r),s+r>=0&&s+r+a.data[h][1]<t["chart.xmax"]?a.data[h][0]=s+r:0>s+r?a.data[h][0]=0:s+r+a.data[h][1]>t["chart.xmax"]&&(a.data[h][0]=t["chart.xmax"]-a.data[h][1]);else if("resize"==o.mode){n[0]>i.width-a.gutterRight&&(n[0]=i.width-a.gutterRight);var r=(n[0]-e.Registry.Get("chart.adjusting.gantt").mousex)/(i.width-a.gutterLeft-a.gutterRight)*t["chart.xmax"];r=Math.round(r),a.data[h][1]=c+r,a.data[h][1]<0&&(a.data[h][1]=1)}e.FireCustomEvent(a,"onadjust"),e.Clear(i),e.RedrawCanvas(i)}}},this.positionTooltip=function(i,c,g,t){var s=i.coords[t.__index__][0],l=i.coords[t.__index__][1],o=i.coords[t.__index__][2];i.coords[t.__index__][3];var h=e.getCanvasXY(i.canvas);i.gutterLeft,i.gutterTop;var r=t.offsetWidth,n=t.offsetHeight;t.style.left=0,t.style.top=h[1]+l-n-7+"px",t.style.overflow="";var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",a.style.position="absolute",a.id="__rgraph_tooltip_pointer__",a.style.top=t.offsetHeight-2+"px",t.appendChild(a),h[0]+s-r/2<10?(t.style.left=h[0]+s-.1*r+o/2+"px",a.style.left=.1*r-8.5+"px"):h[0]+s+r/2>document.body.offsetWidth?(t.style.left=h[0]+s-.9*r+o/2+"px",a.style.left=.9*r-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*r+"px",a.style.left=.5*r-8.5+"px")},this.getXCoord=function(e){var a=t["chart.xmin"],r=t["chart.xmax"];if(e>r||a>e)return null;var i=(e-a)/(r-a)*this.graphArea+this.gutterLeft;return i},this.parseColors=function(){for(var e=0;e<this.data.length;++e)"string"==typeof this.data[e][4]&&(this.data[e][4]=this.parseSingleColorForGradient(this.data[e][4])),"string"==typeof this.data[e][5]&&(this.data[e][5]=this.parseSingleColorForGradient(this.data[e][5]));t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.defaultcolor"]=this.parseSingleColorForGradient(t["chart.defaultcolor"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var a=RegExp.$1.split(":"),h=r.createLinearGradient(this.gutterLeft,0,i.width-this.gutterRight,0),o=1/(a.length-1);h.addColorStop(0,e.trim(a[0]));for(var s=1;s<a.length;++s)h.addColorStop(s*o,e.trim(a[s]))}return h?h:t},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Gauge=function(o,h,s,n){if(this.id=o,this.canvas=document.getElementById(o),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="gauge",this.min=h,this.max=s,this.value=n,this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],"object"==typeof this.value)for(var r=0;r<this.value.length;++r)this.value[r]>this.max&&(this.value[r]=s),this.value[r]<this.min&&(this.value[r]=h);else this.value>this.max&&(this.value=s),this.value<this.min&&(this.value=h);RGraph.OldBrowserCompat(this.context),this.properties={"chart.angles.start":null,"chart.angles.end":null,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.border.width":10,"chart.title.top":"","chart.title.top.font":"Arial","chart.title.top.size":14,"chart.title.top.color":"#333","chart.title.top.bold":!1,"chart.title.top.pos":null,"chart.title.bottom":"","chart.title.bottom.font":"Arial","chart.title.bottom.size":14,"chart.title.bottom.color":"#333","chart.title.bottom.bold":!1,"chart.title.bottom.pos":null,"chart.text.font":"Arial","chart.text.color":"#666","chart.text.size":10,"chart.background.color":"white","chart.background.gradient":!1,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.value.text":!1,"chart.value.text.y.pos":.5,"chart.value.text.units.pre":null,"chart.value.text.units.post":null,"chart.red.start":.9*this.max,"chart.red.color":"#DC3912","chart.yellow.color":"#FF9900","chart.green.end":.7*this.max,"chart.green.color":"rgba(0,0,0,0)","chart.colors.ranges":null,"chart.needle.size":null,"chart.needle.tail":!1,"chart.needle.colors":["#D5604D","red","green","yellow"],"chart.needle.type":"triangle","chart.border.outer":"#ccc","chart.border.inner":"#f1f1f1","chart.border.outline":"black","chart.centerpin.color":"blue","chart.centerpin.radius":null,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tickmarks.small":25,"chart.tickmarks.small.color":"black","chart.tickmarks.medium":0,"chart.tickmarks.medium.color":"black","chart.tickmarks.big":5,"chart.tickmarks.big.color":"black","chart.labels.count":5,"chart.labels.centered":!1,"chart.labels.offset":0,"chart.border.gradient":!1,"chart.adjustable":!1,"chart.shadow":!0,"chart.shadow.color":"gray","chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.title"==e&&(e="chart.title.top"),"chart.title.font"==e&&(e="chart.title.top.font"),"chart.title.size"==e&&(e="chart.title.top.size"),"chart.title.color"==e&&(e="chart.title.top.color"),"chart.title.bold"==e&&(e="chart.title.top.bold"),"chart.needle.color"==e&&(e="chart.needle.colors"),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.needle.color"==e&&(e="chart.needle.colors"),t[e]},this.Draw=function(){if(a.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.centerx=(i.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(i.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.radius=Math.min((i.width-this.gutterLeft-this.gutterRight)/2,(i.height-this.gutterTop-this.gutterBottom)/2),this.startAngle=t["chart.angles.start"]?t["chart.angles.start"]:HALFPI/3+HALFPI,this.endAngle=t["chart.angles.end"]?t["chart.angles.end"]:TWOPI+HALFPI-HALFPI/3,"number"==typeof t["chart.centerx"]&&(this.centerx=t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=t["chart.centery"]),"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.centerpinRadius=.16*this.radius,"number"==typeof t["chart.centerpin.radius"]&&(this.centerpinRadius=t["chart.centerpin.radius"]),t["chart.contextmenu"]&&a.ShowContext(this),this.DrawBackGround(),this.DrawGradient(),this.DrawColorBands(),this.DrawSmallTickmarks(),this.DrawMediumTickmarks(),this.DrawBigTickmarks(),this.DrawLabels(),this.DrawTopTitle(),this.DrawBottomTitle(),"object"==typeof this.value)for(var e=0;e<this.value.length;++e)this.DrawNeedle(this.value[e],t["chart.needle.colors"][e],e);else this.DrawNeedle(this.value,t["chart.needle.colors"][0],0);return this.DrawCenterpin(),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackGround=function(){t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),e.beginPath(),e.fillStyle=t["chart.background.color"],e.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),e.fill(),a.NoShadow(this);var i=e.createRadialGradient(this.centerx+50,this.centery-50,0,this.centerx+50,this.centery-50,150);i.addColorStop(0,"#eee"),i.addColorStop(1,"white");var r=t["chart.border.width"];e.beginPath(),e.fillStyle=t["chart.background.color"],e.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),e.fill(),e.beginPath(),e.fillStyle=t["chart.border.outer"],e.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),e.fill(),e.beginPath(),e.fillStyle=t["chart.border.inner"],e.arc(this.centerx,this.centery,this.radius-r,0,TWOPI,0),e.fill(),e.beginPath(),e.fillStyle=t["chart.background.color"],e.arc(this.centerx,this.centery,this.radius-r-4,0,TWOPI,0),e.fill(),e.beginPath(),e.fillStyle=t["chart.background.color"],e.arc(this.centerx,this.centery,this.radius-r-4,0,TWOPI,0),e.fill(),t["chart.background.gradient"]&&(e.beginPath(),e.fillStyle=a.RadialGradient(this,this.centerx,this.centery,0,this.centerx,this.centery,this.radius,"rgba(255,255,255,0.6)","rgba(255,255,255,0.1)"),e.arc(this.centerx,this.centery,this.radius-r-4,0,TWOPI,0),e.fill()),e.beginPath(),e.strokeStyle=t["chart.border.outline"],e.arc(this.centerx,this.centery,this.radius,0,TWOPI,0),e.stroke()},this.DrawSmallTickmarks=function(){var i=t["chart.tickmarks.small"];e.lineWidth=1;for(var r=0;i>=r;++r){e.beginPath(),e.strokeStyle=t["chart.tickmarks.small.color"];var a=(this.endAngle-this.startAngle)/i*r+this.startAngle;e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10,a,a+1e-5,0),e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10-5,a,a+1e-5,0),e.stroke()}},this.DrawMediumTickmarks=function(){if(t["chart.tickmarks.medium"]){var r=t["chart.tickmarks.medium"];e.lineWidth=3,e.lineCap="round",e.strokeStyle=t["chart.tickmarks.medium.color"];for(var i=0;r>=i;++i){e.beginPath();var a=(this.endAngle-this.startAngle)/r*i+this.startAngle+(this.endAngle-this.startAngle)/(2*r);a>this.startAngle&&a<this.endAngle&&(e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10,a,a+1e-5,0),e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10-6,a,a+1e-5,0)),e.stroke()}}},this.DrawBigTickmarks=function(){var i=t["chart.tickmarks.big"];e.lineWidth=3,e.lineCap="round";for(var r=0;i>=r;++r){e.beginPath(),e.strokeStyle=t["chart.tickmarks.big.color"];var a=(this.endAngle-this.startAngle)/i*r+this.startAngle;e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10,a,a+1e-5,0),e.arc(this.centerx,this.centery,this.radius-t["chart.border.width"]-10-10,a,a+1e-5,0),e.stroke()}},this.DrawCenterpin=function(){var a=6,r=e.createRadialGradient(this.centerx+a,this.centery-a,0,this.centerx+a,this.centery-a,25);r.addColorStop(0,"#ddf"),r.addColorStop(1,t["chart.centerpin.color"]),e.beginPath(),e.fillStyle=r,e.arc(this.centerx,this.centery,this.centerpinRadius,0,TWOPI,0),e.fill()},this.DrawLabels=function(){e.fillStyle=t["chart.text.color"];var g=t["chart.text.font"],d=t["chart.text.size"],o=t["chart.labels.specific"]?t["chart.labels.specific"].length-1:t["chart.labels.count"];e.beginPath();for(var i=0;o>=i;++i){var c=this.radius-25-t["chart.border.width"]-t["chart.labels.offset"],r=(this.endAngle-this.startAngle)/o;r=this.startAngle+i*r,r-=HALFPI;var s=this.centerx-Math.sin(r)*c,n=this.centery+Math.cos(r)*c,l=s>this.centerx?"right":"left",h=n>this.centery?"bottom":"top";r==HALFPI?h="center":r==PI?l="center":r==HALFPI+PI&&(h="center"),t["chart.labels.centered"]&&(l="center",h="center"),a.Text2(this,{font:g,size:d,x:s,y:n,text:t["chart.labels.specific"]?t["chart.labels.specific"][i]:a.number_format(this,((this.max-this.min)*(i/o)+this.min).toFixed(t["chart.scale.decimals"]),t["chart.units.pre"],t["chart.units.post"]),halign:l,valign:h,tag:t["chart.labels.specific"]?"labels.specific":"labels"})}if(e.fill(),t["chart.value.text"]){var s=this.centerx,n=this.centery+t["chart.value.text.y.pos"]*this.radius,u="string"==typeof t["chart.value.text.units.pre"]?t["chart.value.text.units.pre"]:t["chart.units.pre"],p="string"==typeof t["chart.value.text.units.post"]?t["chart.value.text.units.post"]:t["chart.units.post"];a.Text2(this,{font:g,size:d+2,x:s,y:n,text:a.number_format(this,this.value.toFixed(t["chart.scale.decimals"]),u,p),halign:"center",valign:"center",bounding:!0,boundingFill:"white",tag:"value.text"})}},this.DrawTopTitle=function(){var i=this.centerx,r=this.centery-25;"number"==typeof t["chart.title.top.pos"]&&(r=this.centery-this.radius*t["chart.title.top.pos"]),t["chart.title.top"]&&(e.fillStyle=t["chart.title.top.color"],a.Text2(this,{font:t["chart.title.top.font"],size:t["chart.title.top.size"],x:i,y:r,text:String(t["chart.title.top"]),halign:"center",valign:"bottom",bold:t["chart.title.top.bold"],tag:"title.top"}))},this.DrawBottomTitle=function(){var i=this.centerx,r=this.centery+this.centerpinRadius+10;"number"==typeof t["chart.title.bottom.pos"]&&(r=this.centery+this.radius*t["chart.title.bottom.pos"]),t["chart.title.bottom"]&&(e.fillStyle=t["chart.title.bottom.color"],a.Text2(this,{font:t["chart.title.bottom.font"],size:t["chart.title.bottom.size"],x:i,y:r,text:String(t["chart.title.bottom"]),halign:"center",valign:"top",bold:t["chart.title.bottom.bold"],tag:"title.bottom"}))},this.DrawNeedle=function(s,r,i){var o=t["chart.needle.type"];e.lineWidth=.5,e.strokeStyle="gray",e.fillStyle=r;var a=(this.endAngle-this.startAngle)*((s-this.min)/(this.max-this.min));if(a+=this.startAngle,"object"==typeof t["chart.needle.size"]&&t["chart.needle.size"]&&"number"==typeof t["chart.needle.size"][i])var h=t["chart.needle.size"][i];else if("number"==typeof t["chart.needle.size"])var h=t["chart.needle.size"];else var h=this.radius-25-t["chart.border.width"];"line"==o?(e.beginPath(),e.lineWidth=7,e.strokeStyle=r,e.arc(this.centerx,this.centery,h,a,a+1e-4,!1),e.lineTo(this.centerx,this.centery),t["chart.needle.tail"]&&e.arc(this.centerx,this.centery,.2*this.radius,a+PI,a+1e-5+PI,!1),e.lineTo(this.centerx,this.centery),e.stroke()):(e.beginPath(),e.arc(this.centerx,this.centery,h,a,a+1e-5,!1),e.arc(this.centerx,this.centery,.5*this.centerpinRadius,a+HALFPI,a+1e-5+HALFPI,!1),t["chart.needle.tail"]&&e.arc(this.centerx,this.centery,.2*this.radius,a+PI,a+1e-5+PI,!1),e.arc(this.centerx,this.centery,.5*this.centerpinRadius,a-HALFPI,a-1e-5-HALFPI,!1),e.stroke(),e.fill(),this.angle=a)},this.DrawColorBands=function(){if(a.is_array(t["chart.colors.ranges"]))for(var i=t["chart.colors.ranges"],r=0;r<i.length;++r)e.fillStyle=i[r][2],e.lineWidth=0,e.beginPath(),e.arc(this.centerx,this.centery,this.radius-10-t["chart.border.width"],(i[r][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(i[r][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!1),e.arc(this.centerx,this.centery,this.radius-20-t["chart.border.width"],(i[r][1]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,(i[r][0]-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle,!0),e.closePath(),e.fill();else{e.strokeStyle=t["chart.green.color"],e.fillStyle=t["chart.green.color"];var o=this.startAngle,h=this.startAngle+(this.endAngle-this.startAngle)*((t["chart.green.end"]-this.min)/(this.max-this.min));e.beginPath(),e.arc(this.centerx,this.centery,this.radius-10-t["chart.border.width"],o,h,!1),e.arc(this.centerx,this.centery,this.radius-20-t["chart.border.width"],h,o,!0),e.fill(),e.strokeStyle=t["chart.yellow.color"],e.fillStyle=t["chart.yellow.color"];var n=h,s=this.startAngle+(this.endAngle-this.startAngle)*((t["chart.red.start"]-this.min)/(this.max-this.min));e.beginPath(),e.arc(this.centerx,this.centery,this.radius-10-t["chart.border.width"],n,s,!1),e.arc(this.centerx,this.centery,this.radius-20-t["chart.border.width"],s,n,!0),e.fill(),e.strokeStyle=t["chart.red.color"],e.fillStyle=t["chart.red.color"];var l=s,c=this.startAngle+(this.endAngle-this.startAngle)*((this.max-this.min)/(this.max-this.min));e.beginPath(),e.arc(this.centerx,this.centery,this.radius-10-t["chart.border.width"],l,c,!1),e.arc(this.centerx,this.centery,this.radius-20-t["chart.border.width"],c,l,!0),e.fill()}},this.getShape=function(){},this.getValue=function(i){var r=a.getMouseXY(i),h=r[0],s=r[1],e=a.getAngleByXY(this.centerx,this.centery,h,s);e>=0&&HALFPI>=e&&(e+=TWOPI);var t=(e-this.startAngle)/(this.endAngle-this.startAngle)*(this.max-this.min);return t+=this.min,t<this.min&&(t=this.min),t>this.max&&(t=this.max),t
},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&a.getHypLength(this.centerx,this.centery,t[0],t[1])<=this.radius?this:void 0},this.DrawGradient=function(){if(t["chart.border.gradient"]){e.beginPath();var a=e.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius-15);a.addColorStop(0,"gray"),a.addColorStop(1,"white"),e.fillStyle=a,e.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),e.arc(this.centerx,this.centery,this.radius-15,TWOPI,0,!0),e.fill()}},this.Adjusting_mousemove=function(e){t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(e),a.Clear(this.canvas),a.RedrawCanvas(this.canvas),a.FireCustomEvent(this,"onadjust"))},this.getAngle=function(t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*(this.endAngle-this.startAngle)+this.startAngle;return e},this.parseColors=function(){if(t["chart.background.color"]=this.parseSingleColorForGradient(t["chart.background.color"]),t["chart.red.color"]=this.parseSingleColorForGradient(t["chart.red.color"]),t["chart.yellow.color"]=this.parseSingleColorForGradient(t["chart.yellow.color"]),t["chart.green.color"]=this.parseSingleColorForGradient(t["chart.green.color"]),t["chart.border.inner"]=this.parseSingleColorForGradient(t["chart.border.inner"]),t["chart.border.outer"]=this.parseSingleColorForGradient(t["chart.border.outer"]),t["chart.colors.ranges"])for(var a=t["chart.colors.ranges"],e=0;e<a.length;++e)a[e][2]=this.parseSingleColorForGradient(a[e][2]);if(t["chart.needle.colors"])for(var r=t["chart.needle.colors"],e=0;e<r.length;++e)r[e]=this.parseSingleColorForGradient(r[e])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.HBar=function(s,h){if(this.id=s,this.canvas=document.getElementById(s),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.data=h,this.type="hbar",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coords=[],this.coords2=[],this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.max=0,this.stackedOrGrouped=!1,this.properties={"chart.gutter.left":75,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid.hlines":!0,"chart.background.grid.vlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":14,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.dashed":!1,"chart.background.grid.dotted":!1,"chart.linewidth":1,"chart.title":"","chart.title.background":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":.8,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.colors":["Gradient(white:red)","Gradient(white:blue)","Gradient(white:green)","Gradient(white:pink)","Gradient(white:yellow)","Gradient(white:cyan)","Gradient(white:navy)","Gradient(white:gray)","Gradient(white:black)"],"chart.colors.sequential":!1,"chart.labels":[],"chart.labels.above":!1,"chart.labels.above.decimals":0,"chart.xlabels":!0,"chart.xlabels.count":5,"chart.contextmenu":null,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.units.pre":"","chart.units.post":"","chart.units.ingraph":!1,"chart.strokestyle":"rgba(0,0,0,0)","chart.xmin":0,"chart.xmax":0,"chart.axis.color":"black","chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.vmargin":2,"chart.vmargin.grouped":2,"chart.grouping":"grouped","chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.stroke":"rgba(0,0,0,0)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.scale.point":".","chart.scale.thousand":",","chart.scale.decimals":null,"chart.noredraw":!1,"chart.events.click":null,"chart.events.mousemove":null,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.noaxes":!1,"chart.noxtickmarks":!1,"chart.noytickmarks":!1,"chart.numyticks":h.length,"chart.numxticks":10},!this.canvas)return alert("[HBAR] No canvas support"),void 0;for(a=0;a<this.data.length;++a)"object"==typeof this.data[a]&&(this.stackedOrGrouped=!0);for(var o=RGraph.array_linearize(h),a=0;a<o.length;++a)this["$"+a]={};this.data_arr=RGraph.array_linearize(this.data),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var r=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.labels.abovebar"==e&&(e="chart.labels.above"),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.labels.abovebar"==e&&(e="chart.labels.above"),t[e]},this.Draw=function(){return r.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.coords=[],this.coords2=[],this.max=0,t["chart.xmin"]>0&&"stacked"==t["chart.grouping"]&&(alert("[HBAR] Using chart.xmin is not supported with stacked charts, resetting chart.xmin to zero"),this.Set("chart.xmin",0)),this.graphwidth=i.width-this.gutterLeft-this.gutterRight,this.graphheight=i.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=t["chart.text.size"]/2,r.background.Draw(this),this.Drawbars(),this.DrawAxes(),this.DrawLabels(),t["chart.key"]&&t["chart.key"].length&&r.DrawKey(this,t["chart.key"],t["chart.colors"]),t["chart.contextmenu"]&&r.ShowContext(this),r.DrawInGraphLabels(this),t["chart.resizable"]&&r.AllowResizing(this),r.InstallEventListeners(this),r.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){var r=Math.round(this.graphwidth/2+this.gutterLeft);if(e.beginPath(),e.lineWidth=t["chart.axis.linewidth"]?t["chart.axis.linewidth"]+.001:1.001,e.strokeStyle=t["chart.axis.color"],0==t["chart.noyaxis"]&&0==t["chart.noaxes"]&&("center"==t["chart.yaxispos"]?(e.moveTo(r,this.gutterTop),e.lineTo(r,i.height-this.gutterBottom)):(e.moveTo(this.gutterLeft,this.gutterTop),e.lineTo(this.gutterLeft,i.height-this.gutterBottom))),0==t["chart.noxaxis"]&&0==t["chart.noaxes"]&&(e.moveTo(this.gutterLeft+.001,i.height-this.gutterBottom+.001),e.lineTo(i.width-this.gutterRight+.001,i.height-this.gutterBottom+.001)),0==t["chart.noytickmarks"]&&0==t["chart.noyaxis"]&&t["chart.numyticks"]>0&&0==t["chart.noaxes"]){var h=(i.height-this.gutterTop-this.gutterBottom)/(t["chart.numyticks"]>0?t["chart.numyticks"]:this.data.length);for(y=this.gutterTop;y<i.height-this.gutterBottom-1;y+=h)"center"==t["chart.yaxispos"]?(e.moveTo(r+3,Math.round(y)),e.lineTo(r-3,Math.round(y))):(e.moveTo(this.gutterLeft,Math.round(y)),e.lineTo(this.gutterLeft-3,Math.round(y)));1==t["chart.noxaxis"]&&("center"==t["chart.yaxispos"]?(e.moveTo(r+3,Math.round(y)),e.lineTo(r-3,Math.round(y))):(e.moveTo(this.gutterLeft,Math.round(y)),e.lineTo(this.gutterLeft-3,Math.round(y))))}if(0==t["chart.noxtickmarks"]&&0==t["chart.noxaxis"]&&t["chart.numxticks"]>0&&0==t["chart.noaxes"]){for(xTickGap=(i.width-this.gutterLeft-this.gutterRight)/t["chart.numxticks"],yStart=i.height-this.gutterBottom,yEnd=i.height-this.gutterBottom+3,x=i.width-this.gutterRight,a=0;"center"==t["chart.yaxispos"]?x>=this.gutterLeft:x>this.gutterLeft;x-=xTickGap)("center"!=t["chart.yaxispos"]||5!=a)&&(e.moveTo(Math.round(x),yStart),e.lineTo(Math.round(x),yEnd)),a++;1==t["chart.noyaxis"]&&(e.moveTo(this.gutterLeft,Math.round(yStart)),e.lineTo(this.gutterLeft,Math.round(yEnd)))}e.stroke(),e.lineWidth=1},this.DrawLabels=function(){var n=t["chart.units.pre"],l=t["chart.units.post"],s=t["chart.text.size"],h=t["chart.text.font"];if(t["chart.xlabels.colors"],t["chart.units.ingraph"]&&(n="",l=""),t["chart.xlabels"]){var o=7;if(e.beginPath(),e.fillStyle=t["chart.text.color"],"center"==t["chart.yaxispos"]){for(var a=0;a<this.scale2.labels.length;++a)r.Text2(this,{font:h,size:s,x:this.gutterLeft+this.graphwidth/2-this.graphwidth/2*((a+1)/this.scale2.labels.length),y:this.gutterTop+this.halfTextHeight+this.graphheight+o,text:this.scale2.labels[a],valign:"center",halign:"center",tag:"scale"});for(var a=0;a<this.scale2.labels.length;++a)r.Text2(this,{font:h,size:s,x:this.gutterLeft+this.graphwidth/2*((a+1)/this.scale2.labels.length)+this.graphwidth/2,y:this.gutterTop+this.halfTextHeight+this.graphheight+o,text:this.scale2.labels[a],valign:"center",halign:"center",tag:"scale"})}else for(var a=0;a<this.scale2.labels.length;++a)r.Text2(this,{font:h,size:s,x:this.gutterLeft+this.graphwidth*((a+1)/this.scale2.labels.length),y:this.gutterTop+this.halfTextHeight+this.graphheight+o,text:this.scale2.labels[a],valign:"center",halign:"center",tag:"scale"});if(t["chart.xmin"]>0||1==t["chart.noyaxis"]){var c="center"==t["chart.yaxispos"]?this.gutterLeft+this.graphwidth/2:this.gutterLeft;r.Text2(this,{font:h,size:s,x:c,y:this.gutterTop+this.halfTextHeight+this.graphheight+o,text:r.number_format(this,t["chart.xmin"].toFixed(t["chart.scale.decimals"]),n,l),valign:"center",halign:"center",tag:"scale"})}e.fill(),e.stroke()}if("object"==typeof t["chart.labels"]){var g=5,h=t["chart.text.font"];e.fillStyle=t["chart.text.color"],(i.height-this.gutterTop-this.gutterBottom)/t["chart.labels"].length,yTickGap=(i.height-this.gutterTop-this.gutterBottom)/t["chart.labels"].length;var a=0;for(y=this.gutterTop+yTickGap/2;y<=i.height-this.gutterBottom;y+=yTickGap)r.Text2(this,{font:h,size:t["chart.text.size"],x:this.gutterLeft-g,y:y,text:String(t["chart.labels"][a++]),halign:"right",valign:"center",tag:"labels"})}},this.Drawbars=function(){if(e.lineWidth=t["chart.linewidth"],e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][0],t["chart.xmax"])this.scale2=r.getScale2(this,{max:t["chart.xmax"],min:t["chart.xmin"],"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.xlabels.count"],strict:!0}),this.max=this.scale2.max;else{var _=t["chart.grouping"];for(a=0;a<this.data.length;++a){if("object"==typeof this.data[a])var b="grouped"==_?Number(r.array_max(this.data[a],!0)):Number(r.array_sum(this.data[a]));else var b=Number(Math.abs(this.data[a]));this.max=Math.max(Math.abs(this.max),Math.abs(b))}this.scale2=r.getScale2(this,{max:this.max,min:t["chart.xmin"],"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.xlabels.count"]}),this.max=this.scale2.max,this.min=this.scale2.min}null==t["chart.scale.decimals"]&&1==Number(this.max)&&this.Set("chart.scale.decimals",1);var f=0,x=i.width-this.gutterLeft-this.gutterRight,v=x/2;for(a=0;a<this.data.length;++a){var h=this.data[a]/this.max*x,o=this.graphheight/this.data.length,c=this.gutterLeft,p=this.gutterTop+a*o,s=t["chart.vmargin"];if(0>h&&(c-=h,h=Math.abs(h)),t["chart.shadow"]&&(e.shadowColor=t["chart.shadow.color"],e.shadowBlur=t["chart.shadow.blur"],e.shadowOffsetX=t["chart.shadow.offsetx"],e.shadowOffsetY=t["chart.shadow.offsety"]),e.beginPath(),"number"==typeof this.data[a]){var m=o-2*s,n=(this.data[a]-t["chart.xmin"])/(this.max-t["chart.xmin"])*this.graphwidth,u=this.gutterLeft;"center"==t["chart.yaxispos"]&&(n/=2,u+=v,this.data[a]<0&&(n=(Math.abs(this.data[a])-t["chart.xmin"])/(this.max-t["chart.xmin"]),n*=this.graphwidth/2,u=this.graphwidth/2+this.gutterLeft-n)),e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][0],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][f++]),e.strokeRect(u,this.gutterTop+a*o+t["chart.vmargin"],n,m),e.fillRect(u,this.gutterTop+a*o+t["chart.vmargin"],n,m),this.coords.push([u,p+s,n,o-2*s,e.fillStyle,this.data[a],!0])}else if("object"==typeof this.data[a]&&"stacked"==t["chart.grouping"]){"center"==t["chart.yaxispos"]&&alert("[HBAR] You can't have a stacked chart with the Y axis in the center, change it to grouped");var m=o-2*s;for("undefined"==typeof this.coords2[a]&&(this.coords2[a]=[]),j=0;j<this.data[a].length;++j){e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][j],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][f++]);var h=this.data[a][j]/this.max*this.graphwidth;r.array_sum(this.data[a])/this.max*this.graphwidth,e.strokeRect(c,this.gutterTop+t["chart.vmargin"]+this.graphheight/this.data.length*a,h,o-2*s),e.fillRect(c,this.gutterTop+t["chart.vmargin"]+this.graphheight/this.data.length*a,h,o-2*s),this.coords.push([c,p+s,h,o-2*s,e.fillStyle,r.array_sum(this.data[a]),j==this.data[a].length-1]),this.coords2[a].push([c,p+s,h,o-2*s,e.fillStyle,r.array_sum(this.data[a]),j==this.data[a].length-1]),c+=h}}else if("object"==typeof this.data[a]&&"grouped"==t["chart.grouping"]){var y=t["chart.vmargin.grouped"],d=(o-2*s-(this.data[a].length-1)*y)/this.data[a].length;for("undefined"==typeof this.coords2[a]&&(this.coords2[a]=[]),j=0;j<this.data[a].length;++j){t["chart.shadow"]&&r.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][j],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][f++]);var g=this.gutterTop+o*a+d*j+s+y*j,h=(this.data[a][j]-t["chart.xmin"])/(this.max-t["chart.xmin"])*(i.width-this.gutterLeft-this.gutterRight),l=this.gutterLeft;"center"==t["chart.yaxispos"]&&(h/=2,l+=v),0>h&&(l+=h,h*=-1),e.strokeRect(l,g,h,d),e.fillRect(l,g,h,d),this.coords.push([l,g,h,d,e.fillStyle,this.data[a][j],!0]),this.coords2[a].push([l,g,h,d,e.fillStyle,this.data[a][j],!0])}g+=s}e.closePath()}e.stroke(),e.fill(),r.NoShadow(this),this.RedrawBars()},this.RedrawBars=function(){if(!t["chart.noredraw"]){var h=this.coords,s=t["chart.text.font"],o=t["chart.text.size"];t["chart.text.color"],r.NoShadow(this),e.strokeStyle=t["chart.strokestyle"];for(var a=0;a<h.length;++a)t["chart.shadow"]&&(e.beginPath(),e.strokeStyle=t["chart.strokestyle"],e.fillStyle=h[a][4],e.lineWidth=t["chart.linewidth"],e.strokeRect(h[a][0],h[a][1],h[a][2],h[a][3]),e.fillRect(h[a][0],h[a][1],h[a][2],h[a][3]),e.fill(),e.stroke()),t["chart.labels.above"]&&h[a][6]&&(e.fillStyle=t["chart.text.color"],e.strokeStyle="black",r.NoShadow(this),h[a][0]+h[a][2]+7+e.measureText(t["chart.units.pre"]+this.coords[a][5]+t["chart.units.post"]).width>i.width?!0:!1,r.Text2(this,{font:s,size:o,x:h[a][0]+h[a][2]+5,y:h[a][1]+h[a][3]/2,text:r.number_format(this,this.coords[a][5].toFixed(t["chart.labels.above.decimals"]),t["chart.units.pre"],t["chart.units.post"]),valign:"center",halign:"left",tag:"labels.above"}))}},this.getShape=this.getBar=function(d){for(var l=r.getMouseXY(d),e=0,g=this.coords.length;g>e;e++){var o=l[0],n=l[1],a=this.coords[e][0],i=this.coords[e][1],h=this.coords[e][2],s=this.coords[e][3],c=e;if(o>=a&&a+h>=o&&n>=i&&i+s>=n){var u=r.parseTooltipText(t["chart.tooltips"],e);return{0:this,object:this,1:a,x:a,2:i,y:i,3:h,width:h,4:s,height:s,5:c,index:c,tooltip:u}}}},this.getValue=function(h){if(2==h.length)var e=h[0],s=h[1];else var o=r.getMouseXY(h),e=o[0],s=o[1];if(s<this.gutterTop||s>i.height-this.gutterBottom||e<this.gutterLeft||e>i.width-this.gutterRight)return null;if("center"==t["chart.yaxispos"]){var a=(e-this.gutterLeft)/(this.graphwidth/2)*(this.max-t["chart.xmin"]);a-=this.max,t["chart.xmin"]>0&&(a=(e-this.gutterLeft-this.graphwidth/2)/(this.graphwidth/2)*(this.max-t["chart.xmin"]),a+=t["chart.xmin"],e<this.gutterLeft+this.graphwidth/2&&(a-=2*t["chart.xmin"]))}else{var a=(e-this.gutterLeft)/this.graphwidth*(this.max-t["chart.xmin"]);a+=t["chart.xmin"]}return a},this.Highlight=function(t){r.Highlight.Rect(this,t)},this.getObjectByXY=function(e){var t=r.getMouseXY(e);return t[0]>this.gutterLeft&&t[0]<i.width-this.gutterRight&&t[1]>this.gutterTop&&t[1]<i.height-this.gutterBottom?this:void 0},this.positionTooltip=function(i,g,d,t){var s=i.coords[t.__index__][0],n=i.coords[t.__index__][1],o=i.coords[t.__index__][2],l=i.coords[t.__index__][3],h=r.getCanvasXY(i.canvas);i.gutterLeft,i.gutterTop;var a=t.offsetWidth,c=t.offsetHeight;t.style.left=0,t.style.top=h[1]+n+l/2-c+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),h[0]+s+o/2-a/2<10?(t.style.left=h[0]+s-.1*a+o/2+"px",e.style.left=.1*a-8.5+"px"):h[0]+o/2+s+a/2>document.body.offsetWidth?(t.style.left=h[0]+s-.9*a+o/2+"px",e.style.left=.9*a-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*a+"px",e.style.left=.5*a-8.5+"px")},this.getXCoord=function(e){if("center"==t["chart.yaxispos"]){if(e>this.max||e<-1*this.max)return null;var r=(i.width-t["chart.gutter.left"]-t["chart.gutter.right"])/2,a=(e-t["chart.xmin"])/(this.max-t["chart.xmin"])*r+r;a=t["chart.gutter.left"]+a}else{if(e>this.max||0>e)return null;var r=i.width-t["chart.gutter.left"]-t["chart.gutter.right"],a=(e-t["chart.xmin"])/(this.max-t["chart.xmin"])*r;a=t["chart.gutter.left"]+a}return a},this.parseColors=function(){for(var a=t["chart.colors"],e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e]);t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.text.color"]=this.parseSingleColorForGradient(t["chart.text.color"]),t["chart.labels.colors"]=this.parseSingleColorForGradient(t["chart.labels.colors"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"])},this.parseSingleColorForGradient=function(a){if(!a||"string"!=typeof a)return a;if(a.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(t["chart.gutter.left"],0,i.width-t["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,r.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,r.trim(h[o]))}return s?s:a},this.interactiveKeyHighlight=function(a){var r=this;this.coords2.forEach(function(o,h){var i=r.coords2[h][a],s=e.lineWidth;e.lineWidth=2,e.fillStyle=t["chart.key.interactive.highlight.chart"],e.strokeStyle="black",e.fillRect(i[0],i[1],i[2],i[3]),e.strokeRect(i[0],i[1],i[2],i[3]),e.lineWidth=s})},r.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.HProgress=function(h,s,o){if(this.id=h,this.max=o,this.value=s,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="hprogress",this.coords=[],this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.min":0,"chart.colors":["Gradient(white:#0c0)","Gradient(white:red)","Gradient(white:green)","yellow","pink","cyan","black","white","gray"],"chart.strokestyle.inner":"#999","chart.strokestyle.outer":"#999","chart.tickmarks":!0,"chart.tickmarks.color":"#999","chart.tickmarks.inner":!1,"chart.tickmarks.zerostart":!0,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.numticks":10,"chart.numticks.inner":50,"chart.background.color":"#eee","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.title":"","chart.title.background":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.arrows":!1,"chart.margin":0,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.specific":null,"chart.labels.count":10,"chart.adjustable":!1,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.key":null,"chart.key.background":"white","chart.key.position":"gutter","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.color.shape":"square","chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.labels.position":"bottom","chart.events.mousemove":null,"chart.events.click":null,"chart.border.inner":!0},4==arguments.length?(this.min=arguments[1],this.max=arguments[2],this.value=arguments[3],this.properties["chart.min"]=arguments[1]):3==arguments.length&&(this.min=0,this.max=arguments[2],this.value=arguments[1],this.properties["chart.min"]=0),!this.canvas)return alert("[HPROGRESS] No canvas support"),void 0;for(var n=RGraph.array_linearize(s),i=0;i<n.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.strokestyle"==e?(this.Set("chart.strokestyle.inner",a),this.Set("chart.strokestyle.outer",a),void 0):(t[e]=a,this)},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.currentValue=this.value,this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.width=r.width-this.gutterLeft-this.gutterRight,this.height=r.height-this.gutterTop-this.gutterBottom,this.coords=[],this.Drawbar(),this.DrawTickMarks(),this.DrawLabels(),this.DrawTitle(),e.stroke(),e.fill(),t["chart.bevel"]&&this.DrawBevel(),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.key"]&&t["chart.key"].length&&a.DrawKey(this,t["chart.key"],t["chart.colors"]),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.Drawbar=function(){this.scale2=a.getScale2(this,{max:this.max,min:this.min,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),ISOLD&&t["chart.shadow"]&&(e.fillStyle=t["chart.shadow.color"],e.fillRect(this.gutterLeft+t["chart.shadow.offsetx"],this.gutterTop+t["chart.shadow.offsety"],this.width,this.height)),e.fillStyle=t["chart.background.color"],e.strokeStyle=t["chart.strokestyle.outer"],e.strokeRect(this.gutterLeft,this.gutterTop,this.width,this.height),e.fillRect(this.gutterLeft,this.gutterTop,this.width,this.height),a.NoShadow(this),e.fillStyle=t["chart.colors"][0],e.strokeStyle=t["chart.strokestyle.outer"];var i=t["chart.margin"],s=Math.min(this.width,(a.array_sum(this.value)-t["chart.min"])/(this.max-t["chart.min"])*this.width);if(t["chart.tickmarks.inner"]){var g=(r.width-this.gutterLeft-this.gutterRight)/t["chart.numticks.inner"];e.lineWidth=1,e.strokeStyle=t["chart.strokestyle.outer"],e.beginPath();for(var h=this.gutterLeft;h<r.width-this.gutterRight;h+=g)e.moveTo(Math.round(h),this.gutterTop),e.lineTo(Math.round(h),this.gutterTop+2),e.moveTo(Math.round(h),r.height-this.gutterBottom),e.lineTo(Math.round(h),r.height-this.gutterBottom-2);e.stroke()}if("number"==typeof this.value)e.beginPath(),e.strokeStyle=t["chart.strokestyle.inner"],e.fillStyle=t["chart.colors"][0],t["chart.border.inner"]&&e.strokeRect(this.gutterLeft,this.gutterTop+i,s,this.height-i-i),e.fillRect(this.gutterLeft,this.gutterTop+i,s,this.height-i-i),this.coords.push([this.gutterLeft,this.gutterTop+i,s,this.height-i-i]);else if("object"==typeof this.value){e.beginPath(),e.strokeStyle=t["chart.strokestyle.inner"];for(var n=this.gutterLeft,l=0;l<this.value.length;++l){var c=this.value[l]/a.array_sum(this.value)*s;e.fillStyle=t["chart.colors"][l],t["chart.border.inner"]&&e.strokeRect(n,this.gutterTop+i,c,this.height-i-i),e.fillRect(n,this.gutterTop+i,c,this.height-i-i),this.coords.push([n,this.gutterTop+i,c,this.height-i-i]),n+=c}}if(t["chart.arrows"]){var h=this.gutterLeft+s,o=this.gutterTop;e.lineWidth=1,e.fillStyle="black",e.strokeStyle="black",e.beginPath(),e.moveTo(h,o-3),e.lineTo(h+2,o-7),e.lineTo(h-2,o-7),e.closePath(),e.stroke(),e.fill(),e.beginPath(),e.moveTo(h,o+this.height+4),e.lineTo(h+2,o+this.height+9),e.lineTo(h-2,o+this.height+9),e.closePath(),e.stroke(),e.fill()}t["chart.label.inner"]&&(e.fillStyle="black",a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"]+2,x:this.gutterLeft+s+5,y:this.gutterTop+this.height/2,text:String(t["chart.units.pre"]+this.value+t["chart.units.post"]),valign:"bottom",halign:"left",bounding:!0,boundingFill:"white",tag:"label.inner"}))},this.DrawTickMarks=function(){if(e.strokeStyle=t["chart.tickmarks.color"],t["chart.tickmarks"]){e.beginPath(),this.tickInterval=this.width/t["chart.numticks"];var r=t["chart.tickmarks.zerostart"]?0:this.tickInterval;if("top"==t["chart.labels.position"])for(var a=this.gutterLeft+r;a<=this.width+this.gutterLeft+.1;a+=this.tickInterval)e.moveTo(Math.round(a),this.gutterTop),e.lineTo(Math.round(a),this.gutterTop-4);else for(var a=this.gutterLeft+r;a<=this.width+this.gutterLeft+.1;a+=this.tickInterval)e.moveTo(Math.round(a),this.gutterTop+this.height),e.lineTo(Math.round(a),this.gutterTop+this.height+4);e.stroke()}},this.DrawLabels=function(){if(!a.is_null(t["chart.labels.specific"]))return this.DrawSpecificLabels();e.fillStyle=t["chart.text.color"];var h=t["chart.text.font"],s=t["chart.text.size"];for(i=0,len=this.scale2.labels.length;len>i;i++){if("top"==t["chart.labels.position"])var o=this.width*(i/this.scale2.labels.length)+this.gutterLeft+this.width/this.scale2.labels.length,n=this.gutterTop-6,l="bottom";else var o=this.width*(i/this.scale2.labels.length)+this.gutterLeft+this.width/this.scale2.labels.length,n=this.height+this.gutterTop+4,l="top";a.Text2(this,{font:h,size:s,x:o,y:n,text:this.scale2.labels[i],valign:l,halign:"center",tag:"scale"})}t["chart.tickmarks.zerostart"]&&("top"==t["chart.labels.position"]?a.Text2(this,{font:h,size:s,x:this.gutterLeft,y:this.gutterTop-6,text:t["chart.units.pre"]+Number(t["chart.min"]).toFixed(t["chart.scale.decimals"])+t["chart.units.post"],valign:"bottom",halign:"center",tag:"scale"}):a.Text2(this,{font:h,size:s,x:this.gutterLeft,y:r.height-this.gutterBottom+5,text:t["chart.units.pre"]+Number(t["chart.min"]).toFixed(t["chart.scale.decimals"])+t["chart.units.post"],valign:"top",halign:"center",tag:"scale"}))},this.getShape=this.getBar=function(n){for(var g=a.getMouseXY(n),e=0;e<this.coords.length;e++){var g=a.getMouseXY(n),l=g[0],c=g[1],r=this.coords[e][0],i=this.coords[e][1],h=this.coords[e][2],s=this.coords[e][3],o=e;if(l>=r&&r+h>=l&&c>=i&&i+s>=c){var d=a.parseTooltipText(t["chart.tooltips"],o);return{0:this,1:r,2:i,3:h,4:s,5:o,object:this,x:r,y:i,width:h,height:s,index:o,tooltip:d}}}},this.getValue=function(h){var i=a.getMouseXY(h),e=(i[0]-this.gutterLeft)/this.width;return e*=this.max-t["chart.min"],e+=t["chart.min"],i[0]<this.gutterLeft&&(e=t["chart.min"]),i[0]>r.width-this.gutterRight&&(e=this.max),e},this.Highlight=function(t){a.Highlight.Rect(this,t)},this.getObjectByXY=function(e){var t=a.getMouseXY(e);return t[0]>this.gutterLeft&&t[0]<r.width-this.gutterRight&&t[1]>this.gutterTop&&t[1]<r.height-this.gutterBottom?this:void 0},this.Adjusting_mousemove=function(e){if(t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid){a.getMouseXY(e);var r=this.getValue(e);"number"==typeof r&&(a.FireCustomEvent(this,"onadjust"),this.value=Number(r.toFixed(t["chart.scale.decimals"])),a.Redraw())}},this.DrawSpecificLabels=function(){var i=t["chart.labels.specific"];if(i){var s=t["chart.text.font"],o=t["chart.text.size"],n="top"==t["chart.labels.position"]?"bottom":"top",l=this.width/(i.length-1);
e.beginPath(),e.fillStyle=t["chart.text.color"];for(var h=0;h<i.length;++h)a.Text2(this,{font:s,size:o,x:this.gutterLeft+l*h,y:"top"==t["chart.labels.position"]?this.gutterTop-7:r.height-this.gutterBottom+7,text:i[h],valign:n,halign:"center",tag:"labels.specific"});e.fill()}},this.positionTooltip=function(s,c,g,t){var h=s.coords[t.__index__][0],l=s.coords[t.__index__][1],o=s.coords[t.__index__][2];s.coords[t.__index__][3];var i=a.getCanvasXY(s.canvas);this.gutterLeft,this.gutterTop;var r=t.offsetWidth,n=t.offsetHeight;t.style.left=0,t.style.top=i[1]+l-n-7+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),i[0]+h+o/2-r/2<10?(t.style.left=i[0]+h-.1*r+o/2+"px",e.style.left=.1*r-8.5+"px"):i[0]+o/2+h+r/2>document.body.offsetWidth?(t.style.left=i[0]+h-.9*r+o/2+"px",e.style.left=.9*r-8.5+"px"):(t.style.left=i[0]+h+o/2-.5*r+"px",e.style.left=.5*r-8.5+"px")},this.getXCoord=function(e){var a=t["chart.min"];if(a>e||e>this.max)return null;var h=r.width-this.gutterLeft-this.gutterRight,i=(e-a)/(this.max-a)*h;return i=this.gutterLeft+i},this.overChartArea=function(i){var t=RGraph.getMouseXY(i),e=t[0],a=t[1];return e>=this.gutterLeft&&e<=r.width-this.gutterRight&&a>=this.gutterTop&&a<=r.height-this.gutterBottom?!0:!1},this.parseColors=function(){for(var a=t["chart.colors"],e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e]);t["chart.tickmarks.color"]=this.parseSingleColorForGradient(t["chart.tickmarks.color"]),t["chart.strokestyle.inner"]=this.parseSingleColorForGradient(t["chart.strokestyle.inner"]),t["chart.strokestyle.outer"]=this.parseSingleColorForGradient(t["chart.strokestyle.outer"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.background.color"]=this.parseSingleColorForGradient(t["chart.background.color"])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(t["chart.gutter.left"],0,r.width-t["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,a.trim(h[o]))}return s?s:i},this.DrawBevel=function(){for(var t=0,a=0;t<this.coords.length;++t)a+=this.coords[t][2];e.save(),e.beginPath(),e.rect(this.coords[0][0],this.coords[0][1],a,this.coords[0][3]),e.clip(),e.beginPath(),e.shadowColor="black",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=15,e.lineWidth=2,e.rect(this.coords[0][0]-1,this.coords[0][1]-1,a+2,this.coords[0][3]+2),e.stroke(),e.restore()},this.DrawTitle=function(){if(t["chart.title"].length){var e=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,i=t["chart.title"],h=t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2,s=t["chart.title.font"]?t["chart.title.font"]:t["chart.text.font"];"top"==t["chart.labels.position"]?(y=r.height-this.gutterBottom+5,e=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,valign="top"):(e=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,y=this.gutterTop-5,valign="bottom"),a.Text2(this,{font:s,size:h,x:"number"==typeof t["chart.title.x"]?t["chart.title.x"]:e,y:"number"==typeof t["chart.title.y"]?t["chart.title.y"]:y,text:i,valign:t["chart.title.valign"]?t["chart.title.valign"]:valign,halign:t["chart.title.halign"]?t["chart.title.halign"]:"center",bold:t["chart.title.bold"],bounding:t["chart.title.background"]?!0:!1,boundingFill:t["chart.title.background"],tag:"title"})}},this.interactiveKeyHighlight=function(r){var a=this.coords[r];e.beginPath(),e.strokeStyle="black",e.lineWidth=2,e.fillStyle=t["chart.key.interactive.highlight.chart"],e.rect(a[0],a[1],a[2],a[3]),e.fill(),e.stroke(),e.lineWidth=1},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.LED=function(i,h){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="led",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,RGraph.OldBrowserCompat(this.context),this.text=h.toLowerCase(),this.lights={"#":[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],"-":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1]],"*":[[0,0,0,0],[0,0,0,0],[1,0,0,1],[0,1,1,0],[0,1,1,0],[1,0,0,1],[0,0,0,0]],"<":[[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],">":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0]],"%":[[0,0,0,0],[0,0,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,0,0]],"":[[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],"!":[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,0,0],[0,0,1,0]],"":[[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,1,1,0],[1,0,0,0],[1,0,0,0],[0,1,1,1]],"?":[[1,1,1,0],[0,0,0,1],[0,0,0,1],[0,1,1,0],[0,1,0,0],[0,0,0,0],[0,1,0,0]],"+":[[0,0,0,0],[0,0,0,0],[0,1,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],"/":[[0,0,0,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,0],[0,0,0,0]],",":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,1,0],[0,1,0,0]],".":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,1,0,0]],";":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0],[0,0,1,0],[0,1,0,0]],":":[[0,0,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,1,0,0],[0,0,0,0],[0,0,0,0]],'"':[[1,0,1,0],[1,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],"[":[[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,0]],"]":[[0,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,1,1,1]],"(":[[0,0,1,1],[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,1,1]],")":[[1,1,0,0],[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,0],[1,1,0,0]],R:[[1,0,0,0],[1,1,0,0],[1,1,1,0],[1,1,1,1],[1,1,1,0],[1,1,0,0],[1,0,0,0]],L:[[0,0,0,1],[0,0,1,1],[0,1,1,1],[1,1,1,1],[0,1,1,1],[0,0,1,1],[0,0,0,1]],a:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],b:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0]],c:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,1],[0,1,1,0]],d:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,0]],e:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,1,1,1]],f:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],g:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,1,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],h:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],i:[[0,1,1,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,1]],j:[[0,1,1,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,0,0]],k:[[1,0,0,1],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1],[1,0,0,1]],l:[[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,1]],m:[[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],n:[[1,0,0,1],[1,1,0,1],[1,0,1,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1]],o:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],p:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,0,0],[1,0,0,0],[1,0,0,0]],q:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,1,1],[0,1,1,1]],r:[[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,1,1,0],[1,0,1,0],[1,0,0,1],[1,0,0,1]],s:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[0,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],t:[[1,1,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],u:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],v:[[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1],[0,1,0],[0,1,0]],w:[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,1],[0,1,1,0]],x:[[0,1,0,1],[0,1,0,1],[0,1,0,1],[0,0,1,0],[0,1,0,1],[0,1,0,1],[0,1,0,1]],y:[[0,1,0,1],[0,1,0,1],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],z:[[1,1,1,1],[0,0,0,1],[0,0,1,0],[0,0,1,0],[0,1,0,0],[1,0,0,0],[1,1,1,1]]," ":[[],[],[],[],[],[],[]],0:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],1:[[0,0,1,0],[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,1]],2:[[0,1,1,0],[1,0,0,1],[0,0,0,1],[0,0,1,0],[0,1,,0],[1,0,0,0],[1,1,1,1]],3:[[0,1,1,0],[1,0,0,1],[0,0,0,1],[0,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],4:[[1,0,0,0],[1,0,0,0],[1,0,1,0],[1,0,1,0],[1,1,1,1],[0,0,1,0],[0,0,1,0]],5:[[1,1,1,1],[1,0,0,0],[1,0,0,0],[1,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,1,0]],6:[[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],7:[[1,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],8:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]],9:[[0,1,1,1],[1,0,0,1],[1,0,0,1],[0,1,1,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]},this.properties={"chart.dark":"#eee","chart.light":"#f66","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.radius":null},!this.canvas)return alert("[LED] No canvas support"),void 0;this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var e=RGraph,r=this.canvas,a=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){e.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0);for(var a=0,i=this.text.length;i>a;a++)this.DrawLetter(this.text.charAt(a),a);return r.title=e.rtrim(this.text),t["chart.contextmenu"]&&e.ShowContext(this),t["chart.resizable"]&&e.AllowResizing(this),e.InstallEventListeners(this),e.FireCustomEvent(this,"ondraw"),this},this.DrawLetter=function(n,c){var d=t["chart.light"],g=t["chart.dark"],o=this.lights[n]?this.lights[n]:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];if("number"==typeof t["chart.radius"])e=Number(t["chart.radius"]),i=2*e,l=5*i;else var e=r.width/this.text.length/5/2,i=2*e,l=5*i;for(var s=0;7>s;s++)for(var h=0;5>h;h++){var u=h*i+c*l+e,p=s*i+e;a.fillStyle=o[s][h]?d:g,a.strokeStyle=o[s][h]?"#ccc":"rgba(0,0,0,0)",a.beginPath(),a.arc(u,p,e,0,6.28,0),a.stroke(),a.fill()}},this.getValue=function(){return this.text},this.parseColors=function(){"string"==typeof t["chart.dark"]&&(t["chart.dark"]=this.parseSingleColorForGradient(t["chart.dark"])),"string"==typeof t["chart.light"]&&(t["chart.light"]=this.parseSingleColorForGradient(t["chart.light"]))},this.parseSingleColorForGradient=function(s){if(s.match(/^gradient\((.*)\)$/i)){var t=RegExp.$1.split(":"),i=a.createLinearGradient(0,0,0,r.height),o=1/(t.length-1);i.addColorStop(0,e.trim(t[0]));for(var h=1;h<t.length;++h)i.addColorStop(h*o,e.trim(t[h]))}return i?i:s},e.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Line=function(o){this.id=o,this.canvas=document.getElementById(o),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="line",this.max=0,this.coords=[],this.coords2=[],this.coords.key=[],this.coordsText=[],this.hasnegativevalues=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":1,"chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.grid.color":"#ddd","chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.align":!1,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.dashed":!1,"chart.background.grid.dotted":!1,"chart.background.hbars":null,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.xtickgap":20,"chart.smallxticks":3,"chart.largexticks":5,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.linewidth":1.01,"chart.colors":["red","#0f0","#00f","#f0f","#ff0","#0ff"],"chart.hmargin":0,"chart.tickmarks.dot.color":"white","chart.tickmarks":null,"chart.tickmarks.linewidth":null,"chart.ticksize":3,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.tickdirection":-1,"chart.yaxispoints":5,"chart.fillstyle":null,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.xticks":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.shadow":!1,"chart.shadow.offsetx":2,"chart.shadow.offsety":2,"chart.shadow.blur":3,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.tooltips":null,"chart.tooltips.hotspot.xonly":!1,"chart.tooltips.hotspot.size":5,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onmousemove","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.stepped":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":null,"chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.contextmenu":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.scale.invert":!1,"chart.xlabels.inside":!1,"chart.xlabels.inside.color":"rgba(255,255,255,0.5)","chart.noaxes":!1,"chart.noyaxis":!1,"chart.noxaxis":!1,"chart.noendxtick":!1,"chart.noendytick":!1,"chart.units.post":"","chart.units.pre":"","chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.axesontop":!1,"chart.filled":!1,"chart.filled.range":!1,"chart.filled.range.threshold":null,"chart.filled.range.threshold.colors":["red","green"],"chart.filled.accumulative":!0,"chart.variant":null,"chart.axis.color":"black","chart.axis.linewidth":1,"chart.numxticks":arguments[1]&&"number"==typeof arguments[1][0]?arguments[1].length:20,"chart.numyticks":10,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.backdrop":!1,"chart.backdrop.size":30,"chart.backdrop.alpha":.2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noredraw":!1,"chart.outofbounds":!1,"chart.chromefix":!0,"chart.animation.factor":1,"chart.animation.unfold.x":!1,"chart.animation.unfold.y":!0,"chart.animation.unfold.initial":2,"chart.animation.trace.clip":1,"chart.curvy":!1,"chart.line.visible":!0,"chart.events.click":null,"chart.events.mousemove":null};for(var r=1;r<arguments.length;++r)"null"!=typeof arguments[r]&&arguments[r]||(arguments[r]=[]);this.original_data=[];for(var r=1;r<arguments.length;++r)if(arguments[1]&&"object"==typeof arguments[1]&&arguments[1][0]&&"object"==typeof arguments[1][0]&&arguments[1][0].length){for(var s=[],r=0;r<arguments[1].length;++r)s[r]=RGraph.array_clone(arguments[1][r]);for(var h=0;h<s.length;++h)this.original_data[h]=RGraph.array_clone(s[h])}else this.original_data[r-1]=RGraph.array_clone(arguments[r]);if(!this.canvas)return alert("[LINE] Fatal error: no canvas support"),void 0;this.data_arr=RGraph.array_linearize(this.original_data);for(var r=0;r<this.data_arr.length;++r)this["$"+r]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,t){if(e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.tooltips"==e&&"object"==typeof t&&t){for(var r=[],a=1;a<arguments.length;a++)if("object"==typeof arguments[a]&&arguments[a][0])for(var i=0;i<arguments[a].length;i++)r.push(arguments[a][i]);else"function"==typeof arguments[a]?r=arguments[a]:r.push(arguments[a]);t=r}if("chart.linewidth"==e&&navigator.userAgent.match(/Chrome/))if(1==t)t=1.01;else if(RGraph.is_array(t))for(var a=0;a<t.length;++a)"number"==typeof t[a]&&1==t[a]&&(t[a]=1.01);return"chart.xaxispos"==e&&"bottom"!=t&&"center"!=t&&"top"!=t&&(alert("[LINE] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+t+" Changing it to center"),t="center"),"chart.xticks"==e&&(e="chart.numxticks"),"chart.spline"==e&&(e="chart.curvy"),"chart.ylabels.invert"==e&&(e="chart.scale.invert"),this.properties[e]=t,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.spline"==e&&(e="chart.curvy"),t[e]},this.Draw=function(){if("string"==typeof t["chart.background.image"]&&a.DrawBackgroundImage(this),a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],t["chart.shadow"]&&ISCHROME&&t["chart.linewidth"]<=1&&t["chart.chromefix"]&&t["chart.shadow.blur"]>0&&alert("[RGRAPH WARNING] Chrome has a shadow bug, meaning you should increase the linewidth to at least 1.01"),this.data=a.array_clone(this.original_data),this.max=0,t["chart.filled"]&&!t["chart.filled.range"]&&this.data.length>1&&t["chart.filled.accumulative"])for(var c=[],n=0;n<this.data.length;++n)for(var s=0;s<this.data[n].length;++s)this.data[n][s]=Number(c[s]?c[s]:0)+this.data[n][s],c[s]=this.data[n][s];if(t["chart.ymax"]){if(this.max=t["chart.ymax"],this.min=t["chart.ymin"]?t["chart.ymin"]:0,this.scale2=a.getScale2(this,{max:this.max,min:t["chart.ymin"],strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max?this.scale2.max:0,!t["chart.outofbounds"])for(dataset=0;dataset<this.data.length;++dataset)for(var o=0;o<this.data[dataset].length;o++)this.hasnegativevalues=this.data[dataset][o]<0||this.hasnegativevalues}else{for(this.min=t["chart.ymin"]?t["chart.ymin"]:0,dataset=0;dataset<this.data.length;++dataset)for(var o=0;o<this.data[dataset].length;o++)this.max=Math.max(this.max,this.data[dataset][o]?Math.abs(parseFloat(this.data[dataset][o])):0),t["chart.outofbounds"]||(this.hasnegativevalues=this.data[dataset][o]<0||this.hasnegativevalues);this.scale2=a.getScale2(this,{max:this.max,min:t["chart.ymin"],"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max?this.scale2.max:0}t["chart.contextmenu"]&&a.ShowContext(this),this.coords=[],this.coordsText=[],this.grapharea=i.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=t["chart.text.size"]/2,"bottom"==t["chart.xaxispos"]&&this.hasnegativevalues&&!ISOPERA&&alert("[LINE] You have negative values and the X axis is at the bottom. This is not good..."),"3d"==t["chart.variant"]&&a.Draw3DAxes(this),a.background.Draw(this),t["chart.background.hbars"]&&t["chart.background.hbars"].length>0&&a.DrawBars(this),0==t["chart.axesontop"]&&this.DrawAxes(),e.save(),e.beginPath(),e.rect(0,0,i.width*t["chart.animation.trace.clip"],i.height),e.clip();for(var r=0,h=0,l=this.data.length;l>r;r++,h++){if(e.beginPath(),t["chart.filled"]||this.SetShadow(r),t["chart.fillstyle"]){if("object"==typeof t["chart.fillstyle"]&&t["chart.fillstyle"][h])var d=t["chart.fillstyle"][h];else if("object"==typeof t["chart.fillstyle"]&&t["chart.fillstyle"].toString().indexOf("Gradient")>0)var d=t["chart.fillstyle"];else if("string"==typeof t["chart.fillstyle"])var d=t["chart.fillstyle"]}else if(t["chart.filled"])var d=t["chart.colors"][h];else var d=null;if(t["chart.tickmarks"]&&"object"==typeof t["chart.tickmarks"])var g=t["chart.tickmarks"][r];else if(t["chart.tickmarks"]&&"string"==typeof t["chart.tickmarks"])var g=t["chart.tickmarks"];else if(t["chart.tickmarks"]&&"function"==typeof t["chart.tickmarks"])var g=t["chart.tickmarks"];else var g=null;this.DrawLine(this.data[r],t["chart.colors"][h],d,this.GetLineWidth(h),g,r),e.stroke()}if(t["chart.filled"]&&t["chart.filled.accumulative"]&&!t["chart.curvy"]){for(var r=0;r<this.coords2.length;++r){e.beginPath(),e.lineWidth=this.GetLineWidth(r),e.strokeStyle=t["chart.colors"][r];for(var h=0,l=this.coords2[r].length;l>h;++h)0==h||null==this.coords2[r][h][1]||this.coords2[r][h-1]&&null==this.coords2[r][h-1][1]?e.moveTo(this.coords2[r][h][0],this.coords2[r][h][1]):(t["chart.stepped"]&&e.lineTo(this.coords2[r][h][0],this.coords2[r][h-1][1]),e.lineTo(this.coords2[r][h][0],this.coords2[r][h][1]));e.stroke()}if(t["chart.tickmarks"]){e.beginPath(),e.fillStyle="white";for(var r=0,l=this.coords2.length;l>r;++r){e.beginPath(),e.strokeStyle=t["chart.colors"][r];for(var h=0;h<this.coords2[r].length;++h)if("object"==typeof this.coords2[r][h]&&"number"==typeof this.coords2[r][h][0]&&"number"==typeof this.coords2[r][h][1]){var g="object"==typeof t["chart.tickmarks"]?t["chart.tickmarks"][r]:t["chart.tickmarks"];this.DrawTick(this.coords2[r],this.coords2[r][h][0],this.coords2[r][h][1],e.strokeStyle,!1,0==h?0:this.coords2[r][h-1][0],0==h?0:this.coords2[r][h-1][1],g,h)}}e.stroke(),e.fill()}}if(e.restore(),e.beginPath(),t["chart.axesontop"]&&this.DrawAxes(),this.DrawLabels(),this.DrawRange(),t["chart.key"]&&t["chart.key"].length&&a.DrawKey&&a.DrawKey(this,t["chart.key"],t["chart.colors"]),t["chart.labels.above"]&&this.DrawAboveLabels(),a.DrawInGraphLabels(this),t["chart.filled"]&&t["chart.filled.range"]&&2==this.data.length){e.beginPath();var l=this.coords.length/2;e.lineWidth=t["chart.linewidth"],e.strokeStyle=t["chart.colors"][0];for(var r=0;l>r;++r)a.is_null(this.coords[r][1])||(0==r?e.moveTo(this.coords[r][0],this.coords[r][1]):e.lineTo(this.coords[r][0],this.coords[r][1]));e.stroke(),e.beginPath(),t["chart.colors"][1]&&(e.strokeStyle=t["chart.colors"][1]);for(var r=this.coords.length-1;r>=l;--r)a.is_null(this.coords[r][1])||(r==this.coords.length-1?e.moveTo(this.coords[r][0],this.coords[r][1]):e.lineTo(this.coords[r][0],this.coords[r][1]));e.stroke()}else t["chart.filled"]&&t["chart.filled.range"]&&alert("[LINE] You must have only two sets of data for a filled range chart");return t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){var g=RGraph,e=this.canvas,a=this.context,t=this.properties;if(!t["chart.noaxes"]){if(g.NoShadow(this),a.lineWidth=t["chart.axis.linewidth"]+.001,a.lineCap="butt",a.strokeStyle=t["chart.axis.color"],a.beginPath(),0==t["chart.noxaxis"]&&("center"==t["chart.xaxispos"]?(a.moveTo(this.gutterLeft,Math.round(this.grapharea/2+this.gutterTop)),a.lineTo(e.width-this.gutterRight,Math.round(this.grapharea/2+this.gutterTop))):"top"==t["chart.xaxispos"]?(a.moveTo(this.gutterLeft,this.gutterTop),a.lineTo(e.width-this.gutterRight,this.gutterTop)):(a.moveTo(this.gutterLeft,e.height-this.gutterBottom),a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom))),0==t["chart.noyaxis"]&&("left"==t["chart.yaxispos"]?(a.moveTo(this.gutterLeft,this.gutterTop),a.lineTo(this.gutterLeft,e.height-this.gutterBottom)):(a.moveTo(e.width-this.gutterRight,this.gutterTop),a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom))),0==t["chart.noxaxis"]&&t["chart.numxticks"]>0){var i=(e.width-this.gutterLeft-this.gutterRight)/t["chart.numxticks"];for((!i||0>=i)&&(i=(e.width-this.gutterLeft-this.gutterRight)/(t["chart.labels"]&&t["chart.labels"].length?t["chart.labels"].length-1:10)),x=this.gutterLeft+("left"==t["chart.yaxispos"]?i:0);x<=e.width-this.gutterRight+1&&!("right"==t["chart.yaxispos"]&&x>=e.width-this.gutterRight-1);x+=i){if(t["chart.noendxtick"]){if("left"==t["chart.yaxispos"]&&x>=e.width-this.gutterRight-1)break;if("right"==t["chart.yaxispos"]&&x==this.gutterLeft)continue}var o="center"==t["chart.xaxispos"]?this.gutterTop+this.grapharea/2-3:e.height-this.gutterBottom,n="center"==t["chart.xaxispos"]?o+6:e.height-this.gutterBottom-(0==x%60?t["chart.largexticks"]*t["chart.tickdirection"]:t["chart.smallxticks"]*t["chart.tickdirection"]);if("center"==t["chart.xaxispos"])var o=Math.round(this.gutterTop+this.grapharea/2)-3,n=o+6;else if("bottom"==t["chart.xaxispos"]){var o=e.height-this.gutterBottom,n=e.height-this.gutterBottom-(0==x%60?t["chart.largexticks"]*t["chart.tickdirection"]:t["chart.smallxticks"]*t["chart.tickdirection"]);n+=0}else"top"==t["chart.xaxispos"]&&(o=this.gutterTop-3,n=this.gutterTop);a.moveTo(Math.round(x),o),a.lineTo(Math.round(x),n)}}else 0==t["chart.noyaxis"]&&t["chart.numyticks"]>0&&(t["chart.noendytick"]||("left"==t["chart.yaxispos"]?(a.moveTo(this.gutterLeft,Math.round(e.height-this.gutterBottom)),a.lineTo(this.gutterLeft-t["chart.smallyticks"],Math.round(e.height-this.gutterBottom))):(a.moveTo(e.width-this.gutterRight,Math.round(e.height-this.gutterBottom)),a.lineTo(e.width-this.gutterRight+t["chart.smallyticks"],Math.round(e.height-this.gutterBottom)))));var h=t["chart.numyticks"];if(0==t["chart.noyaxis"]&&h>0){var c=0,l=0;if("right"==t["chart.yaxispos"]&&(l=e.width-this.gutterLeft-this.gutterRight),"center"==t["chart.xaxispos"]){var s=this.grapharea/h,r="left"==t["chart.yaxispos"]?this.gutterLeft:e.width-this.gutterRight+t["chart.smallyticks"];for(y=this.gutterTop;y<this.grapharea/2+this.gutterTop;y+=s)y<this.grapharea/2+this.gutterTop&&(a.moveTo("left"==t["chart.yaxispos"]?this.gutterLeft-t["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y)),a.lineTo(r,Math.round(y)));for(y=this.gutterTop+this.halfgrapharea+s;y<=this.grapharea+this.gutterTop;y+=s)a.moveTo("left"==t["chart.yaxispos"]?this.gutterLeft-t["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y)),a.lineTo(r,Math.round(y))}else if("top"==t["chart.xaxispos"]){var s=this.grapharea/h,r="left"==t["chart.yaxispos"]?this.gutterLeft:e.width-this.gutterRight+t["chart.smallyticks"];for(y=this.gutterTop+s;y<=this.grapharea+this.gutterTop;y+=s)a.moveTo("left"==t["chart.yaxispos"]?this.gutterLeft-t["chart.smallyticks"]:e.width-this.gutterRight,Math.round(y)),a.lineTo(r,Math.round(y));t["chart.noxaxis"]&&0==t["chart.noendytick"]&&(a.moveTo("left"==t["chart.yaxispos"]?this.gutterLeft-t["chart.smallyticks"]:e.width-this.gutterRight,this.gutterTop),a.lineTo(r,this.gutterTop))}else{var r="left"==t["chart.yaxispos"]?this.gutterLeft-t["chart.smallyticks"]:e.width-this.gutterRight+t["chart.smallyticks"];for(y=this.gutterTop;y<e.height-this.gutterBottom&&h>c;y+=(e.height-this.gutterTop-this.gutterBottom)/h){a.moveTo(this.gutterLeft+l,Math.round(y)),a.lineTo(r,Math.round(y));var c=c+1}}}else 0==t["chart.noxaxis"]&&t["chart.numxticks"]>0&&("left"==t["chart.yaxispos"]?(a.moveTo(this.gutterLeft,"top"==t["chart.xaxispos"]?this.gutterTop:e.height-this.gutterBottom),a.lineTo(this.gutterLeft,"top"==t["chart.xaxispos"]?this.gutterTop-t["chart.smallxticks"]:e.height-this.gutterBottom+t["chart.smallxticks"])):(a.moveTo(e.width-this.gutterRight,e.height-this.gutterBottom),a.lineTo(e.width-this.gutterRight,e.height-this.gutterBottom+t["chart.smallxticks"])));a.stroke()}},this.DrawLabels=function(){e.strokeStyle="black",e.fillStyle=t["chart.text.color"],e.lineWidth=1,a.NoShadow(this);var o=t["chart.text.font"],n=t["chart.text.size"],k=t["chart.scale.decimals"],y=t["chart.ymin"];if(t["chart.ylabels"]&&null==t["chart.ylabels.specific"]){var b=t["chart.units.pre"],w=t["chart.units.post"],c="left"==t["chart.yaxispos"]?this.gutterLeft-5:i.width-this.gutterRight+5,l="left"==t["chart.yaxispos"]?"right":"left",_=this.scale2.labels.length,s=!1,h=t["chart.ylabels.inside"]?t["chart.ylabels.inside.color"]:null;if(1==t["chart.ylabels.inside"]&&"left"==l?(c-=10,l="right",s=!0):1==t["chart.ylabels.inside"]&&"right"==l&&(c+=10,l="left",s=!0),"center"==t["chart.xaxispos"]){for(var v=this.grapharea/2,r=0;r<this.scale2.labels.length;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+v-(r+1)/_*v,valign:"center",halign:l,bounding:s,boundingFill:h,text:this.scale2.labels[r],tag:"scale"});for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+v+(r+1)/_*v,valign:"center",halign:l,bounding:s,boundingFill:h,text:"-"+this.scale2.labels[r],tag:"scale"});(1==t["chart.noxaxis"]||0!=y)&&a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+v,text:t["chart.units.pre"]+y.toFixed(k)+t["chart.units.post"],bounding:s,boundingFill:h,valign:"center",halign:l,tag:"scale"})}else if("top"==t["chart.xaxispos"]){var v=this.grapharea/2;if(t["chart.scale.invert"])for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+r/this.scale2.labels.length*this.grapharea,valign:"center",halign:l,bounding:s,boundingFill:h,text:"-"+this.scale2.labels[this.scale2.labels.length-(r+1)],tag:"scale"});else for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+(r+1)/_*this.grapharea,valign:"center",halign:l,bounding:s,boundingFill:h,text:"-"+this.scale2.labels[r],tag:"scale"});(0!=t["chart.ymin"]||t["chart.noxaxis"]||t["chart.scale.invert"])&&a.Text2(this,{font:o,size:n,x:c,y:t["chart.scale.invert"]?i.height-this.gutterBottom:this.gutterTop,text:(0!=t["chart.ymin"]?"-":"")+a.number_format(this,t["chart.ymin"].toFixed(k),b,w),valign:"center",halign:l,bounding:s,boundingFill:h,tag:"scale"})}else{if(t["chart.scale.invert"]){a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop,valign:"center",halign:l,bounding:s,boundingFill:h,text:a.number_format(this,this.min.toFixed(t["chart.scale.decimals"]),b,w),tag:"scale"});for(var r=0,R=this.scale2.labels.length;R>r;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+(r+1)/this.scale2.labels.length*this.grapharea,valign:"center",halign:l,bounding:s,boundingFill:h,text:this.scale2.labels[r],tag:"scale"})
}else for(var r=0,R=this.scale2.labels.length;R>r;++r)a.Text2(this,{font:o,size:n,x:c,y:this.gutterTop+r/this.scale2.labels.length*this.grapharea,valign:"center",halign:l,bounding:s,boundingFill:h,text:this.scale2.labels[this.scale2.labels.length-(r+1)],tag:"scale"});(0!=t["chart.ymin"]&&!t["chart.scale.invert"]||t["chart.noxaxis"])&&a.Text2(this,{font:o,size:n,x:c,y:t["chart.scale.invert"]?this.gutterTop:i.height-this.gutterBottom,text:a.number_format(this,t["chart.ymin"].toFixed(t["chart.scale.decimals"]),b,w),valign:"center",halign:l,bounding:s,boundingFill:h,tag:"scale"})}1==t["chart.noxaxis"]&&null==t["chart.ymin"]&&"center"!=t["chart.xaxispos"]&&0==t["chart.noendytick"]&&a.Text2(this,{font:o,size:n,x:c,y:"top"==t["chart.xaxispos"]?this.gutterTop:i.height-this.gutterBottom,text:t["chart.units.pre"]+0..toFixed(t["chart.scale.decimals"])+t["chart.units.post"],valign:"center",halign:l,bounding:s,boundingFill:h,tag:"scale"})}else if(t["chart.ylabels"]&&"object"==typeof t["chart.ylabels.specific"]){this.grapharea/t["chart.ylabels.specific"].length;var g="left"==t["chart.yaxispos"]?"right":"left",s=!1,h=null,y=null!=t["chart.ymin"]&&t["chart.ymin"];if("left"==t["chart.yaxispos"]){var f=this.gutterLeft-5;t["chart.ylabels.inside"]&&(f+=10,g="left",s=!0,h="rgba(255,255,255,0.5)")}else if("right"==t["chart.yaxispos"]){var f=i.width-this.gutterRight+5;t["chart.ylabels.inside"]&&(f-=10,g="right",s=!0,h="rgba(255,255,255,0.5)")}if("center"==t["chart.xaxispos"]){for(var r=0;r<t["chart.ylabels.specific"].length;++r){var p=this.gutterTop+this.grapharea/(2*(t["chart.ylabels.specific"].length-1))*r;if(y&&y>0){var p=this.grapharea/2/(t["chart.ylabels.specific"].length-(y?1:0))*r;p+=this.gutterTop}a.Text2(this,{font:o,size:n,x:f,y:p,text:String(t["chart.ylabels.specific"][r]),valign:"center",halign:g,bounding:s,boundingFill:h,tag:"ylabels.specific"})}for(var u=a.array_reverse(t["chart.ylabels.specific"]),r=0;r<u.length;++r){var p=this.grapharea/2+this.gutterTop+this.grapharea/(2*(u.length-1))*r;a.Text2(this,{font:o,size:n,x:f,y:p,text:0==r?"":String(u[r]),valign:"center",halign:g,bounding:s,boundingFill:h,tag:"ylabels.specific"})}}else if("top"==t["chart.xaxispos"])for(var u=a.array_reverse(t["chart.ylabels.specific"]),r=0;r<u.length;++r){var p=this.grapharea/(u.length-1)*r;p+=this.gutterTop,a.Text2(this,{font:o,size:n,x:f,y:p,text:String(u[r]),valign:"center",halign:g,bounding:s,boundingFill:h,tag:"ylabels.specific"})}else for(var r=0;r<t["chart.ylabels.specific"].length;++r){var p=this.gutterTop+this.grapharea/(t["chart.ylabels.specific"].length-1)*r;a.Text2(this,{font:o,size:n,x:f,y:p,text:String(t["chart.ylabels.specific"][r]),valign:"center",halign:g,bounding:s,boundingFill:h,tag:"ylabels.specific"})}}if(t["chart.labels"]&&t["chart.labels"].length>0){var d=5,G=!1,h=null,T=0,x="top",g="center";t["chart.xlabels.inside"]&&(d=-5,G=!0,h=t["chart.xlabels.inside.color"],x="bottom"),"top"==t["chart.xaxispos"]&&(x="bottom",d+=2),"number"==typeof t["chart.text.angle"]&&t["chart.text.angle"]>0&&(T=-1*t["chart.text.angle"],x="center",g="right",d=10,"top"==t["chart.xaxispos"]&&(d=10)),e.fillStyle=t["chart.text.color"];var C=t["chart.labels"].length;for(r=0;C>r;++r)if(t["chart.labels"][r]){var m=(i.width-this.gutterLeft-this.gutterRight-2*t["chart.hmargin"])/(C-1)*r;m+=this.gutterLeft+t["chart.hmargin"],t["chart.labels"].length!=this.data[0].length&&(m=this.gutterLeft+t["chart.hmargin"]+(i.width-this.gutterLeft-this.gutterRight-2*t["chart.hmargin"])*(r/(t["chart.labels"].length-1))),m||(m=this.gutterLeft+t["chart.hmargin"]),"top"==t["chart.xaxispos"]&&t["chart.text.angle"]>0&&(g="left"),0!=t["chart.text.angle"]&&(g="right"),a.Text2(this,{font:o,size:n,x:m,y:"top"==t["chart.xaxispos"]?this.gutterTop-d-(t["chart.xlabels.inside"]?-22:0):i.height-this.gutterBottom+d,text:String(t["chart.labels"][r]),valign:x,halign:g,bounding:G,boundingFill:h,angle:T,tag:"labels"})}}e.stroke(),e.fill()},this.DrawLine=function(l,f,v,k,n,g){var o=this.canvas,r=this.context,e=this.properties;if(e["chart.animation.unfold.y"]&&1!=e["chart.animation.factor"])for(var t=0;t<l.length;++t)l[t]*=e["chart.animation.factor"];var p=!1,s=null,h=0;r.lineWidth=1;var i=[];if(g>0)var u=this.coords2[g-1];var w=(o.width-2*e["chart.hmargin"]-this.gutterLeft-this.gutterRight)/(l.length-1);for(t=0;t<l.length;t++){var _=l[t],s=this.getYCoord(_);(null==l[t]||"bottom"==e["chart.xaxispos"]&&l[t]<this.min&&!e["chart.outofbounds"]||"center"==e["chart.xaxispos"]&&l[t]<-1*this.max&&!e["chart.outofbounds"])&&(s=null),r.lineCap="round",r.lineJoin="round",t>0?h+=w:h=e["chart.hmargin"]+this.gutterLeft,e["chart.animation.unfold.x"]&&(h*=e["chart.animation.factor"],h<e["chart.gutter.left"]&&(h=e["chart.gutter.left"])),this.coords.push([h,s]),i.push([h,s])}r.stroke(),this.coords2[g]=i,ISOLD&&e["chart.shadow"]&&this.DrawIEShadow(i,r.shadowColor),r.beginPath(),r.strokeStyle="rgba(0,0,0,0)",v&&(r.fillStyle=v);var m=e["chart.stepped"],R=e["chart.filled"];if("top"==e["chart.xaxispos"])var y=this.gutterTop;else if("center"==e["chart.xaxispos"])var y=this.gutterTop+this.grapharea/2;else if("bottom"==e["chart.xaxispos"])var y=o.height-this.gutterBottom;for(var t=0;t<i.length;++t){h=i[t][0],s=i[t][1];var d=i[t-1]?i[t-1][1]:null,x=t+1==i.length;(d<this.gutterTop||d>o.height-this.gutterBottom)&&(p=!0),0==t||p||!s||!d||d<this.gutterTop?(e["chart.filled"]&&!e["chart.filled.range"]?(r.moveTo(h+1,y),"top"==e["chart.xaxispos"]&&r.moveTo(h+1,y),r.lineTo(h,s)):ISOLD&&null==s||r.moveTo(h+1,s),p=null==s?!0:!1):(m&&r.lineTo(h,i[t-1][1]),s>=this.gutterTop&&s<=o.height-this.gutterBottom||e["chart.outofbounds"]?(x&&e["chart.filled"]&&!e["chart.filled.range"]&&"right"==e["chart.yaxispos"]&&(h-=1),m&&x?m&&x&&r.lineTo(h,s):(r.lineTo(h,s),R&&i[t+1]&&null==i[t+1][1]&&r.lineTo(h,y)),p=!1):p=!0)}if(e["chart.filled"]&&!e["chart.filled.range"]&&!e["chart.curvy"]){if(e["chart.fillstyle"],g>0&&e["chart.filled.accumulative"]){r.lineTo(h,u?u[t-1][1]:o.height-this.gutterBottom-1+("center"==e["chart.xaxispos"]?(o.height-this.gutterTop-this.gutterBottom)/2:0));for(var c=t-1;c>=0;--c)r.lineTo(0==c?u[c][0]+1:u[c][0],u[c][1])}else if("top"==e["chart.xaxispos"])r.lineTo(h,e["chart.gutter.top"]+1),r.lineTo(i[0][0],e["chart.gutter.top"]+1);else if("number"==typeof i[t-1][1]){var b="center"==e["chart.xaxispos"]?(o.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop:o.height-this.gutterBottom;r.lineTo(h,b),r.lineTo(i[0][0],b)}r.fillStyle=v,r.fill(),r.beginPath()}if(ISCHROME&&e["chart.shadow"]&&e["chart.chromefix"]&&e["chart.shadow.blur"]>0)for(var t=i.length-1;t>=0;--t)"number"!=typeof i[t][1]||"object"==typeof i[t+1]&&"number"!=typeof i[t+1][1]?r.moveTo(i[t][0],i[t][1]):r.lineTo(i[t][0],i[t][1]);r.stroke(),e["chart.backdrop"]&&this.DrawBackdrop(i,f),r.save(),r.beginPath(),r.rect(0,0,o.width*e["chart.animation.trace.clip"],o.height),r.clip(),this.SetShadow(g),this.RedrawLine(i,f,k),r.stroke(),a.NoShadow(this);for(var t=0;t<i.length;++t)if(t=Number(t),r.strokeStyle=f,m&&t==i.length-1&&r.beginPath(),"endcircle"!=n&&"endsquare"!=n&&"filledendsquare"!=n&&"endtick"!=n&&"endtriangle"!=n&&"arrow"!=n&&"filledarrow"!=n||0==t&&"arrow"!=n&&"filledarrow"!=n||t==i.length-1){var G=0>=t?null:i[t-1][0],d=0>=t?null:i[t-1][1];this.DrawTick(l,i[t][0],i[t][1],f,!1,G,d,n,t)}r.restore(),r.beginPath(),r.arc(o.width+5e4,o.height+5e4,2,0,6.38,1)},this.DrawTick=function(l,s,r,m,c,f,d,h,o){if(t["chart.line.visible"]&&!(a.is_null(r)||r>i.height-this.gutterBottom&&!t["chart.outofbounds"]||r<this.gutterTop&&!t["chart.outofbounds"])){e.beginPath();var y=0;if(e.lineWidth=t["chart.tickmarks.linewidth"]?t["chart.tickmarks.linewidth"]:t["chart.linewidth"],e.strokeStyle=c?t["chart.shadow.color"]:e.strokeStyle,e.fillStyle=c?t["chart.shadow.color"]:e.strokeStyle,"circle"==h||"filledcircle"==h||"endcircle"==h)("circle"==h||"filledcircle"==h||"endcircle"==h&&(0==o||o==l.length-1))&&(e.beginPath(),e.arc(s+y,r+y,t["chart.ticksize"],0,360/(180/PI),!1),e.fillStyle="filledcircle"==h?c?t["chart.shadow.color"]:e.strokeStyle:c?t["chart.shadow.color"]:"white",e.stroke(),e.fill());else if("halftick"==h)e.beginPath(),e.moveTo(Math.round(s),r),e.lineTo(Math.round(s),r+t["chart.ticksize"]),e.stroke();else if("tick"==h)e.beginPath(),e.moveTo(Math.round(s),r-t["chart.ticksize"]),e.lineTo(Math.round(s),r+t["chart.ticksize"]),e.stroke();else if("endtick"!=h||0!=o&&o!=l.length-1)if("cross"==h){e.beginPath();var n=t["chart.ticksize"];e.moveTo(s-n,r-n),e.lineTo(s+n,r+n),e.moveTo(s+n,r-n),e.lineTo(s-n,r+n),e.stroke()}else if("triangle"==h||"filledtriangle"==h||"endtriangle"==h&&(0==o||o==l.length-1))e.beginPath(),e.fillStyle="filledtriangle"==h?c?t["chart.shadow.color"]:e.strokeStyle:"white",e.moveTo(Math.round(s-t["chart.ticksize"]),r+t["chart.ticksize"]),e.lineTo(Math.round(s),r-t["chart.ticksize"]),e.lineTo(Math.round(s+t["chart.ticksize"]),r+t["chart.ticksize"]),e.closePath(),e.stroke(),e.fill();else if("borderedcircle"==h||"dot"==h)e.lineWidth=1,e.strokeStyle=t["chart.tickmarks.dot.color"],e.fillStyle=t["chart.tickmarks.dot.color"],e.beginPath(),e.arc(s,r,t["chart.ticksize"],0,360/(180/PI),!1),e.closePath(),e.fill(),e.stroke(),e.beginPath(),e.fillStyle=m,e.strokeStyle=m,e.arc(s,r,t["chart.ticksize"]-2,0,360/(180/PI),!1),e.closePath(),e.fill(),e.stroke();else if("square"==h||"filledsquare"==h||"endsquare"==h&&(0==o||o==l.length-1)||"filledendsquare"==h&&(0==o||o==l.length-1))e.fillStyle="white",e.strokeStyle=e.strokeStyle,e.beginPath(),e.rect(Math.round(s-t["chart.ticksize"]),Math.round(r-t["chart.ticksize"]),2*t["chart.ticksize"],2*t["chart.ticksize"]),"filledsquare"==h||"filledendsquare"==h?(e.fillStyle=c?t["chart.shadow.color"]:e.strokeStyle,e.rect(Math.round(s-t["chart.ticksize"]),Math.round(r-t["chart.ticksize"]),2*t["chart.ticksize"],2*t["chart.ticksize"])):("square"==h||"endsquare"==h)&&(e.fillStyle=c?t["chart.shadow.color"]:"white",e.rect(Math.round(s-t["chart.ticksize"]+1),Math.round(r-t["chart.ticksize"]+1),2*t["chart.ticksize"]-2,2*t["chart.ticksize"]-2)),e.stroke(),e.fill();else if("filledarrow"==h){var u=Math.abs(s-f),p=Math.abs(r-d);if(d>r)var g=Math.atan(u/p)+1.57;else var g=Math.atan(p/u)+3.14;e.beginPath(),e.moveTo(Math.round(s),Math.round(r)),e.arc(Math.round(s),Math.round(r),7,g-.5,g+.5,!1),e.closePath(),e.stroke(),e.fill()}else if("arrow"==h){var v=e.lineWidth,u=Math.abs(s-f),p=Math.abs(r-d);if(e.lineWidth,d>r)var g=Math.atan(u/p)+1.57;else var g=Math.atan(p/u)+3.14;e.beginPath(),e.moveTo(Math.round(s),Math.round(r)),e.arc(Math.round(s),Math.round(r),7,g-.5-(document.all?.1:.01),g-.4,!1),e.moveTo(Math.round(s),Math.round(r)),e.arc(Math.round(s),Math.round(r),7,g+.5+(document.all?.1:.01),g+.5,!0),e.stroke(),e.fill(),e.lineWidth=v}else"function"==typeof h&&h(this,l,l[o],o,s,r,m,f,d);else e.beginPath(),e.moveTo(Math.round(s),r-t["chart.ticksize"]),e.lineTo(Math.round(s),r+t["chart.ticksize"]),e.stroke()}},this.DrawRange=function(){var i=RGraph,h=this.canvas,t=this.context,a=this.properties;if(a["chart.filled.range"]&&a["chart.filled"]&&a["chart.line.visible"]){i.is_null(a["chart.filled.range.threshold"])&&(a["chart.filled.range.threshold"]=this.ymin,a["chart.filled.range.threshold.colors"]=[a["chart.fillstyle"],a["chart.fillstyle"]]);for(var r=0;2>r;++r){a["chart.filled.range.threshold.colors"];var s=this.getYCoord(a["chart.filled.range.threshold"]);t.save(),0==r?(t.beginPath(),t.rect(0,0,h.width,s),t.clip()):(t.beginPath(),t.rect(0,s,h.width,h.height),t.clip()),t.beginPath(),t.fillStyle=1==r?a["chart.filled.range.threshold.colors"][1]:a["chart.filled.range.threshold.colors"][0],t.lineWidth=1;for(var o=this.coords.length/2,e=0;o>e;++e)i.is_null(this.coords[e][1])||(0==e?t.moveTo(this.coords[e][0],this.coords[e][1]):t.lineTo(this.coords[e][0],this.coords[e][1]));for(var e=this.coords.length-1;e>=o;--e)i.is_null(this.coords[e][1])?t.moveTo(this.coords[e][0],this.coords[e][1]):t.lineTo(this.coords[e][0],this.coords[e][1]);t.fill(),t.restore()}}},this.RedrawLine=function(e,r,g){var l=this.canvas,a=this.context,i=this.properties;if(!i["chart.noredraw"]&&!i["chart.filled.range"]){if(a.strokeStyle="object"==typeof r&&r&&-1==r.toString().indexOf("CanvasGradient")?r[0]:r,a.lineWidth=g,i["chart.line.visible"]||(a.strokeStyle="rgba(0,0,0,0)"),!ISOLD&&(i["chart.curvy"]||i["chart.spline"]))return this.DrawCurvyLine(e,i["chart.line.visible"]?r:"rgba(0,0,0,0)",g),void 0;a.beginPath();for(var n=e.length,u=l.width,c=l.height,o=!1,t=0;n>t;++t){e[t][0];var s=e[t][1];if(t>0)var d=e[t-1][0],h=e[t-1][1];!(0==t&&e[t]||s<this.gutterTop||h<this.gutterTop||s>c-this.gutterBottom||t>0&&d>u-this.gutterRight||t>0&&h>c-this.gutterBottom||null==h||1==o)||i["chart.outofbounds"]&&null!=s&&null!=h?(i["chart.stepped"]&&t>0&&a.lineTo(e[t][0],e[t-1][1]),a.lineTo(e[t][0],e[t][1]),o=!1):(ISOLD&&null==s||a.moveTo(e[t][0],e[t][1]),o=!1)}if(i["chart.colors.alternate"]&&"object"==typeof r&&r[0]&&r[1])for(var t=1;n>t;++t){var d=e[t-1][0],h=e[t-1][1];null!=h&&null!=e[t][1]&&(a.beginPath(),a.strokeStyle=r[e[t][1]<h?0:1],a.lineWidth=i["chart.linewidth"],a.moveTo(d,h),a.lineTo(e[t][0],e[t][1]),a.stroke())}}},this.DrawIEShadow=function(a,s){this.canvas;var e=this.context,r=this.properties,i=r["chart.shadow.offsetx"],h=r["chart.shadow.offsety"];e.lineWidth=r["chart.linewidth"],e.strokeStyle=s,e.beginPath();for(var t=0;t<a.length;++t)0==t?e.moveTo(a[t][0]+i,a[t][1]+h):e.lineTo(a[t][0]+i,a[t][1]+h);e.stroke()},this.DrawBackdrop=function(e,s){this.canvas;var t=this.context,i=this.properties,n=i["chart.backdrop.size"];t.lineWidth=n,t.globalAlpha=i["chart.backdrop.alpha"],t.strokeStyle=s;var o=[];if(t.beginPath(),i["chart.curvy"]&&!ISOLD){for(var h=0;h<e.length;++h)o.push(e[h][1]);this.DrawSpline(t,o,s)}else{t.moveTo(e[0][0],e[0][1]);for(var r=1;r<e.length;++r)t.lineTo(e[r][0],e[r][1])}t.stroke(),t.globalAlpha=1,a.NoShadow(this)},this.GetLineWidth=function(a){var e=t["chart.linewidth"];return"number"==typeof e?e:"object"==typeof e?e[a]?e[a]:e[0]:void 0},this.getShape=this.getPoint=function(l){var a=this,h=RGraph;canvas=l.target,context=this.context;var e=this.properties,g=h.getMouseXY(l),s=g[0],d=g[1];arguments[1]&&(a=arguments[1]);for(var t=0;t<a.coords.length;++t){var r=a.coords[t][0],i=a.coords[t][1];if(s<=r+e["chart.tooltips.hotspot.size"]&&s>=r-e["chart.tooltips.hotspot.size"]&&d<=i+e["chart.tooltips.hotspot.size"]&&d>=i-e["chart.tooltips.hotspot.size"]){if(h.parseTooltipText)var c=h.parseTooltipText(e["chart.tooltips"],t);for(var o=0,n=t;n+1>this.data[o].length;)n-=this.data[o].length,o++;return{0:a,1:r,2:i,3:t,object:a,x:r,y:i,index:t,tooltip:c,dataset:o,index_adjusted:n}}if(1==e["chart.tooltips.hotspot.xonly"]&&s<=r+e["chart.tooltips.hotspot.size"]&&s>=r-e["chart.tooltips.hotspot.size"]){var c=h.parseTooltipText(e["chart.tooltips"],t);return{0:a,1:r,2:i,3:t,object:a,x:r,y:i,index:t,tooltip:c}}}},this.DrawAboveLabels=function(){var a=RGraph;this.canvas;var r=this.context,t=this.properties,i=t["chart.labels.above.size"],s=t["chart.text.font"],o=t["chart.units.pre"],n=t["chart.units.post"];r.beginPath();for(var e=0,l=this.coords.length;l>e;++e){var h=this.coords[e];a.Text2(this,{font:s,size:i,x:h[0],y:h[1]-5-i,text:a.number_format(this,this.data_arr[e],o,n),valign:"center",halign:"center",bounding:!0,boundingFill:"white",tag:"labels.above"})}r.fill()},this.DrawCurvyLine=function(e,i){var h=this.canvas,t=this.context,s=this.properties;if(!ISOLD){for(var a=[],r=0;r<e.length;++r)a.push(e[r][1]);s["chart.filled"]&&(t.beginPath(),t.moveTo(e[0][0],h.height-this.gutterBottom),this.DrawSpline(t,a,i),t.lineTo(e[e.length-1][0],h.height-this.gutterBottom),t.fill()),t.beginPath(),this.DrawSpline(t,a,i),t.stroke()}},this.getValue=function(s){if(2==s.length){s[0];var h=s[1]}else{var n=a.getMouseXY(s);n[0];var h=n[1]}var e=this,o=t["chart.xaxispos"];if(h<t["chart.gutter.top"])return"bottom"==o||"center"==o?this.max:this.min;if(h>i.height-t["chart.gutter.bottom"])return"bottom"==o?this.min:this.max;if("center"==t["chart.xaxispos"]){var r=(e.grapharea/2-(h-t["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return r*=2,r>0?r+=this.min:r-=this.min,r}if("top"==t["chart.xaxispos"]){var r=(e.grapharea-(h-t["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return r=-1*Math.abs(e.max-r)}var r=(e.grapharea-(h-t["chart.gutter.top"]))/e.grapharea*(e.max-e.min);return r+=e.min},this.Highlight=function(e){t["chart.tooltips.highlight"]&&a.Highlight.Point(this,e)},this.getObjectByXY=function(i){var r=this.canvas,t=this.properties,e=a.getMouseXY(i);return e[0]>t["chart.gutter.left"]-5&&e[0]<r.width-t["chart.gutter.right"]+5&&e[1]>t["chart.gutter.top"]-5&&e[1]<r.height-t["chart.gutter.bottom"]+5?this:void 0},this.Adjusting_mousemove=function(r){if(t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid){var i=Number(this.getValue(r)),e=a.Registry.Get("chart.adjusting.shape");e&&(a.Registry.Set("chart.adjusting.shape",e),this.original_data[e.dataset][e.index_adjusted]=Number(i),a.RedrawCanvas(r.target),a.FireCustomEvent(this,"onadjust"))}},this.getYCoord=function(e){var i=this.canvas;this.context;var a=this.properties;if("number"!=typeof e)return null;var t,r=a["chart.xaxispos"];if("top"==r)0>e&&(e=Math.abs(e)),t=(e-this.min)/(this.max-this.min)*this.grapharea,a["chart.scale.invert"]&&(t=this.grapharea-t),t+=this.gutterTop;else if("center"==r)t=(e-this.min)/(this.max-this.min)*(this.grapharea/2),t=this.grapharea/2-t,t+=this.gutterTop;else{if((e<this.min||e>this.max)&&0==a["chart.outofbounds"])return null;t=(e-this.min)/(this.max-this.min)*this.grapharea,a["chart.scale.invert"]&&(t=this.grapharea-t),t=i.height-this.gutterBottom-t}return t},this.positionTooltip=function(i,n,l,t){i.canvas,i.context;var o=i.properties,h=i.coords[t.__index__][0];i.coords[t.__index__][1];var s=a.getCanvasXY(i.canvas);o["chart.gutter.left"],o["chart.gutter.top"];var e=t.offsetWidth;t.style.left=0,t.style.top=parseInt(t.style.top)-9+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),s[0]+h-e/2<10?(t.style.left=s[0]+h-.2*e+"px",r.style.left=.2*e-8.5+"px"):s[0]+h+e/2>document.body.offsetWidth?(t.style.left=s[0]+h-.8*e+"px",r.style.left=.8*e-8.5+"px"):(t.style.left=s[0]+h-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.DrawSpline=function(u,t,g){function d(t,e,a,r,i){return.5*(2*a+(0-e+r)*t+((2*e-5*a+4*r-i)*t*t+(0-e+3*a-3*r+i)*t*t*t))}var i=u,f=i.canvas,h=this.properties,o=[],l=h["chart.gutter.left"],p=h["chart.gutter.right"],c=h["chart.hmargin"],s=(f.width-(l+p)-2*c)/(t.length-1);i.strokeStyle=g,t.forEach(function(t,e,a){"object"==typeof t&&2==t.length&&(a[e]=Number(t[1]))});for(var a=[t[0]],n=0;n<t.length;++n)a.push(t[n]);a.push(t[t.length-1]+(t[t.length-1]-t[t.length-2]));for(var e=1;e<a.length-2;++e)for(var r=0;10>r;++r){var m=d(r/10,a[e-1],a[e],a[e+1],a[e+2]);o.push((e-1)*s+r*(s/10)+l+c),i.lineTo(o[o.length-1],m)}i.lineTo((e-1)*s+l+c,a[e])},this.parseColors=function(){for(var t=this.properties,e=0;e<t["chart.colors"].length;++e)"object"==typeof t["chart.colors"][e]&&t["chart.colors"][e][0]&&t["chart.colors"][e][1]?(t["chart.colors"][e][0]=this.parseSingleColorForGradient(t["chart.colors"][e][0]),t["chart.colors"][e][1]=this.parseSingleColorForGradient(t["chart.colors"][e][1])):t["chart.colors"][e]=this.parseSingleColorForGradient(t["chart.colors"][e]);if(t["chart.fillstyle"])if("string"==typeof t["chart.fillstyle"])t["chart.fillstyle"]=this.parseSingleColorForGradient(t["chart.fillstyle"],"vertical");else for(var e=0;e<t["chart.fillstyle"].length;++e)t["chart.fillstyle"][e]=this.parseSingleColorForGradient(t["chart.fillstyle"][e],"vertical");if(!a.is_null(t["chart.key.colors"]))for(var e=0;e<t["chart.key.colors"].length;++e)t["chart.key.colors"][e]=this.parseSingleColorForGradient(t["chart.key.colors"][e]);for(var r=["chart.background.barcolor1","chart.background.barcolor2","chart.background.grid.color","chart.text.color","chart.crosshairs.color","chart.annotate.color","chart.title.color","chart.title.yaxis.color","chart.key.background","chart.axis.color","chart.highlight.fill"],e=0;e<r.length;++e)t[r[e]]=this.parseSingleColorForGradient(t[r[e]])},this.parseSingleColorForGradient=function(t){var i=RGraph,h=this.canvas,s=this.context;if(!t||"string"!=typeof t)return t;var o="string"==typeof arguments[1]?arguments[1]:"horizontal";if(t.match(/^gradient\((.*)\)$/i)){var e=RegExp.$1.split(":");if("horizontal"==o)var a=s.createLinearGradient(0,0,h.width,0);else var a=s.createLinearGradient(0,0,0,h.height);var n=1/(e.length-1);a.addColorStop(0,i.trim(e[0]));for(var r=1;r<e.length;++r)a.addColorStop(r*n,i.trim(e[r]))}return a?a:t},this.SetShadow=function(r){this.canvas;var e=this.context,a=this.properties;if(a["chart.shadow"]){var t=a["chart.shadow.color"];"object"==typeof t&&t[r-1]?e.shadowColor=t[r]:"object"==typeof t?e.shadowColor=t[0]:"string"==typeof t&&(e.shadowColor=t),e.shadowBlur=a["chart.shadow.blur"],e.shadowOffsetX=a["chart.shadow.offsetx"],e.shadowOffsetY=a["chart.shadow.offsety"]}},this.interactiveKeyHighlight=function(h){var r=this.coords2[h];if(r){var s=e.lineWidth,o=e.lineCap;if(e.lineWidth=t["chart.linewidth"]+10,e.lineCap="round",e.strokeStyle=t["chart.key.interactive.highlight.chart"],e.beginPath(),t["chart.curvy"])this.DrawSpline(e,r,t["chart.key.interactive.highlight.chart"]);else for(var i=0,n=r.length;n>i;i+=1)0==i||a.is_null(r[i][1])||void 0!=typeof r[i-1][1]&&a.is_null(r[i-1][1])?e.moveTo(r[i][0],r[i][1]):e.lineTo(r[i][0],r[i][1]);e.stroke(),e.lineWidth=s,e.lineCap=o}},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Meter=function(i,h,s,o){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="meter",this.min=h,this.max=s,this.value=o,this.centerx=null,this.centery=null,this.radius=null,this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.color":"white","chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.linewidth":1,"chart.linewidth.segments":0,"chart.strokestyle":null,"chart.border":!0,"chart.border.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.text.color":"black","chart.value.text.decimals":0,"chart.value.text.units.pre":"","chart.value.text.units.post":"","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.green.start":.35*(this.max-this.min)+this.min,"chart.green.end":this.max,"chart.green.color":"#207A20","chart.yellow.start":.1*(this.max-this.min)+this.min,"chart.yellow.end":.35*(this.max-this.min)+this.min,"chart.yellow.color":"#D0AC41","chart.red.start":this.min,"chart.red.end":.1*(this.max-this.min)+this.min,"chart.red.color":"#9E1E1E","chart.colors.ranges":null,"chart.units.pre":"","chart.units.post":"","chart.contextmenu":null,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.annotatable":!1,"chart.annotate.color":"black","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.tickmarks.small.num":100,"chart.tickmarks.big.num":10,"chart.tickmarks.small.color":"#bbb","chart.tickmarks.big.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.radius":null,"chart.centerx":null,"chart.centery":null,"chart.labels":!0,"chart.segment.radius.start":0,"chart.needle.radius":null,"chart.needle.tail":!1,"chart.adjustable":!1,"chart.angles.start":PI,"chart.angles.end":TWOPI},!this.canvas)return alert("[METER] No canvas support"),void 0;this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.value"==e?(this.value=a,void 0):(t[e]=a,this)},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.value"==e?this.value:t[e]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.currentValue=this.value,this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.centerx=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=r.height-this.gutterBottom,this.radius=Math.min((r.width-this.gutterLeft-this.gutterRight)/2,r.height-this.gutterTop-this.gutterBottom),"number"==typeof t["chart.centerx"]&&(this.centerx=t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=t["chart.centery"]),"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.DrawBackground(),this.DrawNeedle(),this.DrawLabels(),this.DrawReadout(),a.DrawTitle(this,t["chart.title"],this.gutterTop,null,t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){if(e.beginPath(),e.fillStyle=t["chart.background.color"],t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),e.moveTo(this.centerx,this.centery),e.arc(this.centerx,this.centery,this.radius,t["chart.angles.start"],t["chart.angles.end"],!1),e.fill(),a.NoShadow(this),t["chart.shadow"]){e.beginPath();var o=.06*this.radius>40?40:.06*this.radius;e.arc(this.centerx,this.centery,o,0,TWOPI,0),e.fill(),a.NoShadow(this)}if(t["chart.tickmarks.small.num"]){for(var r=0;r<t["chart.angles.end"]-t["chart.angles.start"];r+=PI/t["chart.tickmarks.small.num"])e.beginPath(),e.strokeStyle=t["chart.tickmarks.small.color"],e.arc(this.centerx,this.centery,this.radius,t["chart.angles.start"]+r,t["chart.angles.start"]+r+1e-5,0),e.arc(this.centerx,this.centery,this.radius-5,t["chart.angles.start"]+r,t["chart.angles.start"]+r+1e-5,0),e.stroke();e.beginPath(),e.fillStyle=t["chart.background.color"],e.arc(this.centerx,this.centery,this.radius-4,t["chart.angles.start"],t["chart.angles.end"],!1),e.closePath(),e.fill()}if(t["chart.tickmarks.big.num"])for(var s=["white","white",t["chart.tickmarks.big.color"]],h=0;h<s.length;++h)for(var r=0;r<t["chart.angles.end"]-t["chart.angles.start"];r+=(t["chart.angles.end"]-t["chart.angles.start"])/t["chart.tickmarks.big.num"])e.beginPath(),e.strokeStyle=s[h],e.arc(this.centerx,this.centery,this.radius,t["chart.angles.start"]+r,t["chart.angles.start"]+r+.001,0),e.arc(this.centerx,this.centery,this.radius-5,t["chart.angles.start"]+r,t["chart.angles.start"]+r+1e-4,0),e.stroke();e.beginPath(),e.fillStyle=t["chart.background.color"],e.moveTo(this.centerx,this.centery),e.arc(this.centerx,this.centery,this.radius-7,t["chart.angles.start"],t["chart.angles.end"],!1),e.closePath(),e.fill();var i=t["chart.colors.ranges"];if(a.is_array(t["chart.colors.ranges"])){for(var i=t["chart.colors.ranges"],r=0;r<i.length;++r)e.strokeStyle=t["chart.strokestyle"]?t["chart.strokestyle"]:i[r][2],e.fillStyle=i[r][2],e.lineWidth=t["chart.linewidth.segments"],e.beginPath(),e.arc(this.centerx,this.centery,.85*this.radius,(i[r][0]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(i[r][1]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!1),t["chart.segment.radius.start"]>0?e.arc(this.centerx,this.centery,t["chart.segment.radius.start"],(i[r][1]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(i[r][0]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!0):e.lineTo(this.centerx,this.centery),e.closePath(),e.stroke(),e.fill();e.beginPath()}else e.lineWidth=t["chart.linewidth"],e.strokeStyle=t["chart.strokestyle"]?t["chart.strokestyle"]:t["chart.green.color"],e.fillStyle=t["chart.green.color"],e.lineWidth=t["chart.linewidth.segments"],e.beginPath(),e.arc(this.centerx,this.centery,.85*this.radius,(t["chart.green.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-this.properties["chart.angles.start"])+t["chart.angles.start"],(t["chart.green.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!1),t["chart.segment.radius.start"]>0?e.arc(this.centerx,this.centery,t["chart.segment.radius.start"],(t["chart.green.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(t["chart.green.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!0):e.lineTo(this.centerx,this.centery),e.closePath(),e.stroke(),e.fill(),e.strokeStyle=t["chart.strokestyle"]?t["chart.strokestyle"]:t["chart.yellow.color"],e.fillStyle=t["chart.yellow.color"],e.lineWidth=t["chart.linewidth.segments"],e.beginPath(),e.arc(this.centerx,this.centery,.85*this.radius,(t["chart.yellow.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(t["chart.yellow.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!1),t["chart.segment.radius.start"]>0?e.arc(this.centerx,this.centery,t["chart.segment.radius.start"],(t["chart.yellow.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(t["chart.yellow.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!0):e.lineTo(this.centerx,this.centery),e.closePath(),e.stroke(),e.fill(),e.strokeStyle=t["chart.strokestyle"]?t["chart.strokestyle"]:t["chart.red.color"],e.fillStyle=t["chart.red.color"],e.lineWidth=t["chart.linewidth.segments"],e.beginPath(),e.arc(this.centerx,this.centery,.85*this.radius,(t["chart.red.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(t["chart.red.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!1),t["chart.segment.radius.start"]>0?e.arc(this.centerx,this.centery,t["chart.segment.radius.start"],(t["chart.red.end"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],(t["chart.red.start"]-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"],!0):e.lineTo(this.centerx,this.centery),e.closePath(),e.stroke(),e.fill(),e.lineWidth=1;t["chart.border"]&&(e.strokeStyle=t["chart.border.color"],e.lineWidth=t["chart.linewidth"],e.beginPath(),e.moveTo(this.centerx,this.centery),e.arc(this.centerx,this.centery,this.radius,t["chart.angles.start"],t["chart.angles.end"],!1),e.closePath()),e.stroke(),e.lineWidth=1},this.DrawNeedle=function(){var r="number"==typeof t["chart.needle.radius"]?t["chart.needle.radius"]:.7*this.radius;e.fillStyle="black",e.lineWidth=this.radius>=200?7:3,e.lineCap="round",e.beginPath(),e.strokeStyle="black","number"==typeof t["chart.needle.linewidth"]&&(e.lineWidth=t["chart.needle.linewidth"]);
var a=(this.value-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"];if(e.arc(this.centerx,this.centery,r,a,a+.001,!1),e.lineTo(this.centerx,this.centery),e.stroke(),e.beginPath(),e.lineWidth=1,e.arc(this.centerx,this.centery,r+15,a,a+.001,0),e.arc(this.centerx,this.centery,r-15,a+.087,a+.087999,0),e.arc(this.centerx,this.centery,r-15,a-.087,a-.087999,1),e.fill(),t["chart.needle.tail"]){e.beginPath(),e.strokeStyle="black","number"==typeof t["chart.needle.linewidth"]&&(e.lineWidth=t["chart.needle.linewidth"]);var a=(this.value-this.min)/(this.max-this.min)*(this.properties["chart.angles.end"]-this.properties["chart.angles.start"])+this.properties["chart.angles.start"]+PI;e.arc(this.centerx,this.centery,25,a,a+.001,!1),e.lineTo(this.centerx,this.centery),e.stroke()}var i=.06*this.radius>40?40:.06*this.radius;e.beginPath(),e.arc(this.centerx,this.centery,i,.001,TWOPI,0),e.fill(),e.fillStyle="white",e.beginPath(),e.arc(this.centerx,this.centery,i-2,.001,TWOPI,0),e.fill()},this.DrawLabels=function(){if(t["chart.labels"]){this.radius;var d=t["chart.text.size"],c=t["chart.text.font"],u=t["chart.units.post"],s=t["chart.units.pre"],o=this.centerx,n=this.centery;this.min,this.max;var l=t["chart.scale.decimals"];e.fillStyle=t["chart.text.color"],e.lineWidth=1,e.beginPath();for(var r=0;10>=r;++r){var g=(t["chart.angles.end"]-t["chart.angles.start"])*(r/10)+t["chart.angles.start"],i=a.getRadiusEndPoint(o,n,g+(0!=r&&10!=r||!t["chart.border"]?0:0==r?.05:-.05),.925*this.radius),h=t["chart.angles.start"],p=t["chart.angles.end"],f=p-h,m=h*(180/PI),y=f*(180/PI);valign="center",halign=t["chart.border"]?0==r?"left":10==r?"right":"center":"center",a.Text2(this,{font:c,size:d,x:i[0],y:i[1],text:a.number_format(this,((this.max-this.min)*(r/10)+this.min).toFixed(l),s,u),halign:halign,valign:valign,angle:.1*y*r+m-270,bounding:!1,boundingFill:0==r||10==r?"white":null,tag:"scale"})}}},this.DrawReadout=function(){t["chart.value.text"]&&(e.beginPath(),a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:this.centerx,y:this.centery-t["chart.text.size"]-15,text:t["chart.value.text.units.pre"]+this.value.toFixed(t["chart.value.text.decimals"])+t["chart.value.text.units.post"],halign:"center",valign:"bottom",bounding:!0,boundingFill:"white",tag:"value.text"}),e.stroke(),e.fill())},this.getShape=function(){},this.getValue=function(h){var e=a.getMouseXY(h),i=a.getAngleByXY(this.centerx,this.centery,e[0],e[1]),s=a.getHypLength(this.centerx,this.centery,e[0],e[1]);if(s>this.radius)return null;HALFPI>i&&(i=TWOPI);var r=(i-t["chart.angles.start"])/(t["chart.angles.end"]-t["chart.angles.start"])*(this.max-this.min)+this.min;return r=Math.max(r,this.min),r=Math.min(r,this.max)},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e),r=a.getHypLength(this.centerx,this.centery,t[0],t[1]);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+25&&r<=this.radius?this:void 0},this.Adjusting_mousemove=function(e){t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(e),a.Clear(this.canvas),a.RedrawCanvas(this.canvas),a.FireCustomEvent(this,"onadjust"))},this.getAngle=function(e){if(e>this.max||e<this.min)return null;var a=(e-this.min)/(this.max-this.min)*(t["chart.angles.end"]-t["chart.angles.start"])+t["chart.angles.start"];return a},this.parseColors=function(){t["chart.green.color"]=this.parseSingleColorForGradient(t["chart.green.color"]),t["chart.yellow.color"]=this.parseSingleColorForGradient(t["chart.yellow.color"]),t["chart.red.color"]=this.parseSingleColorForGradient(t["chart.red.color"]);var e=t["chart.colors.ranges"];if(e&&e.length)for(var a=0;a<e.length;++a)e[a][2]=this.parseSingleColorForGradient(e[a][2])},this.parseSingleColorForGradient=function(r){if(!r||"string"!=typeof r)return r;if(r.match(/^gradient\((.*)\)$/i))for(var h=RegExp.$1.split(":"),s=e.createRadialGradient(this.centerx,this.centery,t["chart.segment.radius.start"],this.centerx,this.centery,.85*this.radius),o=1/(h.length-1),i=0;i<h.length;++i)s.addColorStop(i*o,a.trim(h[i]));return s?s:r},a.Register(this)},ModalDialog={},ModalDialog.dialog=null,ModalDialog.background=null,ModalDialog.offset=50,ModalDialog.events=[],ModalDialog.Show=function(t,e){ModalDialog.id=t,ModalDialog.width=e,ModalDialog.ShowBackground(),ModalDialog.ShowDialog(),window.onresize=ModalDialog.Resize,ModalDialog.Resize(),"function"==typeof ModalDialog.onmodaldialog&&ModalDialog.onmodaldialog(),ModalDialog.FireCustomEvent("onmodaldialog")},ModalDialog.ShowBackground=function(){ModalDialog.background=document.createElement("DIV"),ModalDialog.background.className="ModalDialog_background",ModalDialog.background.style.position="fixed",ModalDialog.background.style.top=0,ModalDialog.background.style.left=0,ModalDialog.background.style.width=screen.width+100+"px",ModalDialog.background.style.height=screen.height+100+"px",ModalDialog.background.style.backgroundColor="rgb(204,204,204)",ModalDialog.background.style.opacity=0,ModalDialog.background.style.zIndex=3276,ModalDialog.background.style.filter="Alpha(opacity=50)",document.body.appendChild(ModalDialog.background),ModalDialog.background.style.visibility="visible"},ModalDialog.ShowDialog=function(){ModalDialog.dialog=document.createElement("DIV"),ModalDialog.dialog.id="ModalDialog_dialog",ModalDialog.dialog.className="ModalDialog_dialog";var e="15px";ModalDialog.dialog.style.borderRadius=e,ModalDialog.dialog.style.MozBorderRadius=e,ModalDialog.dialog.style.WebkitBorderRadius=e,ModalDialog.dialog.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",ModalDialog.dialog.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",ModalDialog.dialog.style.WebkitBoxShadow="rgba(96,96,96,0.5) 3px 3px 3px",ModalDialog.dialog.style.position="fixed",ModalDialog.dialog.style.backgroundColor="white",ModalDialog.dialog.style.width=parseInt(ModalDialog.width)+"px",ModalDialog.dialog.style.border="2px solid #999",ModalDialog.dialog.style.zIndex=32767,ModalDialog.dialog.style.padding="5px",ModalDialog.dialog.style.paddingTop="25px",ModalDialog.dialog.style.opacity=0,document.all&&(ModalDialog.dialog.style.zIndex=32767),-1!=navigator.userAgent.indexOf("Opera")?ModalDialog.dialog.style.paddingTop="25px":-1!=navigator.userAgent.indexOf("MSIE")?ModalDialog.dialog.style.paddingTop="25px":-1!=navigator.userAgent.indexOf("Safari")&&(ModalDialog.dialog.style.paddingTop="25px"),document.body.appendChild(ModalDialog.dialog);var t=document.createElement("DIV");t.className="ModalDialog_topbar",t.style.top=0,t.style.left=0,t.style.width="100%",t.style.height="20px",t.style.backgroundColor="#bbb",t.style.borderBottom="2px solid #999",t.style.position="absolute";var e="11px";t.style.WebkitBorderTopLeftRadius=e,t.style.WebkitBorderTopRightRadius=e,t.style.MozBorderRadiusTopleft=e,t.style.MozBorderRadiusTopright=e,t.style.borderTopRightRadius=e,t.style.borderTopLeftRadius=e,ModalDialog.dialog.appendChild(t);var a=document.createElement("DIV");a.style.width="100%",a.style.height="100%",ModalDialog.dialog.appendChild(a),a.innerHTML="string:"==ModalDialog.id.toLowerCase().substring(0,7)?ModalDialog.id.substring(7):document.getElementById(ModalDialog.id).innerHTML,ModalDialog.dialog.style.left=document.body.offsetWidth/2-ModalDialog.dialog.offsetWidth/2+"px",ModalDialog.dialog.style.top="30%",ModalDialog.dialog.style.visibility="visible",setTimeout("ModalDialog.dialog.style.opacity = 0.2",50),setTimeout("ModalDialog.dialog.style.opacity = 0.4",100),setTimeout("ModalDialog.dialog.style.opacity = 0.6",150),setTimeout("ModalDialog.dialog.style.opacity = 0.8",200),setTimeout("ModalDialog.dialog.style.opacity = 1",250),setTimeout("ModalDialog.background.style.opacity = 0.1",50),setTimeout("ModalDialog.background.style.opacity = 0.2",100),setTimeout("ModalDialog.background.style.opacity = 0.3",150),setTimeout("ModalDialog.background.style.opacity = 0.4",200),setTimeout("ModalDialog.background.style.opacity = 0.5",250)},ModalDialog.Close=function(){ModalDialog.dialog&&(document.getElementById(ModalDialog.dialog.id)&&document.body.removeChild(ModalDialog.dialog),ModalDialog.dialog.style.visibility="hidden",ModalDialog.dialog.style.opacity=0),ModalDialog.background&&(ModalDialog.background.style.visibility="hidden",ModalDialog.background.style.opacity=0,document.getElementById(ModalDialog.background.id)&&document.body.removeChild(ModalDialog.background))},ModalDialog.Hide=ModalDialog.Close,ModalDialog.Resize=function(){ModalDialog.dialog&&(ModalDialog.dialog.style.left=document.body.offsetWidth/2-ModalDialog.dialog.offsetWidth/2+"px"),ModalDialog.background.style.width="2500px",ModalDialog.background.style.height="2500px"},ModalDialog.AddCustomEventListener=function(t,e){"undefined"==typeof ModalDialog.events&&(ModalDialog.events=[]),ModalDialog.events.push([t,e])},ModalDialog.FireCustomEvent=function(e){for(var t=0;t<ModalDialog.events.length;++t)"string"==typeof ModalDialog.events[t][0]&&ModalDialog.events[t][0]==e&&"function"==typeof ModalDialog.events[t][1]&&ModalDialog.events[t][1]()},ModalDialog.isIE8=function(){return document.all&&navigator.userAgent.indexOf("MSIE 8")>0},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Odometer=function(h,s,i,o){this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="odo",this.isRGraph=!0,this.start=s,this.min=s,this.end=i,this.max=i,this.value=o,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.value.text":!1,"chart.value.text.decimals":0,"chart.needle.color":"black","chart.needle.width":2,"chart.needle.head":!0,"chart.needle.tail":!0,"chart.needle.type":"pointer","chart.needle.extra":[],"chart.needle.triangle.border":"#aaa","chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.green.max":.75*i,"chart.red.min":.9*i,"chart.green.color":"Gradient(white:#0c0)","chart.yellow.color":"Gradient(white:#ff0)","chart.red.color":"Gradient(white:#f00)","chart.label.area":35,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.font":null,"chart.title.bold":!0,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.contextmenu":null,"chart.linewidth":1,"chart.shadow.inner":!1,"chart.shadow.inner.color":"black","chart.shadow.inner.offsetx":3,"chart.shadow.inner.offsety":3,"chart.shadow.inner.blur":6,"chart.shadow.outer":!1,"chart.shadow.outer.color":"#666","chart.shadow.outer.offsetx":0,"chart.shadow.outer.offsety":0,"chart.shadow.outer.blur":15,"chart.annotatable":!1,"chart.annotate.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.units.pre":"","chart.units.post":"","chart.border":!1,"chart.border.color1":"#BEBCB0","chart.border.color2":"#F0EFEA","chart.border.color3":"#BEBCB0","chart.tickmarks":!0,"chart.tickmarks.highlighted":!1,"chart.zerostart":!1,"chart.labels":null,"chart.units.pre":"","chart.units.post":"","chart.value.units.pre":"","chart.value.units.post":"","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.halign":"right","chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.text.size":10,"chart.key.colors":null,"chart.adjustable":!1},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,t=r.getContext("2d"),e=this.properties;this.Set=function(t,a){return t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),"chart.needle.style"==t&&alert("[RGRAPH] The RGraph property chart.needle.style has changed to chart.needle.color"),"chart.needle.thickness"==t&&(t="chart.needle.width"),"chart.value"==t?(this.value=a,void 0):(e[t]=a,this)},this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),"chart.value"==t?this.value:e[t.toLowerCase()]},this.Draw=function(){if(a.FireCustomEvent(this,"onbeforedraw"),this.currentValue=this.value,this.value>this.end&&(this.value=this.end),this.value<this.start&&(this.value=this.start),this.gutterLeft=e["chart.gutter.left"],this.gutterRight=e["chart.gutter.right"],this.gutterTop=e["chart.gutter.top"],this.gutterBottom=e["chart.gutter.bottom"],this.radius=Math.min((r.width-this.gutterLeft-this.gutterRight)/2,(r.height-this.gutterTop-this.gutterBottom)/2)-(e["chart.border"]?25:0),this.diameter=2*this.radius,this.centerx=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.range=this.end-this.start,e["chart.key"]&&e["chart.key"].length>0&&r.width>r.height&&(this.centerx=5+this.radius),"number"==typeof e["chart.centerx"]&&(this.centerx=e["chart.centerx"]),"number"==typeof e["chart.centery"]&&(this.centery=e["chart.centery"]),"number"==typeof e["chart.radius"]&&(this.radius=e["chart.radius"],e["chart.border"]&&(this.radius-=25)),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t.lineWidth=e["chart.linewidth"],this.DrawBackground(),this.DrawLabels(),this.DrawNeedle(this.value,e["chart.needle.color"]),e["chart.needle.extra"].length>0)for(var i=0;i<e["chart.needle.extra"].length;++i){var h=e["chart.needle.extra"][i];this.DrawNeedle(h[0],h[1],h[2])}if(e["chart.key"]&&e["chart.key"].length>0){var s=[e["chart.needle.color"]];if(e["chart.needle.extra"].length>0)for(var i=0;i<e["chart.needle.extra"].length;++i){var h=e["chart.needle.extra"][i];s.push(h[1])}a.DrawKey(this,e["chart.key"],s)}return e["chart.contextmenu"]&&a.ShowContext(this),e["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){t.beginPath(),e["chart.shadow.outer"]&&a.SetShadow(this,e["chart.shadow.outer.color"],e["chart.shadow.outer.offsetx"],e["chart.shadow.outer.offsety"],e["chart.shadow.outer.blur"]);var i="#eee";if(t.fillStyle=i,t.arc(this.centerx,this.centery,this.radius,1e-4,TWOPI,!1),t.fill(),a.NoShadow(this),t.strokeStyle="#666",t.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),t.fillStyle=i,t.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),t.fill(),e["chart.tickmarks"]){t.beginPath(),t.strokeStyle="#bbb";for(var r=0;360>=r;r+=3)t.arc(this.centerx,this.centery,this.radius,0,r/57.3,!1),t.lineTo(this.centerx,this.centery);t.stroke()}t.beginPath(),t.lineWidth=1,t.strokeStyle="black",t.fillStyle=i,t.strokeStyle=i,t.arc(this.centerx,this.centery,this.radius-5,0,TWOPI,!1),t.fill(),t.stroke(),t.beginPath(),t.strokeStyle="#ddd";for(var r=0;360>r;r+=18)t.arc(this.centerx,this.centery,this.radius,0,a.degrees2Radians(r),!1),t.lineTo(this.centerx,this.centery);t.stroke(),t.beginPath(),t.strokeStyle="black",t.arc(this.centerx,this.centery,this.radius,0,TWOPI,!1),t.stroke(),e["chart.shadow.inner"]&&(t.beginPath(),a.SetShadow(this,e["chart.shadow.inner.color"],e["chart.shadow.inner.offsetx"],e["chart.shadow.inner.offsety"],e["chart.shadow.inner.blur"]),t.arc(this.centerx,this.centery,this.radius-e["chart.label.area"],0,TWOPI,0),t.fill(),t.stroke(),a.NoShadow(this));var o=e["chart.green.color"];e["chart.tickmarks.highlighted"]&&(t.beginPath(),t.lineWidth=5,t.strokeStyle=o,t.arc(this.centerx,this.centery,this.radius-2.5,-1*HALFPI,(e["chart.green.max"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,0),t.stroke(),t.lineWidth=1),t.beginPath(),t.fillStyle=o,t.arc(this.centerx,this.centery,this.radius-e["chart.label.area"],0-HALFPI,(e["chart.green.max"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,!1),t.lineTo(this.centerx,this.centery),t.closePath(),t.fill();var n=e["chart.yellow.color"];e["chart.tickmarks.highlighted"]&&(t.beginPath(),t.lineWidth=5,t.strokeStyle=n,t.arc(this.centerx,this.centery,this.radius-2.5,(e["chart.green.max"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,(e["chart.red.min"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,0),t.stroke(),t.lineWidth=1),t.beginPath(),t.fillStyle=n,t.arc(this.centerx,this.centery,this.radius-e["chart.label.area"],(e["chart.green.max"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,(e["chart.red.min"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,!1),t.lineTo(this.centerx,this.centery),t.closePath(),t.fill();var s=e["chart.red.color"];if(e["chart.tickmarks.highlighted"]&&(t.beginPath(),t.lineWidth=5,t.strokeStyle=s,t.arc(this.centerx,this.centery,this.radius-2.5,(e["chart.red.min"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,TWOPI-HALFPI,0),t.stroke(),t.lineWidth=1),t.beginPath(),t.fillStyle=s,t.strokeStyle=s,t.arc(this.centerx,this.centery,this.radius-e["chart.label.area"],(e["chart.red.min"]-this.start)/(this.end-this.start)*TWOPI-HALFPI,TWOPI-HALFPI,!1),t.lineTo(this.centerx,this.centery),t.closePath(),t.fill(),e["chart.border"]){var h=t.createRadialGradient(this.centerx,this.centery,this.radius,this.centerx,this.centery,this.radius+20);h.addColorStop(0,e["chart.border.color1"]),h.addColorStop(.5,e["chart.border.color2"]),h.addColorStop(1,e["chart.border.color3"]),t.beginPath(),t.fillStyle=h,t.strokeStyle="rgba(0,0,0,0)",t.lineWidth=.001,t.arc(this.centerx,this.centery,this.radius+20,0,TWOPI,0),t.arc(this.centerx,this.centery,this.radius-2,TWOPI,0,1),t.fill()}if(t.lineWidth=e["chart.linewidth"],e["chart.title"]&&a.DrawTitle(this,e["chart.title"],this.centery-this.radius,null,e["chart.title.size"]?e["chart.title.size"]:e["chart.text.size"]+2),!e["chart.tickmarks.highlighted"])for(var r=18;360>=r;r+=36)t.beginPath(),t.strokeStyle="#999",t.lineWidth=2,t.arc(this.centerx,this.centery,this.radius-1,a.degrees2Radians(r),a.degrees2Radians(r+.01),!1),t.arc(this.centerx,this.centery,this.radius-7,a.degrees2Radians(r),a.degrees2Radians(r+.01),!1),t.stroke()},this.DrawNeedle=function(r,h){var i=arguments[2]?arguments[2]:this.radius-e["chart.label.area"];t.fillStyle="#999",t.beginPath(),t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,10,0,TWOPI,!1),t.fill(),t.closePath(),t.fill(),t.fillStyle=h,t.strokeStyle="#666",t.beginPath(),t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,8,0,TWOPI,!1),t.fill(),t.closePath(),t.stroke(),t.fill(),"pointer"==e["chart.needle.type"]?(t.strokeStyle=h,t.lineWidth=e["chart.needle.width"],t.lineCap="round",t.lineJoin="round",t.beginPath(),t.beginPath(),t.moveTo(this.centerx,this.centery),e["chart.needle.tail"]&&t.arc(this.centerx,this.centery,20,(360*(r/this.range)+90)/(180/PI),(360*(r/this.range)+90+.01)/(180/PI),!1),t.arc(this.centerx,this.centery,i-10,(360*(r/this.range)-90)/(180/PI),(360*(r/this.range)-90+.1)/(180/PI),!1),t.closePath()):"triangle"==e["chart.needle.type"]&&(t.lineWidth=.01,t.lineEnd="square",t.lineJoin="miter",t.beginPath(),t.fillStyle=e["chart.needle.triangle.border"],t.arc(this.centerx,this.centery,11,360*(r/this.range)/57.3,(360*(r/this.range)+.01)/57.3,0),t.arc(this.centerx,this.centery,11,(360*(r/this.range)+180)/57.3,(360*(r/this.range)+180+.01)/57.3,0),t.arc(this.centerx,this.centery,i-5,(360*(r/this.range)-90)/57.3,(360*(r/this.range)-90)/57.3+.01,0),t.closePath(),t.fill(),t.beginPath(),t.arc(this.centerx,this.centery,15,0,TWOPI,0),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="black",t.fillStyle=h,t.arc(this.centerx,this.centery,7,360*(r/this.range)/57.3,(360*(r/this.range)+.01)/57.3,0),t.arc(this.centerx,this.centery,7,(360*(r/this.range)+180)/57.3,(360*(r/this.range)+180+.01)/57.3,0),t.arc(this.centerx,this.centery,i-13,(360*(r/this.range)-90)/57.3,(360*(r/this.range)-90)/57.3+.01,0),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.arc(this.centerx,this.centery,7,0,TWOPI,0),t.closePath(),t.fill()),t.stroke(),t.fill(),t.beginPath(),t.fillStyle=h,t.arc(this.centerx,this.centery,"pointer"==e["chart.needle.type"]?7:12,.01,TWOPI,!1),t.fill(),e["chart.needle.head"]&&"pointer"==e["chart.needle.type"]&&(t.lineWidth=1,t.fillStyle=h,t.lineJoin="miter",t.lineCap="butt",t.beginPath(),t.arc(this.centerx,this.centery,i-5,(360*(r/this.range)-90)/57.3,(360*(r/this.range)-90+.1)/57.3,!1),t.arc(this.centerx,this.centery,i-20,a.degrees2Radians(360*(r/this.range)-(60>i?80:85)),a.degrees2Radians(360*(r/this.range)-(60>i?100:95)),1),t.closePath(),t.fill()),t.beginPath(),t.fillStyle="gray",t.moveTo(this.centerx,this.centery),t.arc(this.centerx,this.centery,2,0,6.2795,!1),t.closePath(),t.fill()},this.DrawLabels=function(){var h=e["chart.text.size"],n=e["chart.text.font"],s=this.centerx,o=this.centery,i=this.radius-e["chart.label.area"]/2,r=this.start,d=this.end,l=e["chart.scale.decimals"],u=e["chart.labels"],g=e["chart.units.pre"],c=e["chart.units.post"];if(t.beginPath(),t.fillStyle=e["chart.text.color"],u)for(var p=0;p<u.length;++p)a.Text2(this,{font:n,size:h,x:s+Math.cos(p/u.length*TWOPI-HALFPI)*(this.radius-e["chart.label.area"]/2),y:o+Math.sin(p/u.length*TWOPI-HALFPI)*(this.radius-e["chart.label.area"]/2),text:String(u[p]),valign:"center",halign:"center",tag:"labels"});else a.Text2(this,{font:n,size:h,x:s+.588*i,y:o-.809*i,text:a.number_format(this,(.1*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:36,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s+.951*i,y:o-.309*i,text:a.number_format(this,(.2*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:72,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s+.949*i,y:o+.31*i,text:a.number_format(this,(.3*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:108,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s+.588*i,y:o+.809*i,text:a.number_format(this,(.4*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:144,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s,y:o+i,text:a.number_format(this,(.5*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:180,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s-.588*i,y:o+.809*i,text:a.number_format(this,(.6*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:216,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s-.949*i,y:o+.3*i,text:a.number_format(this,(.7*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:252,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s-.951*i,y:o-.309*i,text:a.number_format(this,(.8*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:288,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s-.588*i,y:o-.809*i,text:a.number_format(this,(.9*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",angle:324,tag:"scale"}),a.Text2(this,{font:n,size:h,x:s,y:o-i,text:e["chart.zerostart"]?a.number_format(this,this.start.toFixed(l),g,c):a.number_format(this,(1*(d-r)+r).toFixed(l),g,c),halign:"center",valign:"center",tag:"scale"});t.fill(),e["chart.value.text"]&&(t.strokeStyle="black",a.Text2(this,{font:n,size:h+2,x:s,y:o+h+15,text:String(e["chart.value.units.pre"]+this.value.toFixed(e["chart.value.text.decimals"])+e["chart.value.units.post"]),halign:"center",valign:"center",bounding:!0,boundingFill:"white",tag:"value.text"}))},this.getShape=function(){},this.getValue=function(r){var t=a.getMouseXY(r),e=a.getAngleByXY(this.centerx,this.centery,t[0],t[1]);e+=HALFPI,t[0]>=this.centerx&&t[1]<=this.centery&&(e-=TWOPI);var i=e/TWOPI*(this.max-this.min)+this.min;return i},this.getObjectByXY=function(e){var t=a.getMouseXY(e),r=a.getHypLength(this.centerx,this.centery,t[0],t[1]);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&r<=this.radius?this:void 0},this.Adjusting_mousemove=function(t){e["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid&&(this.value=this.getValue(t),a.Clear(r),a.RedrawCanvas(r),a.FireCustomEvent(this,"onadjust"))},this.getAngle=function(t){if(t>this.max||t<this.min)return null;var e=(t-this.min)/(this.max-this.min)*TWOPI;return e-=HALFPI},this.parseColors=function(){e["chart.green.color"]=this.parseSingleColorForGradient(e["chart.green.color"]),e["chart.yellow.color"]=this.parseSingleColorForGradient(e["chart.yellow.color"]),e["chart.red.color"]=this.parseSingleColorForGradient(e["chart.red.color"])},this.parseSingleColorForGradient=function(e){if(!e||"string"!=typeof e)return e;if(e.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=t.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:e},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Pie=function(s,h){this.id=s,this.canvas=document.getElementById(s),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.total=0,this.subTotal=0,this.angles=[],this.data=h,this.properties=[],this.type="pie",this.isRGraph=!0,this.coords=[],this.coords.key=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":["Gradient(red:#fcc)","Gradient(#ddd:#eee)","Gradient(#0f0:#cfc)","Gradient(blue:#ccf)","Gradient(#FB7BA3:#FCC7EE)","Gradient(yellow:#ffc)","Gradient(#000:#ccc)","Gradient(#EE9D80:#FEE5C8)","Gradient(cyan:#ccf)","Gradient(#9E7BF6:#C7B6D2)","Gradient(#78CAEA:#C5FBFD)","Gradient(#E284E9:#FDC4FF)","Gradient(#7F84EF:#FCC4FD)"],"chart.strokestyle":"#999","chart.linewidth":1,"chart.labels":[],"chart.labels.sticks":!1,"chart.labels.sticks.length":7,"chart.labels.sticks.color":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":.5,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.style":"2d","chart.highlight.style.2d.fill":"rgba(255,255,255,0.7)","chart.highlight.style.2d.stroke":"rgba(255,255,255,0.7)","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.border":!1,"chart.border.color":"rgba(255,255,255,0.5)","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.9)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.variant":"pie","chart.variant.donut.width":null,"chart.exploded":[],"chart.effect.roundrobin.multiplier":1,"chart.events.click":null,"chart.events.mousemove":null,"chart.centerpin":null,"chart.centerpin.fill":"white","chart.centerpin.stroke":null,"chart.origin":0-Math.PI/2,"chart.events":!0,"chart.labels.colors":[]};for(var r=0,o=h.length;o>r;r++)this.total+=h[r],this["$"+r]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.highlight.style.2d.color"==e&&(e="chart.highlight.style.2d.fill"),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.highlight.style.2d.color"==e&&(e="chart.highlight.style.2d.fill"),t[e]},this.Draw=function(){if(a.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.radius=this.getRadius(),this.centerx=this.graph.width/2+this.gutterLeft,this.centery=this.graph.height/2+this.gutterTop,this.subTotal=this.properties["chart.origin"],this.angles=[],this.coordsText=[],"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),"number"==typeof t["chart.centerx"]&&(this.centerx=t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=t["chart.centery"]),!(this.radius<=0)){if(this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t["chart.labels.colors"].length<t["chart.labels"].length)for(;t["chart.labels.colors"].length<t["chart.labels"].length;)t["chart.labels.colors"].push(t["chart.labels.colors"][t["chart.labels.colors"].length-1]);else for("undefined"==typeof t["chart.labels.colors"]&&(t["chart.labels.colors"]=[]);t["chart.labels.colors"].length<t["chart.labels"].length;)t["chart.labels.colors"].push(t["chart.text.color"]);a.DrawTitle(this,t["chart.title"],i.height/2-this.radius-5,this.centerx,t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2);this.total=a.array_sum(this.data);for(var c=this.total,g=this.data,r=0,o=this.data.length;o>r;r++){var d=g[r]/c*TWOPI;this.DrawSegment(d,t["chart.colors"][r],r==o-1,r)}a.NoShadow(this),t["chart.linewidth"]>0&&this.DrawBorders();for(var o=this.angles.length,n=this.radius,r=0;o>r;r++){var h=this.angles[r];e.beginPath(),e.strokeStyle="object"==typeof t["chart.strokestyle"]?t["chart.strokestyle"][r]:t["chart.strokestyle"],e.fillStyle=t["chart.colors"][r],e.lineJoin="round",e.arc(h[2],h[3],n,h[0],h[1],!1),"donut"==t["chart.variant"]?e.arc(h[2],h[3],"number"==typeof t["chart.variant.donut.width"]?n-t["chart.variant.donut.width"]:n/2,h[1],h[0],!0):e.lineTo(h[2],h[3]),e.closePath(),e.stroke(),e.fill()}if(t["chart.labels.sticks"]){this.DrawSticks();var s=t["chart.strokestyle"],l="white"==s||"#fff"==s||"#fffffff"==s||"rgb(255,255,255)"==s||"rgba(255,255,255,0)"==s;(!l||l&&this.properties["chart.shadow"])&&this.DrawBorders()}return t["chart.labels"]&&this.DrawLabels(),t["chart.centerpin"]&&this.DrawCenterpin(),t["chart.labels.ingraph"]&&this.DrawInGraphLabels(),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.border"]&&(e.beginPath(),e.lineWidth=5,e.strokeStyle=t["chart.border.color"],e.arc(this.centerx,this.centery,this.radius-2,0,TWOPI,0),e.stroke()),t["chart.key"]&&t["chart.key"].length&&a.DrawKey(this,t["chart.key"],t["chart.colors"]),a.NoShadow(this),t["chart.resizable"]&&a.AllowResizing(this),1==t["chart.events"]&&a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this}},this.DrawSegment=function(r,u,p,n){ISOLD&&r==TWOPI&&(r-=1e-4);var s=this.subTotal;if(r*=t["chart.effect.roundrobin.multiplier"],e.beginPath(),e.fillStyle=u,e.strokeStyle=t["chart.strokestyle"],e.lineWidth=0,t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),"object"==typeof t["chart.exploded"]&&t["chart.exploded"][n]>0||"number"==typeof t["chart.exploded"]){var l="number"==typeof t["chart.exploded"]?t["chart.exploded"]:t["chart.exploded"][n],i=0,h=0,c=s+r/2,i=Math.cos(c)*l,h=Math.sin(c)*l,o=this.radius;
e.moveTo(this.centerx+i,this.centery+h)}else var i=0,h=0,o=this.radius;var g=s,d=s+r;e.arc(this.centerx+i,this.centery+h,o,g,d,0),"donut"==t["chart.variant"]?e.arc(this.centerx+i,this.centery+h,"number"==typeof t["chart.variant.donut.width"]?o-t["chart.variant.donut.width"]:o/2,d,g,!0):e.lineTo(this.centerx+i,this.centery+h),e.closePath(),this.angles.push([s,s+r,this.centerx+i,this.centery+h]),e.fill(),this.subTotal+=r},this.DrawLabels=function(){var l="left",d="center",h=t["chart.labels"],v=t["chart.text.font"],y=t["chart.text.size"],n=this.centerx,c=this.centery,g=this.radius;if(a.NoShadow(this),e.fillStyle="black",e.beginPath(),h&&h.length){for(r=0;r<this.angles.length;++r){var i=this.angles[r];if("string"==typeof h[r]||"number"==typeof h[r]){e.moveTo(n,c);var s=i[0]+(i[1]-i[0])/2,o=(i[1]-i[0])/2+i[0];if("object"==typeof t["chart.exploded"]&&t["chart.exploded"][r]||"number"==typeof t["chart.exploded"]){(i[1]-i[0])/2;var f="number"==typeof t["chart.exploded"]?t["chart.exploded"]:t["chart.exploded"][r],m=Math.cos(o)*f,p=Math.sin(o)*f}else var m=0,p=0;t["chart.labels.sticks"]&&(m+=Math.cos(o)*t["chart.labels.sticks.length"],p+=Math.sin(o)*t["chart.labels.sticks.length"]);var u=n+m+(g+10)*Math.cos(s)+(t["chart.labels.sticks"]?HALFPI>s||s>TWOPI+HALFPI?2:-2:0),x=c+p+(g+10)*Math.sin(s);d="center",l=n>u?"right":"left",e.fillStyle=t["chart.text.color"],"object"==typeof t["chart.labels.colors"]&&t["chart.labels.colors"]&&t["chart.labels.colors"][r]&&(e.fillStyle=t["chart.labels.colors"][r]),a.Text2(this,{font:v,size:y,x:u,y:x,text:h[r],valign:d,halign:l,tag:"labels"})}}e.fill()}},this.DrawSticks=function(){for(var u=t["chart.linewidth"]/2,r=t["chart.exploded"],n=t["chart.labels.sticks"],d=this.angles.length,c=this.centerx,o=this.centery,s=this.radius,a=0;d>a;++a){var h=this.angles[a];if("object"!=typeof n||n[a]){var g=h[1]-h[0];e.beginPath(),e.strokeStyle=t["chart.labels.sticks.color"],e.lineWidth=1;var i=h[0]+g/2;if("object"==typeof r&&r[a])var l=r[a];else if("number"==typeof r)var l=r;else var l=0;e.lineWidth=1,e.arc(c,o,s+t["chart.labels.sticks.length"]+l,i,i+.001,0),e.arc(c,o,s+l+u,i,i+.001,0),e.stroke()}}},this.getShape=this.getSegment=function(s){a.FixEventObject(s),arguments[1]?arguments[1]:0;var o=a.getMouseXY(s),n=o[0],l=o[1];this.radius;for(var h=this.angles,r=[],i=0,c=h.length;c>i;++i)if(e.beginPath(),e.strokeStyle="rgba(0,0,0,0)",e.arc(h[i][2],h[i][3],this.radius,h[i][0],h[i][1],!1),"pie"==this.type&&"donut"==t["chart.variant"]?e.arc(h[i][2],h[i][3],"number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]:this.radius/2,h[i][1],h[i][0],!0):e.lineTo(h[i][2],h[i][3]),e.closePath(),e.isPointInPath(n,l)){r[0]=h[i][2],r[1]=h[i][3],r[2]=this.radius,r[3]=h[i][0]-TWOPI,r[4]=h[i][1],r[5]=i,r[3]<0&&(r[3]+=TWOPI),r[4]>TWOPI&&(r[4]-=TWOPI);var g=a.parseTooltipText?a.parseTooltipText(t["chart.tooltips"],r[5]):null;return r.object=this,r.x=r[0],r.y=r[1],r.radius=r[2],r["angle.start"]=r[3],r["angle.end"]=r[4],r.index=r[5],r.tooltip=g,r}return null},this.DrawBorders=function(){if(t["chart.linewidth"]>0){e.lineWidth=t["chart.linewidth"],e.strokeStyle=t["chart.strokestyle"];for(var r=this.radius,i=0,h=this.angles.length;h>i;++i){var a=this.angles[i];e.beginPath(),e.arc(a[2],a[3],r,a[0],a[0]+.001,0),e.arc(a[2],a[3],"donut"==t["chart.variant"]?"number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]:r/2:r,a[0],a[0]+1e-4,0),e.closePath(),e.stroke()}}},this.getRadius=function(){return this.graph={width:i.width-t["chart.gutter.left"]-t["chart.gutter.right"],height:i.height-t["chart.gutter.top"]-t["chart.gutter.bottom"]},this.radius="number"==typeof t["chart.radius"]?t["chart.radius"]:Math.min(this.graph.width,this.graph.height)/2,this.radius},this.Explode=function(h,o){if(t["chart.exploded"]||(t["chart.exploded"]=[]),"number"==typeof t["chart.exploded"]){var s=t["chart.exploded"],n=t["chart.exploded"];t["chart.exploded"]=[];for(var e=0,l=this.data.length;l>e;++e)t["chart.exploded"][e]=n}t["chart.exploded"][h]="number"==typeof s?s:0;for(var r=0;o>r;++r)setTimeout(function(){t["chart.exploded"][h]+=1,a.Clear(i),a.RedrawCanvas(i)},r*(ISIE&&!ISIE10?25:16.666))},this.highlight_segment=function(a){e.beginPath(),e.strokeStyle=t["chart.highlight.style.2d.stroke"],e.fillStyle=t["chart.highlight.style.2d.fill"],e.moveTo(a[0],a[1]),e.arc(a[0],a[1],a[2],this.angles[a[5]][0],this.angles[a[5]][1],0),e.lineTo(a[0],a[1]),e.closePath(),e.stroke(),e.fill()},this.Highlight=function(r){if(t["chart.tooltips.highlight"])if("3d"==t["chart.highlight.style"]){e.lineWidth=1;var i=2;e.beginPath(),a.NoShadow(this),e.fillStyle="rgba(0,0,0,0)",e.arc(r.x,r.y,r.radius,r["angle.start"],r["angle.end"],!1),"donut"==t["chart.variant"]?e.arc(r.x,r.y,r.radius/5,r["angle.end"],r["angle.start"],!0):e.lineTo(r.x,r.y),e.closePath(),e.fill(),e.beginPath(),e.shadowColor="#666",e.shadowBlur=3,e.shadowOffsetX=3,e.shadowOffsetY=3,e.fillStyle=t["chart.colors"][r.index],e.strokeStyle=t["chart.strokestyle"],e.arc(r.x-i,r.y-i,r.radius,r["angle.start"],r["angle.end"],!1),"donut"==t["chart.variant"]?e.arc(r.x-i,r.y-i,r.radius/2,r["angle.end"],r["angle.start"],!0):e.lineTo(r.x-i,r.y-i),e.closePath(),e.stroke(),e.fill(),a.NoShadow(this),t["chart.border"]&&(e.beginPath(),e.strokeStyle=t["chart.border.color"],e.lineWidth=5,e.arc(r.x-i,r.y-i,r.radius-2,r["angle.start"],r["angle.end"],!1),e.stroke())}else e.beginPath(),e.strokeStyle=t["chart.highlight.style.2d.stroke"],e.fillStyle=t["chart.highlight.style.2d.fill"],"donut"==t["chart.variant"]?(e.arc(r.x,r.y,r.radius,r["angle.start"],r["angle.end"],!1),e.arc(r.x,r.y,"number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]:r.radius/2,r["angle.end"],r["angle.start"],!0)):(e.arc(r.x,r.y,r.radius+1,r["angle.start"],r["angle.end"],!1),e.lineTo(r.x,r.y)),e.closePath(),e.fill()},this.getObjectByXY=function(t){return this.getShape(t)?this:void 0},this.DrawCenterpin=function(){if("number"==typeof t["chart.centerpin"]&&t["chart.centerpin"]>0){var a=this.centerx,r=this.centery;e.beginPath(),e.strokeStyle=t["chart.centerpin.stroke"]?t["chart.centerpin.stroke"]:t["chart.strokestyle"],e.fillStyle=t["chart.centerpin.fill"]?t["chart.centerpin.fill"]:t["chart.strokestyle"],e.moveTo(a,r),e.arc(a,r,t["chart.centerpin"],0,TWOPI,!1),e.stroke(),e.fill()}},this.positionTooltip=function(h,s,o,e,i){h.angles[i][2],h.angles[i][3];var l=h.angles[i][0],d=h.angles[i][1],c=(d-l)/2+l,g=RGraph.getCanvasXY(h.canvas);t["chart.gutter.left"],t["chart.gutter.top"];var r=e.offsetWidth,n=e.offsetHeight,s=g[0]+this.angles[i][2]+Math.cos(c)*("donut"==t["chart.variant"]&&"number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]+t["chart.variant.donut.width"]/2:this.radius*("donut"==t["chart.variant"]?.75:.5)),o=g[1]+this.angles[i][3]+Math.sin(c)*("donut"==t["chart.variant"]&&"number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]+t["chart.variant.donut.width"]/2:this.radius*("donut"==t["chart.variant"]?.75:.5));e.style.overflow="";var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",a.style.position="absolute",a.id="__rgraph_tooltip_pointer__",a.style.top=e.offsetHeight-2+"px",e.appendChild(a),10>s-r/2?(e.style.left=s-.1*r+"px",e.style.top=o-n-4+"px",a.style.left=.1*r-8.5+"px"):s+r/2>document.body.offsetWidth-10?(e.style.left=s-.9*r+"px",e.style.top=o-n-4+"px",a.style.left=.9*r-8.5+"px"):(e.style.left=s-r/2+"px",e.style.top=o-n-4+"px",a.style.left=.5*r-8.5+"px")},this.DrawInGraphLabels=function(){if(this.centerx,this.centery,"donut"==t["chart.variant"]){var l=.75*this.radius;if("number"==typeof t["chart.variant.donut.width"])var l=this.radius-t["chart.variant.donut.width"]+t["chart.variant.donut.width"]/2}else var l=this.radius/2;for(var r=0,c=this.angles.length;c>r;++r){if("object"==typeof t["chart.exploded"]&&"number"==typeof t["chart.exploded"][r])var i=t["chart.exploded"][r];else if("number"==typeof t["chart.exploded"])var i=parseInt(t["chart.exploded"]);else var i=0;var h=this.angles[r][0],u=this.angles[r][1],n=(u-h)/2+h,s=a.getRadiusEndPoint(this.centerx,this.centery,n,l+(i?i:0)),g=s[0],d=s[1],o=t["chart.labels.ingraph.specific"]&&"string"==typeof t["chart.labels.ingraph.specific"][r]?t["chart.labels.ingraph.specific"][r]:a.number_format(this,this.data[r],t["chart.labels.ingraph.units.pre"],t["chart.labels.ingraph.units.post"]);if(o){e.beginPath();var p="string"==typeof t["chart.labels.ingraph.font"]?t["chart.labels.ingraph.font"]:t["chart.text.font"],f="number"==typeof t["chart.labels.ingraph.size"]?t["chart.labels.ingraph.size"]:t["chart.text.size"]+2;a.Text2(this,{font:p,size:f,x:g,y:d,text:o,valign:"center",halign:"center",bounding:!0,boundingFill:"white",tag:"labels.ingraph"}),e.stroke()}}},this.getAngle=function(e){if(e>this.total)return null;var a=e/this.total*TWOPI;return a+=t["chart.origin"]},this.parseColors=function(){for(var e=0;e<t["chart.colors"].length;++e)t["chart.colors"][e]=this.parseSingleColorForGradient(t["chart.colors"][e]);var a=t["chart.key.colors"];if(a)for(var e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e]);t["chart.chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.style.2d.fill"]=this.parseSingleColorForGradient(t["chart.highlight.style.2d.fill"]),t["chart.highlight.style.2d.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.style.2d.stroke"])},this.parseSingleColorForGradient=function(r){if(!r||"string"!=typeof r)return r;if(r.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":");if("donut"==t["chart.variant"])var n="number"==typeof t["chart.variant.donut.width"]?this.radius-t["chart.variant.donut.width"]:this.radius/2;else var n=0;var s=e.createRadialGradient(this.centerx,this.centery,n,this.centerx,this.centery,Math.min(i.width-t["chart.gutter.left"]-t["chart.gutter.right"],i.height-t["chart.gutter.top"]-t["chart.gutter.bottom"])/2),l=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*l,a.trim(h[o]))}return s?s:r},this.interactiveKeyHighlight=function(r){if(this.angles&&this.angles[r]){var a=this.angles[r],i=a[2],h=a[3],s=a[0],o=a[1];e.strokeStyle="black",e.fillStyle=t["chart.key.interactive.highlight.chart"],e.lineWidth=2,e.lineJoin="bevel",e.beginPath(),e.moveTo(i,h),e.arc(i,h,this.radius,s,o,!1),e.closePath(),e.fill(),e.stroke()}},RGraph.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Radar=function(o){if(this.id=o,this.canvas=document.getElementById(o),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="radar",this.coords=[],this.isRGraph=!0,this.data=[],this.max=0,this.original_data=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],"object"==typeof arguments[1]&&"object"==typeof arguments[1][0])for(var r=0,s=arguments[1].length;s>r;++r)this.original_data.push(RGraph.array_clone(arguments[1][r])),this.data.push(RGraph.array_clone(arguments[1][r])),this.max=Math.max(this.max,RGraph.array_max(arguments[1][r]));else for(var r=1,s=arguments.length;s>r;++r)this.original_data.push(RGraph.array_clone(arguments[r])),this.data.push(RGraph.array_clone(arguments[r])),this.max=Math.max(this.max,RGraph.array_max(arguments[r]));RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.linewidth":1,"chart.colors":["rgba(255,255,0,0.25)","rgba(0,255,255,0.25)","rgba(255,0,0,0.5)","red","green","blue","pink","aqua","brown","orange","grey"],"chart.colors.alpha":null,"chart.circle":0,"chart.circle.fill":"red","chart.circle.stroke":"black","chart.labels":[],"chart.labels.offset":10,"chart.background.circles":!0,"chart.background.circles.color":"#ddd","chart.background.circles.poly":!0,"chart.text.size":10,"chart.text.size.scale":null,"chart.text.font":"Arial","chart.text.color":"black","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.color":"black","chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.linewidth":1,"chart.key":null,"chart.key.background":"white","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position":"graph","chart.key.halign":"right","chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.contextmenu":null,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"gray","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.point.radius":2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.labels.axes":"","chart.labels.background.fill":"white","chart.labels.boxed":!1,"chart.labels.axes.bold":[],"chart.labels.axes.boxed":null,"chart.labels.axes.boxed.zero":!0,"chart.labels.specific":[],"chart.labels.count":5,"chart.ymax":null,"chart.accumulative":!1,"chart.radius":null,"chart.events.click":null,"chart.events.mousemove":null,"chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.numxticks":5,"chart.numyticks":5,"chart.axes.color":"rgba(0,0,0,0)","chart.highlights":!1,"chart.highlights.stroke":"#ddd","chart.highlights.fill":null,"chart.highlights.radius":3,"chart.fill.click":null,"chart.fill.mousemove":null,"chart.fill.tooltips":null,"chart.fill.highlight.fill":"rgba(255,255,255,0.7)","chart.fill.highlight.stroke":"rgba(0,0,0,0)","chart.fill.mousemove.redraw":!1,"chart.animation.trace.clip":1};for(var h=0;h<this.data.length;++h)if(this.data[h].length<3)return alert("[RADAR] You must specify at least 3 data points"),void 0;for(var n=0,h=0;h<this.data.length;++h)for(var r=0,s=this.data[h].length;s>r;++r)this["$"+n++]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return e=e.toLowerCase(),"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.text.diameter"==e&&(e="chart.text.size"),"chart.color"==e&&(this.properties["chart.colors"]=[a]),t[e]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.text.diameter"==e&&(e="chart.text.size"),t[e]},this.Draw=function(){if(a.FireCustomEvent(this,"onbeforedraw"),this.coords=[],this.coords2=[],this.data=a.array_clone(this.original_data),t["chart.accumulative"])for(var r=0;r<this.data.length;++r)this.data[r].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has chart.accumulative set to true all the datasets must have the same number of elements");if(a.is_null(t["chart.labels.axes.boxed"])){t["chart.labels.axes.boxed"]=[];for(var r=0;r<(t["chart.labels.specific"].length||t["chart.labels.count"]||5);++r)t["chart.labels.axes.boxed"][r]=!0}if(this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.centerx=(i.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(i.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.radius=Math.min(i.width-this.gutterLeft-this.gutterRight,i.height-this.gutterTop-this.gutterBottom)/2,"number"==typeof t["chart.centerx"]&&(this.centerx=2*t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=2*t["chart.centery"]),"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),t["chart.ymax"]){var s=t["chart.ymax"];this.scale2=a.getScale2(this,{max:s,min:0,strict:!0,"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.labels.count"]}),this.max=this.scale2.max}else{if(t["chart.accumulative"])for(var o=this.original_data[0].length,r=1;r<this.original_data.length;++r){this.original_data[r].length!=o&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var h=0;h<this.original_data[r].length;++h)this.data[r][h]+=this.data[r-1][h],this.max=Math.max(this.max,this.data[r][h])}this.scale2=a.getScale2(this,{max:"number"==typeof t["chart.ymax"]?t["chart.ymax"]:this.max,min:0,"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.labels.count"]}),this.max=this.scale2.max}return this.DrawBackground(),this.DrawAxes(),this.DrawCircle(),this.DrawLabels(),this.DrawAxisLabels(),e.save(),e.beginPath(),e.arc(this.centerx,this.centery,2*this.radius,-HALFPI,TWOPI*t["chart.animation.trace.clip"]-HALFPI,!1),e.lineTo(this.centerx,this.centery),e.closePath(),e.clip(),this.DrawChart(),this.DrawHighlights(),e.restore(),t["chart.title"]&&a.DrawTitle(this,t["chart.title"],this.gutterTop,null,t["chart.title.diameter"]?t["chart.title.diameter"]:null),t["chart.key"]&&a.DrawKey(this,t["chart.key"],t["chart.colors"]),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),!t["chart.fill.click"]&&!t["chart.fill.mousemove"]&&a.is_null(t["chart.fill.tooltips"])||this.__fill_click_listeners_installed__||(this.AddFillListeners(),this.__fill_click_listeners_installed__=!0),RGraph.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){var h=t["chart.background.circles.color"],o=t["chart.background.circles.poly"];if(t["chart.background.circles.spacing"],e.lineWidth=1,t["chart.background.circles"]&&0==o){e.strokeStyle=h,e.beginPath();for(var i=0;i<=this.radius;i+=this.radius/5)e.moveTo(this.centerx,this.centery),e.arc(this.centerx,this.centery,i,0,TWOPI,!1);e.stroke(),e.strokeStyle=h;for(var r=0;360>r;r+=15)e.beginPath(),e.arc(this.centerx,this.centery,this.radius,r/360*TWOPI,(r+.001)/360*TWOPI,!1),e.lineTo(this.centerx,this.centery),e.stroke()}else if(t["chart.background.circles"]&&1==o){e.strokeStyle=h;for(var n=360/this.data[0].length,r=0;360>r;r+=n)e.beginPath(),e.arc(this.centerx,this.centery,this.radius,r/360*TWOPI-HALFPI,(r+.001)/360*TWOPI-HALFPI,!1),e.lineTo(this.centerx,this.centery),e.stroke();e.strokeStyle=h;for(var i=0;i<=this.radius;i+=this.radius/5){e.beginPath();for(var s=0;360>=s;s+=360/this.data[0].length)e.arc(this.centerx,this.centery,i,a.degrees2Radians(s)-HALFPI,a.degrees2Radians(s)+.001-HALFPI,!1);e.closePath(),e.stroke()}}},this.DrawAxes=function(){e.strokeStyle=t["chart.axes.color"],this.radius,e.beginPath(),e.moveTo(Math.round(this.centerx),this.centery+this.radius),e.lineTo(Math.round(this.centerx),this.centery-this.radius),e.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),e.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var a=this.centery-this.radius;a<this.centery+this.radius;a+=this.radius/t["chart.numyticks"])e.moveTo(this.centerx-3,Math.round(a)),e.lineTo(this.centerx+3,Math.round(a));e.moveTo(this.centerx-this.radius,Math.round(this.centery)),e.lineTo(this.centerx+this.radius,Math.round(this.centery)),e.moveTo(Math.round(this.centerx-this.radius),this.centery-5),e.lineTo(Math.round(this.centerx-this.radius),this.centery+5),e.moveTo(Math.round(this.centerx+this.radius),this.centery-5),e.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var r=this.centerx-this.radius;r<this.centerx+this.radius;r+=this.radius/t["chart.numxticks"])e.moveTo(Math.round(r),this.centery-3),e.lineTo(Math.round(r),this.centery+3);e.stroke()},this.DrawChart=function(){var s=t["chart.colors.alpha"];if("number"==typeof s){var n=e.globalAlpha;e.globalAlpha=s}this.data.length;for(var i=0;i<this.data.length;++i){e.beginPath();for(var r=[],a=0;a<this.data[i].length;++a){var o=this.GetCoordinates(i,a);null==r&&(r=[]),r.push(o),this.coords.push(o)}for(this.coords2[i]=r,e.strokeStyle="object"==typeof t["chart.strokestyle"]&&t["chart.strokestyle"][i]?t["chart.strokestyle"][i]:t["chart.strokestyle"],e.fillStyle=t["chart.colors"][i],e.lineWidth=t["chart.linewidth"],a=0;a<r.length;++a)0==a?e.moveTo(r[a][0],r[a][1]):e.lineTo(r[a][0],r[a][1]);if(t["chart.accumulative"]&&i>0){e.lineTo(r[0][0],r[0][1]),e.moveTo(h[0][0],h[0][1]);for(var a=r.length-1;a>=0;--a)e.lineTo(h[a][0],h[a][1])}var h=r;e.closePath(),e.stroke(),e.fill()}"number"==typeof s&&(e.globalAlpha=n)},this.GetCoordinates=function(r,i){var s=this.data[r].length,h=this.data[r][i]/this.max*this.radius,t=TWOPI/s*i;t-=HALFPI;var e=Math.cos(t)*h,a=Math.sin(t)*h;return e=this.centerx+e,a=this.centery+a,[e,a]},this.DrawLabels=function(){var i=t["chart.labels"];if(i&&i.length>0){e.lineWidth=1,e.strokeStyle="gray",e.fillStyle=t["chart.text.color"];for(var c=t["chart.labels.background.fill"],u=t["chart.labels.bold"],d=t["chart.labels.boxed"],o=t["chart.labels.offset"],g=t["chart.text.font"],f=t["chart.text.size"],l=this.radius,r=0;r<i.length;++r){var h=TWOPI/t["chart.labels"].length*r;h-=HALFPI;var n=this.centerx+Math.cos(h)*(l+o),p=this.centery+Math.sin(h)*(l+o),s=n<this.centerx?"right":"left";(0==r||.5==r/i.length)&&(s="center"),i[r]&&i[r].length&&a.Text2(this,{font:g,size:f,x:n,y:p,text:i[r],valign:"center",halign:s,bounding:d,boundingFill:c,bold:u,tag:"labels"})}}},this.DrawCircle=function(){var a={};if(a.limit=t["chart.circle"],a.fill=t["chart.circle.fill"],a.stroke=t["chart.circle.stroke"],a.limit){var r=a.limit/this.max*this.radius;e.fillStyle=a.fill,e.strokeStyle=a.stroke,e.beginPath(),e.arc(this.centerx,this.centery,r,0,TWOPI,0),e.fill(),e.stroke()}},this.DrawAxisLabels=function(){if(a.is_array(t["chart.labels.specific"])&&t["chart.labels.specific"].length)return this.DrawSpecificAxisLabels(),void 0;e.lineWidth=1,e.fillStyle="black",e.strokeStyle="black";var g=this.radius,n=t["chart.text.font"],i="number"==typeof t["chart.text.size.scale"]?t["chart.text.size.scale"]:t["chart.text.size"],c=t["chart.labels.axes"].toLowerCase(),h="white",s=!1,f=t["chart.units.pre"],m=t["chart.units.post"],p=t["chart.scale.decimals"],d=t["chart.labels.axes.bold"],u=t["chart.labels.axes.boxed"],l=this.centerx,o=this.centery;if(this.scale,e.fillStyle=t["chart.text.color"],c.indexOf("n")>-1){for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{bold:d[r],font:n,size:i,x:l,y:o-g*((r+1)/this.scale2.labels.length),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:u[r],boundingFill:h,tag:"scale"});s=!0}if(c.indexOf("s")>-1){for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{bold:d[r],font:n,size:i,x:l,y:o+g*((r+1)/this.scale2.labels.length),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:u[r],boundingFill:h,tag:"scale"});s=!0}if(c.indexOf("e")>-1){for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{bold:d[r],font:n,size:i,x:l+g*((r+1)/this.scale2.labels.length),y:o,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:u[r],boundingFill:h,tag:"scale"});s=!0}if(c.indexOf("w")>-1){for(var r=0;r<this.scale2.labels.length;++r)a.Text2(this,{bold:d[r],font:n,size:i,x:l-g*((r+1)/this.scale2.labels.length),y:o,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:u[r],boundingFill:h,tag:"scale"});s=!0}s&&a.Text2(this,{font:n,size:i,x:l,y:o,text:a.number_format(this,0..toFixed(p),f,m),valign:"center",halign:"center",bounding:t["chart.labels.axes.boxed.zero"],boundingFill:h,bold:t["chart.labels.axes.bold.zero"],tag:"scale"})},this.DrawSpecificAxisLabels=function(){var i=t["chart.labels.specific"],n=a.array_pad(t["chart.labels.axes.bold"],i.length),l=a.array_pad(t["chart.labels.axes.boxed"],i.length),c=a.array_reverse(i),g=a.array_reverse(n),d=a.array_reverse(l),h=t["chart.text.font"],s="number"==typeof t["chart.text.size.scale"]?t["chart.text.size.scale"]:t["chart.text.size"],o=t["chart.labels.axes"].toLowerCase();e.fillStyle=t["chart.text.color"];for(var r=0;r<i.length;++r)o.indexOf("n")>-1&&a.Text2(this,{tag:"labels.specific",bold:g[r],font:h,size:s,x:this.centerx,y:this.centery-this.radius+this.radius/i.length*r,text:c[r],valign:"center",halign:"center",bounding:d[r],boundingFill:"white"}),o.indexOf("s")>-1&&a.Text2(this,{tag:"labels.specific",bold:n[r],font:h,size:s,x:this.centerx,y:this.centery+this.radius/i.length*(r+1),text:i[r],valign:"center",halign:"center",bounding:l[r],boundingFill:"white"}),o.indexOf("w")>-1&&a.Text2(this,{tag:"labels.specific",bold:g[r],font:h,size:s,x:this.centerx-this.radius+this.radius/i.length*r,y:this.centery,text:c[r],valign:"center",halign:"center",bounding:d[r],boundingFill:"white"}),o.indexOf("e")>-1&&a.Text2(this,{tag:"labels.specific",bold:n[r],font:h,size:s,x:this.centerx+this.radius/i.length*(r+1),y:this.centery,text:i[r],valign:"center",halign:"center",bounding:l[r],boundingFill:"white"})},this.getShape=this.getPoint=function(l){for(var e=0;e<this.coords.length;++e){var r=this.coords[e][0],i=this.coords[e][1];t["chart.tooltips"];var h=Number(e),s=a.getMouseXY(l),o=s[0],n=s[1];if(r+5>o&&o>r-5&&n>i-5&&i+5>n){var c=a.parseTooltipText(t["chart.tooltips"],h);return{0:this,object:this,1:r,x:r,2:i,y:i,3:null,dataset:null,4:h,index:e,tooltip:c}}}},this.Highlight=function(t){a.Highlight.Point(this,t)},this.getObjectByXY=function(e){var t=a.getMouseXY(e);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius?this:void 0},this.positionTooltip=function(o,n,l,t){t.__dataset__;var s=t.__index__,i=this.coords[s][0];this.coords[s][1];var h=a.getCanvasXY(o.canvas);this.gutterLeft,this.gutterTop;var e=t.offsetWidth;t.style.left=0,t.style.top=parseInt(t.style.top)-9+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),h[0]+i-e/2<10?(t.style.left=h[0]+i-.1*e+"px",r.style.left=.1*e-8.5+"px"):h[0]+i+e/2>document.body.offsetWidth?(t.style.left=h[0]+i-.9*e+"px",r.style.left=.9*e-8.5+"px"):(t.style.left=h[0]+i-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.DrawHighlights=function(){if(t["chart.highlights"])for(var r=0,a=0,i=0,h=t["chart.highlights.radius"],a=0;a<this.data.length;++a)for(var i=0;i<this.data[a].length;++i)e.beginPath(),e.strokeStyle=t["chart.highlights.stroke"],e.fillStyle=t["chart.highlights.fill"]?t["chart.highlights.fill"]:"object"==typeof t["chart.strokestyle"]&&t["chart.strokestyle"][a]?t["chart.strokestyle"][a]:t["chart.strokestyle"],e.arc(this.coords[r][0],this.coords[r][1],h,0,TWOPI,!1),e.stroke(),e.fill(),++r},this.getRadius=function(t){if(0>t||t>this.max)return null;var e=t/this.max*this.radius;return e},this.getAngle=function(t,e){var a=TWOPI/t*e;return a-=HALFPI},this.parseColors=function(){for(var e=0;e<t["chart.colors"].length;++e)t["chart.colors"][e]=this.parseSingleColorForGradient(t["chart.colors"][e]);var a=t["chart.key.colors"];if("null"!=typeof a&&a&&a.length)for(var e=0;e<t["chart.key.colors"].length;++e)t["chart.key.colors"][e]=this.parseSingleColorForGradient(t["chart.key.colors"][e]);t["chart.title.color"]=this.parseSingleColorForGradient(t["chart.title.color"]),t["chart.text.color"]=this.parseSingleColorForGradient(t["chart.text.color"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.circle.fill"]=this.parseSingleColorForGradient(t["chart.circle.fill"]),t["chart.circle.stroke"]=this.parseSingleColorForGradient(t["chart.circle.stroke"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},this.AddFillListeners=function(){var r=this,h=function(s){this.coords,this.coords2;var n=a.getMouseXY(s),h=0;"mousemove"==s.type&&t["chart.fill.mousemove.redraw"]&&a.RedrawCanvas(i);for(var h=r.coords2.length-1;h>=0;--h){e.beginPath(),e.moveTo(r.coords2[h][0][0],r.coords2[h][0][1]);for(var o=0;o<r.coords2[h].length;++o)e.lineTo(r.coords2[h][o][0],r.coords2[h][o][1]);if(e.lineTo(r.coords2[h][0][0],r.coords2[h][0][1]),t["chart.accumulative"]&&h>0){e.lineTo(r.coords2[h-1][0][0],r.coords2[h-1][0][1]);for(var o=r.coords2[h-1].length-1;o>=0;--o)e.lineTo(r.coords2[h-1][o][0],r.coords2[h-1][o][1])}if(e.closePath(),e.isPointInPath(n[0],n[1])){var l=!0;break}}if(l){var c=t["chart.fill.tooltips"];"click"==s.type&&(t["chart.fill.click"]&&t["chart.fill.click"](s,h),t["chart.fill.tooltips"]&&t["chart.fill.tooltips"][h]&&r.DatasetTooltip(s,h)),"mousemove"==s.type&&(t["chart.fill.mousemove"]&&t["chart.fill.mousemove"](s,h),a.is_null(c)||(s.target.style.cursor="pointer"),t["chart.fill.tooltips"]&&t["chart.fill.tooltips"][h]&&(s.target.style.cursor="pointer")),s.stopPropagation()}else"mousemove"==s.type&&(i.style.cursor="default")};(t["chart.fill.click"]||!a.is_null(t["chart.fill.tooltips"]))&&i.addEventListener("click",h,!1),(t["chart.fill.mousemove"]||!a.is_null(t["chart.fill.tooltips"]))&&i.addEventListener("mousemove",h,!1)},this.HighlightDataset=function(a){e.beginPath();for(var r=0;r<this.coords2[a].length;++r)0==r?e.moveTo(this.coords2[a][0][0],this.coords2[a][0][1]):e.lineTo(this.coords2[a][r][0],this.coords2[a][r][1]);if(e.lineTo(this.coords2[a][0][0],this.coords2[a][0][1]),t["chart.accumulative"]&&a>0){e.lineTo(this.coords2[a-1][0][0],this.coords2[a-1][0][1]);for(var r=this.coords2[a-1].length-1;r>=0;--r)e.lineTo(this.coords2[a-1][r][0],this.coords2[a-1][r][1])}e.strokeStyle=t["chart.fill.highlight.stroke"],e.fillStyle=t["chart.fill.highlight.fill"],e.stroke(),e.fill()},this.DatasetTooltip=function(r,e){this.HighlightDataset(e);var h=t["chart.fill.tooltips"][e],s=0,o=this.coords2[e][0][1]+a.getCanvasXY(i)[1];a.Tooltip(this,h,s,o,0,r)},this.interactiveKeyHighlight=function(i){var r=this.coords2[i];if(r){var h=e.lineWidth,s=e.lineCap;e.lineWidth=t["chart.linewidth"]+10,e.lineCap="round",e.strokeStyle=t["chart.key.interactive.highlight.chart"],e.beginPath();for(var a=0,o=r.length;o>a;a+=1)0==a?e.moveTo(r[a][0],r[a][1]):e.lineTo(r[a][0],r[a][1]);e.closePath(),e.stroke(),e.lineWidth=h,e.lineCap=s}},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Rose=function(h,s){this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.data=s,this.canvas.__object__=this,this.type="rose",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.angles=[],this.angles2=[],this.properties={"chart.background.axes":!0,"chart.background.axes.color":"black","chart.background.grid":!0,"chart.background.grid.color":"#ccc","chart.background.grid.size":null,"chart.background.grid.spokes":null,"chart.background.grid.count":5,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.angles.start":0,"chart.colors":["rgba(255,0,0,0.5)","rgba(255,255,0,0.5)","rgba(0,255,255,0.5)","rgb(0,255,0)","gray","blue","rgb(255,128,255)","green","pink","gray","aqua"],"chart.colors.sequential":!1,"chart.colors.alpha":null,"chart.margin":0,"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.labels.offset":0,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.variant":"stacked","chart.exploded":0,"chart.events.mousemove":null,"chart.events.click":null,"chart.animation.roundrobin.factor":1,"chart.animation.roundrobin.radius":!0,"chart.animation.grow.multiplier":1,"chart.labels.count":5};
for(var o=RGraph.array_linearize(this.data),i=0;i<o.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.radius=Math.min(r.width-this.gutterLeft-this.gutterRight,r.height-this.gutterTop-this.gutterBottom)/2,this.centerx=(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.angles=[],this.angles2=[],this.total=0,this.startRadians=t["chart.angles.start"],t["chart.key"]&&t["chart.key"].length>0&&t["chart.key"].length>=3&&(this.centerx=this.centerx-this.gutterRight+5),"number"==typeof t["chart.centerx"]&&(this.centerx=t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=t["chart.centery"]),"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.DrawBackground(),this.DrawRose(),this.DrawLabels(),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.resizable"]&&a.AllowResizing(this),t["chart.adjustable"]&&a.AllowAdjusting(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){if(e.lineWidth=1,t["chart.background.grid"]){"number"==typeof t["chart.background.grid.count"]&&(t["chart.background.grid.size"]=this.radius/t["chart.background.grid.count"]),e.beginPath(),e.strokeStyle=t["chart.background.grid.color"];for(var a=t["chart.background.grid.size"];a<=this.radius;a+=t["chart.background.grid.size"])e.moveTo(this.centerx+a,this.centery),e.arc(this.centerx,this.centery,a,0,TWOPI,!1);if(e.stroke(),e.beginPath(),"number"==typeof t["chart.background.grid.spokes"])for(var r=360/t["chart.background.grid.spokes"],a=r;360>=a;a+=r)e.arc(this.centerx,this.centery,this.radius,a/(180/PI)-HALFPI+this.startRadians,(a+1e-4)/(180/PI)-HALFPI+this.startRadians,!1),e.lineTo(this.centerx,this.centery);else for(var a=15;360>=a;a+=15)e.arc(this.centerx,this.centery,this.radius,a/(180/PI)-HALFPI,(a+1e-4)/(180/PI)-HALFPI,!1),e.lineTo(this.centerx,this.centery);e.stroke()}if(t["chart.background.axes"]){e.beginPath(),e.strokeStyle=t["chart.background.axes.color"],e.moveTo(this.centerx-this.radius,Math.round(this.centery)),e.lineTo(this.centerx+this.radius,Math.round(this.centery)),e.moveTo(Math.round(this.centerx-this.radius),this.centery-5),e.lineTo(Math.round(this.centerx-this.radius),this.centery+5),e.moveTo(Math.round(this.centerx+this.radius),this.centery-5),e.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var a=this.centerx-this.radius;a<this.centerx+this.radius;a+=this.radius/5)e.moveTo(Math.round(a),this.centery-3),e.lineTo(Math.round(a),this.centery+3.5);for(var a=this.centery-this.radius;a<this.centery+this.radius;a+=this.radius/5)e.moveTo(this.centerx-3,Math.round(a)),e.lineTo(this.centerx+3,Math.round(a));e.moveTo(Math.round(this.centerx),this.centery-this.radius),e.lineTo(Math.round(this.centerx),this.centery+this.radius),e.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),e.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),e.closePath(),e.stroke()}},this.DrawRose=function(){var m=0,c=this.data,p=RGraph.degrees2Radians(t["chart.margin"]);if(a.is_null(t["chart.ymax"])){for(var i=0;i<c.length;++i)m="number"==typeof c[i]?Math.max(m,c[i]):"object"==typeof c[i]&&"non-equi-angular"==t["chart.variant"]?Math.max(m,c[i][0]):Math.max(m,a.array_sum(c[i]));this.scale2=a.getScale2(this,{max:m,min:0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max}else{var b=t["chart.ymax"];this.scale2=a.getScale2(this,{max:b,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max}if(this.sum=a.array_sum(c),e.moveTo(this.centerx,this.centery),e.stroke(),t["chart.colors.alpha"]&&(e.globalAlpha=t["chart.colors.alpha"]),"string"==typeof t["chart.variant"]&&"non-equi-angular"==t["chart.variant"]){for(var v=0,i=0;i<c.length;++i)v+=c[i][1];for(var i=0;i<this.data.length;++i){var f=this.data[i][1]/v*TWOPI,g=(this.data[i][0]-t["chart.ymin"])/(this.max-t["chart.ymin"])*this.radius;g*=t["chart.animation.grow.multiplier"],e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][0],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][i]),e.beginPath();var h=this.startRadians*t["chart.animation.roundrobin.factor"]-HALFPI+p,n=(this.startRadians+f)*t["chart.animation.roundrobin.factor"]-HALFPI-p,u=this.getexploded(i,h,n,t["chart.exploded"]),o=u[0],s=u[1];e.arc(this.centerx+o,this.centery+s,t["chart.animation.roundrobin.radius"]?g*t["chart.animation.roundrobin.factor"]:g,h,n,0),e.lineTo(this.centerx+o,this.centery+s),e.closePath(),e.stroke(),e.fill(),this.angles.push(gg=[h,n,0,g,this.centerx+o,this.centery+s]),this.startRadians+=f}}else for(var x=0,i=0;i<this.data.length;++i){e.strokeStyle=t["chart.strokestyle"],e.fillStyle=t["chart.colors"][0],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][i]);var f=1/this.data.length*TWOPI;if("number"==typeof this.data[i]){e.beginPath();var g=(this.data[i]-t["chart.ymin"])/(this.max-t["chart.ymin"])*this.radius;g*=t["chart.animation.grow.multiplier"];var h=this.startRadians*t["chart.animation.roundrobin.factor"]-HALFPI+p,n=this.startRadians*t["chart.animation.roundrobin.factor"]+f*t["chart.animation.roundrobin.factor"]-HALFPI-p,u=this.getexploded(i,h,n,t["chart.exploded"]),o=u[0],s=u[1];e.arc(this.centerx+o,this.centery+s,t["chart.animation.roundrobin.radius"]?g*t["chart.animation.roundrobin.factor"]:g,h,n,0),e.lineTo(this.centerx+o,this.centery+s),e.closePath(),e.stroke(),e.fill(),this.angles.push([h,n,0,g*t["chart.animation.roundrobin.factor"],this.centerx+o,this.centery+s])}else if("object"==typeof this.data[i]){var p=t["chart.margin"]/(180/PI);this.angles2[i]||(this.angles2[i]=[]);for(var d=0;d<this.data[i].length;++d){var h=this.startRadians*t["chart.animation.roundrobin.factor"]-HALFPI+p,n=this.startRadians*t["chart.animation.roundrobin.factor"]+f*t["chart.animation.roundrobin.factor"]-HALFPI-p,u=this.getexploded(i,h,n,t["chart.exploded"]),o=u[0],s=u[1];if(e.fillStyle=t["chart.colors"][d],t["chart.colors.sequential"]&&(e.fillStyle=t["chart.colors"][x++]),0==d){e.beginPath();var y=0,l=(this.data[i][d]-t["chart.ymin"])/(this.max-t["chart.ymin"])*this.radius;l*=t["chart.animation.grow.multiplier"],e.arc(this.centerx+o,this.centery+s,t["chart.animation.roundrobin.radius"]?l*t["chart.animation.roundrobin.factor"]:l,h,n,0),e.lineTo(this.centerx+o,this.centery+s),e.closePath(),e.stroke(),e.fill(),this.angles.push([h,n,0,l*t["chart.animation.roundrobin.factor"],this.centerx+o,this.centery+s]),this.angles2[i].push([h,n,0,l*t["chart.animation.roundrobin.factor"],this.centerx+o,this.centery+s])}else{e.beginPath();var y=l,l=(this.data[i][d]-t["chart.ymin"])/(this.max-t["chart.ymin"])*this.radius+y;l*=t["chart.animation.grow.multiplier"],e.arc(this.centerx+o,this.centery+s,y*t["chart.animation.roundrobin.factor"],h,n,0),e.arc(this.centerx+o,this.centery+s,l*t["chart.animation.roundrobin.factor"],n,h,!0),e.closePath(),e.stroke(),e.fill(),this.angles.push([h,n,y*t["chart.animation.roundrobin.factor"],l*t["chart.animation.roundrobin.factor"],this.centerx+o,this.centery+s]),this.angles2[i].push([h,n,y*t["chart.animation.roundrobin.factor"],l*t["chart.animation.roundrobin.factor"],this.centerx+o,this.centery+s])}}}this.startRadians+=f}t["chart.colors.alpha"]&&(e.globalAlpha=1),t["chart.title"]&&a.DrawTitle(this,t["chart.title"],r.height/2-this.radius,this.centerx,t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2)},this.DrawLabels=function(){e.lineWidth=1;var g=t["chart.key"];g&&g.length&&a.DrawKey(this,g,t["chart.colors"]),e.fillStyle=t["chart.text.color"],e.strokeStyle="black";var o=this.radius,h=t["chart.text.font"],i=t["chart.text.size"],s=t["chart.labels.axes"].toLowerCase();t["chart.scale.decimals"];var u=t["chart.units.pre"],d=t["chart.units.post"],l=this.centerx,c=this.centery;"object"==typeof t["chart.labels"]&&t["chart.labels"]&&this.DrawCircularLabels(e,t["chart.labels"],h,i,o+10),"number"==typeof t["chart.text.size.scale"]&&(i=t["chart.text.size.scale"]);var n="rgba(255,255,255,0.8)";if(s.indexOf("n")>-1)for(var r=0;r<t["chart.labels.count"];++r)a.Text2(this,{font:h,size:i,x:l,y:c-o*((r+1)/t["chart.labels.count"]),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:n,tag:"scale"});if(s.indexOf("s")>-1)for(var r=0;r<t["chart.labels.count"];++r)a.Text2(this,{font:h,size:i,x:l,y:c+o*((r+1)/t["chart.labels.count"]),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:n,tag:"scale"});if(s.indexOf("e")>-1)for(var r=0;r<t["chart.labels.count"];++r)a.Text2(this,{font:h,size:i,x:l+o*((r+1)/t["chart.labels.count"]),y:c,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:n,tag:"scale"});if(s.indexOf("w")>-1)for(var r=0;r<t["chart.labels.count"];++r)a.Text2(this,{font:h,size:i,x:l-o*((r+1)/t["chart.labels.count"]),y:c,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:n,tag:"scale"});s.length>0&&a.Text2(this,{font:h,size:i,x:l,y:c,text:"number"==typeof t["chart.ymin"]?a.number_format(this,Number(t["chart.ymin"]).toFixed(t["chart.scale.decimals"]),u,d):"0",valign:"center",halign:"center",bounding:!0,boundingFill:n,tag:"scale"})},this.DrawCircularLabels=function(u,r,g,d,h){var n=t["chart.variant"];t["chart.labels.position"];for(var h=h+5+t["chart.labels.offset"],i=this.centerx,l=this.centery,e=0;e<r.length;++e){if("string"==typeof n&&"non-equi-angular"==n)var s=Number(this.angles[e][0])+(this.angles[e][1]-this.angles[e][0])/2;else var s=TWOPI/r.length*(e+1)-TWOPI/(2*r.length),s=s-HALFPI+("edge"==t["chart.labels.position"]?TWOPI/r.length/2:0);var o=i+Math.cos(s)*h,c=l+Math.sin(s)*h;halign=o>i?"left":Math.round(o)==i?"center":"right",a.Text2(this,{font:g,size:d,x:o,y:c,text:String(r[e]),halign:halign,valign:"center",tag:"labels"})}},this.getShape=this.getSegment=function(g){a.FixEventObject(g);for(var i=this.angles,r=0;r<i.length;++r){var l=i[r][0],c=i[r][1],n=i[r][2],u=i[r][3],s=i[r][4],o=i[r][5],h=a.getMouseXY(g);if(h[0]-s,h[1]-o,e.beginPath(),e.arc(s,o,n?n:.01,l,c,!1),e.arc(s,o,u,c,l,!0),e.closePath(),e.isPointInPath(h[0],h[1])){if(i[r][6]=r,a.parseTooltipText)var d=a.parseTooltipText(t["chart.tooltips"],i[r][6]);return i[r].object=this,i[r].x=i[r][4],i[r].y=i[r][5],i[r]["angle.start"]=i[r][0],i[r]["angle.end"]=i[r][1],i[r]["radius.start"]=i[r][2],i[r]["radius.end"]=i[r][3],i[r].index=i[r][6],i[r].tooltip=d?d:null,i[r]}}return null},this.getexploded=function(h,t,a,e){var r,i;return"object"==typeof e&&"number"==typeof e[h]?(r=Math.cos((a-t)/2+t)*e[h],i=Math.sin((a-t)/2+t)*e[h]):"number"==typeof e?(r=Math.cos((a-t)/2+t)*e,i=Math.sin((a-t)/2+t)*e):(r=0,i=0),[r,i]},this.AllowTooltips=function(){a.PreLoadTooltipImages(this),a.InstallWindowMousedownTooltipListener(this),a.InstallCanvasMousemoveTooltipListener(this),a.InstallCanvasMouseupTooltipListener(this)},this.Highlight=function(a){t["chart.tooltips.highlight"]&&(e.beginPath(),e.strokeStyle=t["chart.highlight.stroke"],e.fillStyle=t["chart.highlight.fill"],e.arc(a.x,a.y,a["radius.end"],a["angle.start"],a["angle.end"],!1),a["radius.start"]>0?e.arc(a.x,a.y,a["radius.start"],a["angle.end"],a["angle.start"],!0):e.lineTo(a.x,a.y),e.closePath(),e.stroke(),e.fill())},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e),r=a.getHypLength(this.centerx,this.centery,t[0],t[1]);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius&&r<=this.radius?this:void 0},this.positionTooltip=function(e,p,f,t,n){var l=e.angles[n][4],c=e.angles[n][5],d=e.angles[n][0],u=e.angles[n][1],o=(e.angles[n][3]-e.angles[n][2])/2+e.angles[n][2],s=(u-d)/2+d,h=a.getCanvasXY(e.canvas);this.gutterLeft,this.gutterTop;var r=t.offsetWidth,g=t.offsetHeight;t.style.overflow="";var i=new Image;i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",i.style.position="absolute",i.id="__rgraph_tooltip_pointer__",i.style.top=t.offsetHeight-2+"px",t.appendChild(i),h[0]+l+Math.cos(s)*o-r/2<10?(t.style.left=h[0]+l+Math.cos(s)*o-.1*r+"px",t.style.top=h[1]+c+Math.sin(s)*o-g-5+"px",i.style.left=.1*r-8.5+"px"):h[0]+l+Math.cos(s)*o+r/2>document.body.offsetWidth-10?(t.style.left=h[0]+l+Math.cos(s)*o-.9*r+"px",t.style.top=h[1]+c+Math.sin(s)*o-g-5+"px",i.style.left=.9*r-8.5+"px"):(t.style.left=h[0]+l+Math.cos(s)*o-r/2+"px",t.style.top=h[1]+c+Math.sin(s)*o-g-5+"px",i.style.left=.5*r-8.5+"px")},this.getRadius=function(t){if(0>t||t>this.max)return null;var e=t/this.max*this.radius;return e},this.parseColors=function(){for(var e=0;e<t["chart.colors"].length;++e)t["chart.colors"][e]=this.parseSingleColorForGradient(t["chart.colors"][e]);if(!a.is_null(t["chart.key.colors"]))for(var e=0;e<t["chart.key.colors"].length;++e)t["chart.key.colors"][e]=this.parseSingleColorForGradient(t["chart.key.colors"][e]);t["chart.text.color"]=this.parseSingleColorForGradient(t["chart.text.color"]),t["chart.title.color"]=this.parseSingleColorForGradient(t["chart.title.color"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},this.interactiveKeyHighlight=function(a){this.angles2.forEach(function(i){var r=i[a];r&&(e.beginPath(),e.lineWidth=2,e.fillStyle=t["chart.key.interactive.highlight.chart"],e.strokeStyle="black",e.arc(r[4],r[5],r[2],r[0],r[1],!1),e.arc(r[4],r[5],r[3],r[1],r[0],!0),e.closePath(),e.fill(),e.stroke())})},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.RScatter=RGraph.Rscatter=function(h){if(this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="rscatter",this.hasTooltips=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.properties={"chart.radius":null,"chart.colors":[],"chart.colors.default":"black","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.9)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onmousemove","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.hotspot":3,"chart.tooltips.coords.page":!1,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.background":null,"chart.ymax":null,"chart.ymin":0,"chart.tickmarks":"cross","chart.ticksize":3,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.scale.round":!1,"chart.units.pre":"","chart.units.post":"","chart.events.mousemove":null,"chart.events.click":null,"chart.highlight.stroke":"transparent","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.highlight.point.radius":3,"chart.labels.count":5},this.data=[],arguments[1][0]&&arguments[1][0][0]&&"object"==typeof arguments[1][0][0])for(var r=0;r<arguments[1].length;++r)this.data[r]=arguments[1][r];else for(var r=1;r<arguments.length;++r)this.data[r-1]=RGraph.array_clone(arguments[r]);for(var r=0,s=0;r<this.data.length;++r)for(var o=0,n=this.data[r].length;n>o;o+=1,s+=1)this["$"+s]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,i=this.canvas,e=i.getContext("2d"),t=this.properties;this.Set=function(e,a){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){a.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.radius=Math.min(i.width-this.gutterLeft-this.gutterRight,i.height-this.gutterTop-this.gutterBottom)/2,this.centerx=(i.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(i.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.coords=[],this.coords2=[],"number"==typeof t["chart.centerx"]&&(this.centerx=t["chart.centerx"]),"number"==typeof t["chart.centery"]&&(this.centery=t["chart.centery"]),"number"==typeof t["chart.radius"]&&(this.radius=t["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0);var s=t["chart.ymax"],n=t["chart.ymin"];if("number"==typeof s)this.max=s,this.scale2=a.getScale2(this,{max:s,min:n,strict:!0,"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.labels.count"]});else{for(var r=0;r<this.data.length;r+=1)for(var h=0,o=this.data[r].length;o>h;h+=1)this.max=Math.max(this.max,this.data[r][h][1]);this.min=t["chart.ymin"],this.scale2=a.getScale2(this,{max:this.max,min:n,"scale.decimals":Number(t["chart.scale.decimals"]),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.labels.count"]}),this.max=this.scale2.max}if(t["chart.key"]&&t["chart.key"].length>0&&t["chart.key"].length>=3&&(this.centerx=this.centerx-t["chart.gutter.right"]+5),"object"==typeof t["chart.key"]&&a.is_array(t["chart.key"])&&t["chart.key"][0]){t["chart.colors"]=[];for(var r=0;r<this.data.length;r+=1)for(var h=0,o=this.data[r].length;o>h;h+=1)"string"==typeof this.data[r][h][2]&&t["chart.colors"].push(this.data[r][h][2])}this.Set("chart.tooltips",[]);for(var r=0;r<this.data.length;r+=1)for(var h=0,o=this.data[r].length;o>h;h+=1)"string"==typeof this.data[r][h][3]&&t["chart.tooltips"].push(this.data[r][h][3]);return e.beginPath(),this.DrawBackground(),this.DrawRscatter(),this.DrawLabels(),t["chart.contextmenu"]&&a.ShowContext(this),t["chart.title"]&&a.DrawTitle(this,t["chart.title"],this.centery-this.radius-10,this.centerx,t["chart.title.size"]?t["chart.title.size"]:t["chart.text.size"]+2),t["chart.resizable"]&&a.AllowResizing(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){e.lineWidth=1,e.strokeStyle="#ccc";for(var a=this.radius/10,t=0,r=this.radius;r>=t;t+=a)e.arc(this.centerx,this.centery,t,0,TWOPI,0);e.stroke(),e.beginPath();for(var t=15;360>t;t+=15)e.arc(this.centerx,this.centery,this.radius,t/(180/PI),(t+.01)/(180/PI),0),e.lineTo(this.centerx,this.centery);e.stroke(),e.beginPath(),e.strokeStyle="black",e.moveTo(this.centerx-this.radius,Math.round(this.centery)),e.lineTo(this.centerx+this.radius,Math.round(this.centery)),e.moveTo(Math.round(this.centerx-this.radius),this.centery-5),e.lineTo(Math.round(this.centerx-this.radius),this.centery+5),e.moveTo(Math.round(this.centerx+this.radius),this.centery-5),e.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var t=this.centerx-this.radius;t<this.centerx+this.radius;t+=this.radius/10)e.moveTo(Math.round(t),this.centery-3),e.lineTo(Math.round(t),this.centery+3);for(var t=this.centery-this.radius;t<this.centery+this.radius;t+=this.radius/10)e.moveTo(this.centerx-3,Math.round(t)),e.lineTo(this.centerx+3,Math.round(t));e.moveTo(Math.round(this.centerx),this.centery-this.radius),e.lineTo(Math.round(this.centerx),this.centery+this.radius),e.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),e.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),e.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),e.closePath(),e.stroke()},this.DrawRscatter=function(){for(var r=0;r<this.data.length;r+=1){var a=this.data[r];this.coords2[r]=[];for(var e=0;e<a.length;++e){var g=a[e][0],c=a[e][1],l=g/(180/PI),n=(c-t["chart.ymin"])/(this.scale2.max-this.scale2.min)*this.radius,h=Math.sin(l)*n,i=Math.cos(l)*n,o=a[e][2]?a[e][2]:t["chart.colors.default"],s=a[e][3]?a[e][3]:null;s&&String(s).length&&(this.hasTooltips=!0),h+=this.centerx,i=this.centery-i,this.DrawTick(h,i,o),this.coords.push([h,i,o,s]),this.coords2[r].push([h,i,o,s])}}},this.DrawLabels=function(){e.lineWidth=1,e.fillStyle="black",e.strokeStyle="black";var d=t["chart.key"],s=this.radius,o=t["chart.text.color"],i=t["chart.text.font"],h=t["chart.text.size"],g=t["chart.labels.axes"].toLowerCase();t["chart.units.pre"],t["chart.units.post"],t["chart.scale.decimals"];var n=this.centerx,l=this.centery;e.fillStyle=t["chart.text.color"],"object"==typeof t["chart.labels"]&&t["chart.labels"]&&this.DrawCircularLabels(e,t["chart.labels"],i,h,s);for(var o="rgba(255,255,255,0.8)",r=0,c=this.scale2.labels.length;c>r;++r)g.indexOf("n")>-1&&a.Text2(this,{tag:"scale",font:i,size:h,x:n,y:l-s*((r+1)/c),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:o}),g.indexOf("s")>-1&&a.Text2(this,{tag:"scale",font:i,size:h,x:n,y:l+s*((r+1)/c),text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:o}),g.indexOf("e")>-1&&a.Text2(this,{tag:"scale",font:i,size:h,x:n+s*((r+1)/c),y:l,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:o}),g.indexOf("w")>-1&&a.Text2(this,{tag:"scale",font:i,size:h,x:n-s*((r+1)/c),y:l,text:this.scale2.labels[r],valign:"center",halign:"center",bounding:!0,boundingFill:o});t["chart.labels.axes"].length>0&&a.Text2(this,{font:i,size:h,x:n,y:l,text:a.number_format(this,Number(this.scale2.min).toFixed(this.scale2.decimals),this.scale2.units_pre,this.scale2.units_post),valign:"center",halign:"center",bounding:!0,boundingFill:o,tag:"scale"}),d&&d.length&&a.DrawKey(this,d,t["chart.colors"])},this.DrawCircularLabels=function(c,e,s,o,i){t["chart.labels.position"];for(var i=i+10,r=0;r<e.length;++r){var h=360/e.length*(r+1)-360/(2*e.length),h=h-90+("edge"==t["chart.labels.position"]?360/e.length/2:0),n=Math.cos(h/(180/PI))*(i+10),l=Math.sin(h/(180/PI))*(i+10);a.Text2(this,{font:s,size:o,x:this.centerx+n,y:this.centery+l,text:String(e[r]),valign:"center",halign:"center",tag:"labels"})}},this.DrawTick=function(r,i,s){var h=t["chart.tickmarks"],a=t["chart.ticksize"];e.strokeStyle=s,e.fillStyle=s,"cross"==h?(e.beginPath(),e.moveTo(r+a,i+a),e.lineTo(r-a,i-a),e.stroke(),e.beginPath(),e.moveTo(r-a,i+a),e.lineTo(r+a,i-a),e.stroke()):"circle"==h?(e.beginPath(),e.arc(r,i,a,0,6.283,!1),e.fill()):"square"==h?(e.beginPath(),e.fillRect(r-a,i-a,2*a,2*a),e.fill()):"diamond"==h?(e.beginPath(),e.moveTo(r,i-a),e.lineTo(r+a,i),e.lineTo(r,i+a),e.lineTo(r-a,i),e.closePath(),e.fill()):"plus"==h&&(e.lineWidth=1,e.beginPath(),e.moveTo(r,i-a),e.lineTo(r,i+a),e.moveTo(r-a,i),e.lineTo(r+a,i),e.stroke())},this.getShape=this.getPoint=function(l){for(var s=a.getMouseXY(l),o=s[0],n=s[1],r=t["chart.tooltips.hotspot"],e=0,c=this.coords.length;c>e;++e){var i=this.coords[e][0],h=this.coords[e][1],g=this.coords[e][3];if(i+r>o&&o>i-r&&h+r>n&&n>h-r){var g=a.parseTooltipText(t["chart.tooltips"],e);return{0:this,1:i,2:h,3:e,object:this,x:i,y:h,index:e,tooltip:g}}}},this.AllowTooltips=function(){a.PreLoadTooltipImages(this),a.InstallWindowMousedownTooltipListener(this),a.InstallCanvasMousemoveTooltipListener(this),a.InstallCanvasMouseupTooltipListener(this)},this.Highlight=function(t){a.Highlight.Point(this,t)},this.getObjectByXY=function(e){var t=a.getMouseXY(e);return t[0]>this.centerx-this.radius&&t[0]<this.centerx+this.radius&&t[1]>this.centery-this.radius&&t[1]<this.centery+this.radius?this:void 0},this.positionTooltip=function(i,o,n,t){var h=i.coords[t.__index__][0];i.coords[t.__index__][1];var s=a.getCanvasXY(i.canvas);i.gutterLeft,i.gutterTop;var e=t.offsetWidth;t.style.left=0,t.style.top=parseInt(t.style.top)-7+"px",t.style.overflow="";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",r.style.position="absolute",r.id="__rgraph_tooltip_pointer__",r.style.top=t.offsetHeight-2+"px",t.appendChild(r),s[0]+h-e/2<10?(t.style.left=s[0]+h-.1*e+"px",r.style.left=.1*e-8.5+"px"):s[0]+h+e/2>document.body.offsetWidth?(t.style.left=s[0]+h-.9*e+"px",r.style.left=.9*e-8.5+"px"):(t.style.left=s[0]+h-.5*e+"px",r.style.left=.5*e-8.5+"px")},this.getRadius=function(t){if(0>t||t>this.max)return null;var e=t/this.max*this.radius;return e},this.parseColors=function(){for(var e=0;e<this.data.length;e+=1)for(var a=0,r=this.data[e].length;r>a;a+=1)this.data[e][a][2]=this.parseSingleColorForGradient(this.data[e][a][2]);t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.colors.default"]=this.parseSingleColorForGradient(t["chart.colors.default"])},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var r=RegExp.$1.split(":"),i=e.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(r.length-1);i.addColorStop(0,a.trim(r[0]));for(var h=1;h<r.length;++h)i.addColorStop(h*s,a.trim(r[h]))}return i?i:t},this.interactiveKeyHighlight=function(a){this.coords2&&this.coords2[a]&&this.coords2[a].length&&this.coords2[a].forEach(function(a){e.beginPath(),e.fillStyle=t["chart.key.interactive.highlight.chart"],e.arc(a[0],a[1],t["chart.ticksize"]+2,0,TWOPI,!1),e.fill()})},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Scatter=function(s){if(this.id=s,this.canvas=document.getElementById(s),this.canvas.__object__=this,this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.max=0,this.coords=[],this.data=[],this.type="scatter",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.width":1,"chart.background.grid.color":"#ddd","chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.hbars":null,"chart.background.vbars":null,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.tooltips":[],"chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.hotspot":3,"chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.units.pre":"","chart.units.post":"","chart.numyticks":10,"chart.tickmarks":"cross","chart.ticksize":5,"chart.numxticks":!0,"chart.xaxis":!0,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.xmin":0,"chart.xmax":0,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":[],"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.labels.above.decimals":0,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.invert":!1,"chart.ylabels.specific":null,"chart.ylabels.inside":!1,"chart.contextmenu":null,"chart.defaultcolor":"black","chart.xaxispos":"bottom","chart.yaxispos":"left","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.linewidth":1,"chart.crosshairs.coords":!1,"chart.crosshairs.coords.fixed":!0,"chart.crosshairs.coords.fadeout":!1,"chart.crosshairs.coords.labels.x":"X","chart.crosshairs.coords.labels.y":"Y","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.line":!1,"chart.line.linewidth":1,"chart.line.colors":["green","red"],"chart.line.shadow.color":"rgba(0,0,0,0)","chart.line.shadow.blur":2,"chart.line.shadow.offsetx":3,"chart.line.shadow.offsety":3,"chart.line.stepped":!1,"chart.line.visible":!0,"chart.noaxes":!1,"chart.noyaxis":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,0,0,0.9)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.boxplot.width":1,"chart.boxplot.capped":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.xmin":0,"chart.labels.specific.align":"left","chart.xscale":!1,"chart.xscale.units.pre":"","chart.xscale.units.post":"","chart.xscale.numlabels":10,"chart.xscale.formatter":null,"chart.xscale.decimals":0,"chart.xscale.thousand":",","chart.xscale.point":".","chart.noendxtick":!1,"chart.noendytick":!0,"chart.events.mousemove":null,"chart.events.click":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)"},arguments[1][0]&&arguments[1][0][0]&&"object"==typeof arguments[1][0][0])for(var i=0;i<arguments[1].length;++i)this.data[i]=arguments[1][i];
else for(var i=1;i<arguments.length;++i)this.data[i-1]=arguments[i];for(var i=0;i<this.data.length;++i)for(var h=0;h<this.data[i].length;++h)"string"==typeof this.data[i][h][0]&&(this.data[i][h][0]=Date.parse(this.data[i][h][0]));this.data_arr=[];for(var i=0;i<this.data.length;++i)for(var h=0;h<this.data[i].length;++h)this.data_arr.push(this.data[i][h]);for(var i=0;i<this.data_arr.length;++i)this["$"+i]={};if(!this.canvas)return alert("[SCATTER] No canvas support"),void 0;this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var r=RGraph,a=this.canvas,e=a.getContext("2d"),t=this.properties;this.Set=function(a,e){return"chart."!=a.substr(0,6)&&(a="chart."+a),"chart.line.colors"==a&&(t["chart.colors"]=e),"chart.tooltip.hotspot"==a&&(a="chart.tooltips.hotspot"),"chart.yaxispos"==a&&"left"!=e&&"right"!=e&&(alert("[SCATTER] chart.yaxispos should be left or right. You've set it to: '"+e+"' Changing it to left"),e="left"),"chart.xaxispos"==a&&"bottom"!=e&&"center"!=e&&(alert("[SCATTER] ("+this.id+") chart.xaxispos should be center or bottom. Tried to set it to: "+e+" Changing it to center"),e="center"),t[a.toLowerCase()]=e,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]},this.Draw=function(){if("string"==typeof t["chart.background.image"]&&r.DrawBackgroundImage(this),r.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.hasTooltips=!1,this.coords=[],"string"==typeof t["chart.xmin"]&&(t["chart.xmin"]=Date.parse(t["chart.xmin"])),"string"==typeof t["chart.xmax"]&&(t["chart.xmax"]=Date.parse(t["chart.xmax"])),!ISOLD){this.Set("chart.tooltips",[]);for(var i=0;i<this.data.length;++i)for(var h=0;h<this.data[i].length;++h)this.data[i][h]&&this.data[i][h][3]?(t["chart.tooltips"].push(this.data[i][h][3]),this.hasTooltips=!0):t["chart.tooltips"].push(null)}if(this.max=0,"number"==typeof t["chart.ymax"])this.max=t["chart.ymax"],this.min=t["chart.ymin"]?t["chart.ymin"]:0,this.scale2=r.getScale2(this,{max:this.max,min:this.min,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min,t["chart.scale.decimals"];else{var i=0,h=0;for(i=0;i<this.data.length;++i)for(h=0;h<this.data[i].length;++h)null!=this.data[i][h][1]&&(this.max=Math.max(this.max,"object"==typeof this.data[i][h][1]?r.array_max(this.data[i][h][1]):Math.abs(this.data[i][h][1])));this.min=t["chart.ymin"]?t["chart.ymin"]:0,this.scale2=r.getScale2(this,{max:this.max,min:this.min,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min}for(this.grapharea=a.height-this.gutterTop-this.gutterBottom,r.background.Draw(this),t["chart.background.hbars"]&&t["chart.background.hbars"].length&&r.DrawBars(this),t["chart.background.vbars"]&&t["chart.background.vbars"].length&&this.DrawVBars(),t["chart.noaxes"]||this.DrawAxes(),this.DrawLabels(),i=0,i=0;i<this.data.length;++i)this.DrawMarks(i),e.shadowColor=t["chart.line.shadow.color"],e.shadowOffsetX=t["chart.line.shadow.offsetx"],e.shadowOffsetY=t["chart.line.shadow.offsety"],e.shadowBlur=t["chart.line.shadow.blur"],this.DrawLine(i),r.NoShadow(this);if(t["chart.line"])for(var i=0;i<this.data.length;++i)this.DrawMarks(i);return t["chart.contextmenu"]&&r.ShowContext(this),t["chart.key"]&&t["chart.key"].length&&r.DrawKey(this,t["chart.key"],t["chart.line.colors"]),t["chart.labels.above"]&&this.DrawAboveLabels(),this.DrawInGraphLabels(this),t["chart.resizable"]&&r.AllowResizing(this),r.InstallEventListeners(this),r.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){if(a.height-this.gutterTop-this.gutterBottom,e.beginPath(),e.strokeStyle=t["chart.axis.color"],e.lineWidth=(t["chart.axis.linewidth"]||1)+.001,0==t["chart.noyaxis"]&&("left"==t["chart.yaxispos"]?(e.moveTo(this.gutterLeft,this.gutterTop),e.lineTo(this.gutterLeft,a.height-this.gutterBottom)):(e.moveTo(a.width-this.gutterRight,this.gutterTop),e.lineTo(a.width-this.gutterRight,a.height-this.gutterBottom))),t["chart.xaxis"]&&("center"==t["chart.xaxispos"]?(e.moveTo(this.gutterLeft,Math.round(this.gutterTop+(a.height-this.gutterTop-this.gutterBottom)/2)),e.lineTo(a.width-this.gutterRight,Math.round(this.gutterTop+(a.height-this.gutterTop-this.gutterBottom)/2))):(e.moveTo(this.gutterLeft,a.height-this.gutterBottom),e.lineTo(a.width-this.gutterRight,a.height-this.gutterBottom))),0==t["chart.noyaxis"]){var s=t["chart.numyticks"];for(i=0;s>i;++i){var r=(a.height-this.gutterTop-this.gutterBottom)/s*i;r+=this.gutterTop,("center"!=t["chart.xaxispos"]||i!=s/2)&&("left"==t["chart.yaxispos"]?(e.moveTo(this.gutterLeft,Math.round(r)),e.lineTo(this.gutterLeft-3,Math.round(r))):(e.moveTo(a.width-this.gutterRight+3,Math.round(r)),e.lineTo(a.width-this.gutterRight,Math.round(r))))}t["chart.numyticks"]>0&&("center"==t["chart.xaxispos"]&&"left"==t["chart.yaxispos"]?(e.moveTo(this.gutterLeft,Math.round(a.height-this.gutterBottom)),e.lineTo(this.gutterLeft-3,Math.round(a.height-this.gutterBottom))):"center"==t["chart.xaxispos"]&&(e.moveTo(a.width-this.gutterRight+3,Math.round(a.height-this.gutterBottom)),e.lineTo(a.width-this.gutterRight,Math.round(a.height-this.gutterBottom)))),0==t["chart.xaxis"]&&"left"==t["chart.yaxispos"]?(e.moveTo(this.gutterLeft,Math.round(a.height-this.gutterBottom)),e.lineTo(this.gutterLeft-3,Math.round(a.height-this.gutterBottom))):0==t["chart.xaxis"]&&"right"==t["chart.yaxispos"]&&(e.moveTo(a.width-this.gutterRight,Math.round(a.height-this.gutterBottom)),e.lineTo(a.width-this.gutterRight+3,Math.round(a.height-this.gutterBottom)))}if(t["chart.numxticks"]>0&&t["chart.xaxis"]){var h=0,r="center"==t["chart.xaxispos"]?this.gutterTop+this.grapharea/2:a.height-this.gutterBottom;for(this.xTickGap=t["chart.labels"]&&t["chart.labels"].length?(a.width-this.gutterLeft-this.gutterRight)/t["chart.labels"].length:(a.width-this.gutterLeft-this.gutterRight)/10,"number"==typeof t["chart.numxticks"]&&(this.xTickGap=(a.width-this.gutterLeft-this.gutterRight)/t["chart.numxticks"]),h=this.gutterLeft+("left"==t["chart.yaxispos"]&&0==t["chart.noyaxis"]?this.xTickGap:0);h<=a.width-this.gutterRight-("left"==t["chart.yaxispos"]||1==t["chart.noyaxis"]?-1:1);h+=this.xTickGap)("left"!=t["chart.yaxispos"]||1!=t["chart.noendxtick"]||h!=a.width-this.gutterRight)&&("right"!=t["chart.yaxispos"]||1!=t["chart.noendxtick"]||h!=this.gutterLeft)&&(e.moveTo(Math.round(h),r-("center"==t["chart.xaxispos"]?3:0)),e.lineTo(Math.round(h),r+3))}e.stroke(),e.lineWidth=1},this.DrawLabels=function(){e.fillStyle=t["chart.text.color"];var o=t["chart.text.font"],y=t["chart.xmin"];t["chart.xmax"],this.scale2.max;var _=t["chart.ymin"]?t["chart.ymin"]:0,l=t["chart.text.size"],p=t["chart.units.pre"],u=t["chart.units.post"],d=t["chart.ylabels.count"],g=t["chart.ylabels.invert"],G=t["chart.ylabels.inside"],c=!1;if(this.halfTextHeight=l/2,this.halfGraphHeight=(a.height-this.gutterTop-this.gutterBottom)/2,t["chart.ylabels"]){var s="left"==t["chart.yaxispos"]?this.gutterLeft-5:a.width-this.gutterRight+5,n="right"==t["chart.yaxispos"]?"left":"right";if(G&&("left"==t["chart.yaxispos"]?(s=t["chart.gutter.left"]+5,n="left",c=!0):(s=a.width-t["chart.gutter.right"]-5,n="right",c=!0)),"center"==t["chart.xaxispos"]){if("object"==typeof t["chart.ylabels.specific"]&&null!=t["chart.ylabels.specific"]&&t["chart.ylabels.specific"].length){var h=t["chart.ylabels.specific"];if(t["chart.ymin"]>0){h=[];for(var i=0;i<t["chart.ylabels.specific"].length-1;++i)h.push(t["chart.ylabels.specific"][i])}for(var i=0;i<h.length;++i){var f=this.gutterTop+i*(this.grapharea/(2*h.length));r.Text2(this,{font:o,size:l,x:s,y:f,text:h[i],valign:"center",halign:n,bounding:c,tag:"labels.specific"})}for(var I=r.array_reverse(h),i=0;i<I.length;++i){var f=this.gutterTop+this.grapharea/2+(i+1)*(this.grapharea/(2*h.length));r.Text2(this,{font:o,size:l,x:s,y:f,text:I[i],valign:"center",halign:n,bounding:c,tag:"labels.specific"})}0!=t["chart.ymin"]&&r.Text2(this,{font:o,size:l,x:s,y:this.grapharea/2+this.gutterTop,text:t["chart.ylabels.specific"][t["chart.ylabels.specific"].length-1],valign:"center",halign:n,bounding:c,tag:"labels.specific"})}if(!t["chart.ylabels.specific"]&&"number"==typeof d){for(var i=0;i<this.scale2.labels.length;++i)g?r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.halfGraphHeight-i/d*this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:this.scale2.labels[this.scale2.labels.length-(i+1)],tag:"scale"}):r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.halfGraphHeight-(i+1)/d*this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:this.scale2.labels[i],tag:"scale"});for(var i=0;i<this.scale2.labels.length;++i)if(g){if(i==this.scale2.labels.length-1&&g)continue;r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.halfGraphHeight+this.halfGraphHeight-(i+1)/d*this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:"-"+this.scale2.labels[i],tag:"scale"})}else r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.halfGraphHeight+this.halfGraphHeight-i/d*this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:"-"+this.scale2.labels[this.scale2.labels.length-(i+1)],tag:"scale"});!g&&_>0&&r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,_.toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"}),g&&(r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,_.toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"}),r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+2*this.halfGraphHeight,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,_.toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"}))}}else{var s="left"==t["chart.yaxispos"]?this.gutterLeft-5:a.width-this.gutterRight+5,n="right"==t["chart.yaxispos"]?"left":"right";if(G&&("left"==t["chart.yaxispos"]?(s=t["chart.gutter.left"]+5,n="left",c=!0):(s=a.width-obj.gutterRight-5,n="right",c=!0)),"object"==typeof t["chart.ylabels.specific"]&&t["chart.ylabels.specific"]){var h=t["chart.ylabels.specific"];if(t["chart.ymin"]>9999){h=[];for(var i=0;i<t["chart.ylabels.specific"].length-1;++i)h.push(t["chart.ylabels.specific"][i])}for(var i=0;i<h.length;++i){var f=this.gutterTop+i*(this.grapharea/(h.length-1));r.Text2(this,{font:o,size:l,x:s,y:f,text:h[i],halign:n,valign:"center",bounding:c,tag:"scale"})}}else{if("number"==typeof d)if(g){for(var i=0;d>i;++i){var A=(a.height-this.gutterTop-this.gutterBottom)/d;r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+(i+1)*A,valign:"center",halign:n,bounding:c,boundingFill:"white",text:this.scale2.labels[i],tag:"scale"})}t["chart.xaxis"]||t["chart.ymin"]||r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,this.min.toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"})}else{for(var i=0;i<this.scale2.labels.length;++i)r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop+this.grapharea-(i+1)/this.scale2.labels.length*this.grapharea,valign:"center",halign:n,bounding:c,boundingFill:"white",text:this.scale2.labels[i],tag:"scale"});t["chart.xaxis"]||0!=t["chart.ymin"]||r.Text2(this,{font:o,size:l,x:s,y:a.height-this.gutterBottom,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,0..toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"})}t["chart.ymin"]&&!g?r.Text2(this,{font:o,size:l,x:s,y:a.height-this.gutterBottom,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,t["chart.ymin"].toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"}):g&&r.Text2(this,{font:o,size:l,x:s,y:this.gutterTop,valign:"center",halign:n,bounding:c,boundingFill:"white",text:r.number_format(this,t["chart.ymin"].toFixed(t["chart.scale.decimals"]),p,u),tag:"scale"})}}}if(t["chart.xscale"]){var S=t["chart.xscale.numlabels"],f=a.height-this.gutterBottom+5+l/2,O=t["chart.xscale.units.pre"],L=t["chart.xscale.units.post"],D=t["chart.xscale.decimals"],v=t["chart.xscale.point"],M=t["chart.xscale.thousand"];if(t["chart.xmax"])x=t["chart.xmax"];else for(var x=0,B=t["chart.xmin"],b=0;b<this.data.length;++b)for(var v=0;v<this.data[b].length;++v)x=Math.max(x,this.data[b][v][0]);this.xscale2=r.getScale2(this,{max:x,"scale.decimals":D,"scale.point":v,"scale.thousand":M,"units.pre":O,"units.post":L,"ylabels.count":S,strict:!0}),this.Set("chart.xmax",this.xscale2.max);for(var A=(a.width-this.gutterLeft-this.gutterRight)/this.xscale2.labels.length,i=0;i<this.xscale2.labels.length;++i){var F=(t["chart.xmax"]-t["chart.xmin"])*((i+1)/S)+(B||0),j=this.gutterLeft+(i+1)*A;if("function"==typeof t["chart.xscale.formatter"])var P=String(t["chart.xscale.formatter"](this,F));else var P=this.xscale2.labels[i];r.Text2(this,{font:o,size:l,x:j,y:f,valign:"center",halign:"center",text:P,tag:"xscale"})}"right"==t["chart.yaxispos"]&&r.Text2(this,{font:o,size:l,x:this.gutterLeft,y:f,valign:"center",halign:"center",text:String(t["chart.xmin"]),tag:"xscale"})}else{var m=a.width-this.gutterLeft-this.gutterRight,T=m/t["chart.labels"].length,s=this.gutterLeft,R=a.height-this.gutterBottom+3,h=t["chart.labels"],w=0,k="top",z="center";for(t["chart.text.angle"]>0&&(w=-1*t["chart.text.angle"],k="center",z="right",R+=10),i=0;i<h.length;++i){if("object"==typeof h[i]){if("center"==t["chart.labels.specific.align"]){var C=0;C=h[i+1]&&h[i+1][1]?h[i+1][1]:t["chart.xmax"];var E=(this.getXCoord(C)-this.getXCoord(h[i][1]))/2}else var E=5;r.Text2(this,{font:o,size:t["chart.text.size"],x:this.getXCoord(h[i][1])+E,y:R,valign:k,halign:0!=w?"right":"center"==t["chart.labels.specific.align"]?"center":"left",text:String(h[i][0]),angle:w,marker:!1,tag:"labels.specific"}),e.beginPath(),e.strokeStyle="#bbb",e.moveTo(Math.round(this.gutterLeft+m*((h[i][1]-y)/(t["chart.xmax"]-y))),a.height-this.gutterBottom),e.lineTo(Math.round(this.gutterLeft+m*((h[i][1]-y)/(t["chart.xmax"]-y))),a.height-this.gutterBottom+20),e.stroke()}else r.Text2(this,{font:o,size:t["chart.text.size"],x:s+T/2,y:R,valign:k,halign:z,text:String(h[i]),angle:w,tag:"labels"});s+=T}"object"==typeof h[0]&&(e.beginPath(),e.strokeStyle="#bbb",e.moveTo(this.gutterLeft+m,a.height-this.gutterBottom),e.lineTo(this.gutterLeft+m,a.height-this.gutterBottom+20),e.stroke())}},this.DrawMarks=function(r){this.coords[r]=[];for(var i=t["chart.xmax"],h=t["chart.defaultcolor"],e=0;e<this.data[r].length;++e){var a=this.data[r],s=a[e][0],o=a[e][1],n=a[e][2]?a[e][2]:h,l=a[e]&&a[e][3]?a[e][3]:null;this.DrawMark(r,s,o,i,this.scale2.max,n,l,this.coords[r],a,e)}},this.DrawMark=function(y,r,s,v,w,m,z,k,A,G){var o=t["chart.tickmarks"],d=t["chart.ticksize"],x=t["chart.xmin"],r=(r-x)/(v-x)*(a.width-this.gutterLeft-this.gutterRight);if(o&&"object"==typeof o&&(o=o[y]),"object"==typeof d)var d=d[y],i=d/2;else var i=d/2;if(s&&"object"==typeof s&&"number"==typeof s[0]&&"number"==typeof s[1]&&"number"==typeof s[2]&&"number"==typeof s[3]&&"number"==typeof s[4]){this.Set("chart.boxplot",!0);var c=this.getYCoord(s[0]),l=this.getYCoord(s[1]),u=this.getYCoord(s[2]),f=this.getYCoord(s[3]),p=this.getYCoord(s[4]),b=s[5],_=s[6],g="number"==typeof s[7]?s[7]:t["chart.boxplot.width"]}else var h=this.getYCoord(s);if(r+=this.gutterLeft,e.beginPath(),e.strokeStyle=m,t["chart.boxplot"]){g=g/t["chart.xmax"]*(a.width-this.gutterLeft-this.gutterRight);var n=g/2;t["chart.line.visible"]&&(e.beginPath(),e.strokeRect(r-n,l,g,f-l),b&&(e.fillStyle=b,e.fillRect(r-n,l,g,u-l)),_&&(e.fillStyle=_,e.fillRect(r-n,u,g,f-u)),e.stroke(),e.beginPath(),t["chart.boxplot.capped"]&&(e.moveTo(r-n,Math.round(c)),e.lineTo(r+n,Math.round(c))),e.moveTo(Math.round(r),c),e.lineTo(Math.round(r),l),t["chart.boxplot.capped"]&&(e.moveTo(r-n,Math.round(p)),e.lineTo(r+n,Math.round(p))),e.moveTo(Math.round(r),p),e.lineTo(Math.round(r),f),e.stroke())}if(!(!t["chart.line.visible"]||"number"!=typeof s||c||l||u||f||p))if("circle"==o)e.arc(r,h,i,0,6.28,0),e.fillStyle=m,e.fill();else if("plus"==o)e.moveTo(r,h-i),e.lineTo(r,h+i),e.moveTo(r-i,h),e.lineTo(r+i,h),e.stroke();else if("square"==o)e.strokeStyle=m,e.fillStyle=m,e.fillRect(r-i,h-i,d,d);else if("cross"==o)e.moveTo(r-i,h-i),e.lineTo(r+i,h+i),e.moveTo(r+i,h-i),e.lineTo(r-i,h+i),e.stroke();else if("diamond"==o)e.fillStyle=e.strokeStyle,e.moveTo(r,h-i),e.lineTo(r+i,h),e.lineTo(r,h+i),e.lineTo(r-i,h),e.lineTo(r,h-i),e.fill(),e.stroke();else if("function"==typeof o){var C=a.width-this.gutterLeft-this.gutterRight,R=a.height-this.gutterTop-this.gutterBottom,S=(r-this.gutterLeft)/C*v,T=(R-(h-this.gutterTop))/R*w;o(this,A,r,h,S,T,v,w,m,y,G)}else null==o||alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+o);t["chart.boxplot"]&&"number"==typeof c&&"number"==typeof l&&"number"==typeof u&&"number"==typeof f&&"number"==typeof p&&(r=[r-n,r+n],h=[c,l,u,f,p]),k.push([r,h,z])},this.DrawLine=function(a){if("boolean"!=typeof t["chart.line.visible"]||0!=t["chart.line.visible"]){if(t["chart.line"]&&this.coords[a].length>=2){e.lineCap="round",e.lineJoin="round",e.lineWidth=this.GetLineWidth(a),e.strokeStyle=t["chart.line.colors"][a],e.beginPath(),this.coords[a].length;for(var o=null,n=null,i=0;i<this.coords[a].length;++i){var l=this.coords[a][i][0],s=this.coords[a][i][1];if(i>0&&(o=this.coords[a][i-1][1]),n=s,0==i||r.is_null(o)||r.is_null(n))e.moveTo(l,s);else{var h=t["chart.line.stepped"];("boolean"==typeof h&&h||"object"==typeof h&&h[a])&&e.lineTo(this.coords[a][i][0],this.coords[a][i-1][1]),e.lineTo(l,s)}}e.stroke()}e.lineWidth=1}},this.GetLineWidth=function(a){var e=t["chart.line.linewidth"];return"number"==typeof e?e:"object"==typeof e?e[a]?e[a]:e[0]:void 0},this.DrawVBars=function(){var r=t["chart.background.vbars"],h=a.width-this.gutterLeft-this.gutterRight;if(r)for(var s=t["chart.xmax"],i=0;i<r.length;++i){var o=r[i][0]/s*h+this.gutterLeft,n=r[i][1]/s*h;e.beginPath(),e.fillStyle=r[i][2],e.fillRect(o,this.gutterTop,n,a.height-this.gutterTop-this.gutterBottom),e.fill()}},this.DrawInGraphLabels=function(i){var h=i.Get("chart.labels.ingraph"),a=[];if(h){for(var t=0;t<h.length;++t)if("number"==typeof h[t])for(var c=0;c<h[t];++c)a.push(null);else"string"==typeof h[t]||"object"==typeof h[t]?a.push(h[t]):a.push("");if(r.NoShadow(i),a&&a.length>0)for(var t=0,n=0;n<i.coords.length;++n)for(var l=0;l<i.coords[n].length;++l){if(a[t]){var o=i.coords[n][l][0],s=i.coords[n][l][1],g="number"==typeof a[t][4]?a[t][4]:25,d=o,u=s-5-g;e.moveTo(o,s-5),e.lineTo(o,s-5-g),e.stroke(),e.beginPath(),e.moveTo(o,s-5),e.lineTo(o-3,s-10),e.lineTo(o+3,s-10),e.closePath(),e.beginPath(),e.fillStyle="object"==typeof a[t]&&"string"==typeof a[t][1]?a[t][1]:"black",r.Text2(this,{font:i.Get("chart.text.font"),size:i.Get("chart.text.size"),x:d,y:u,text:"object"==typeof a[t]&&"string"==typeof a[t][0]?a[t][0]:a[t],valign:"bottom",halign:"center",bounding:!0,boundingFill:"object"==typeof a[t]&&"string"==typeof a[t][2]?a[t][2]:"white",tag:"labels.ingraph"}),e.fill()}t++}}},this.getShape=this.getPoint=function(p){for(var u=r.getMouseXY(p),n=u[0],s=u[1],o=t["chart.tooltips.hotspot"],e=0;e<this.coords.length;++e)for(var a=0;a<this.coords[e].length;++a){var h=this.coords[e][a][0],i=this.coords[e][a][1],c=this.data[e][a][3];if("number"==typeof i){if(h+o>=n&&n>=h-o&&i+o>=s&&s>=i-o){for(var c=r.parseTooltipText(this.data[e][a][3],0),g=a,l=e-1;l>=0;--l)g+=this.data[l].length;return{0:this,1:h,2:i,3:e,4:a,5:this.data[e][a][3],object:this,x:h,y:i,dataset:e,index:a,tooltip:c,index_adjusted:g}}}else if(r.is_null(i));else{var d=this.data[e][a],f=t["chart.boxplot.width"];if("number"==typeof d[1][7]&&(f=d[1][7]),"object"==typeof h&&n>h[0]&&n<h[1]&&s<i[1]&&s>i[3]){var c=r.parseTooltipText(this.data[e][a][3],0);return{0:this,1:h[0],2:h[1]-h[0],3:i[1],4:i[3]-i[1],5:e,6:a,7:this.data[e][a][3],object:this,x:h[0],y:i[1],width:h[1]-h[0],height:i[3]-i[1],dataset:e,index:a,tooltip:c}}}}},this.DrawAboveLabels=function(){var o=t["chart.labels.above.size"],n=t["chart.text.font"];t["chart.units.pre"],t["chart.units.post"];for(var e=0;e<this.coords.length;++e)for(var a=0;a<this.coords[e].length;++a){var l=this.data[e][a][0],i=this.data[e][a][1];if(!r.is_null(i)){if(r.is_array(i)){for(var h=0,s=0;i>s;++s)h=Math.max(h,i[s]);i=h}var c=this.coords[e][a][0],g=this.coords[e][a][1];r.Text2(this,{font:n,size:o,x:c,y:g-5-o,text:l.toFixed(t["chart.labels.above.decimals"])+", "+i.toFixed(t["chart.labels.above.decimals"]),valign:"center",halign:"center",bounding:!0,boundingFill:"rgba(255, 255, 255, 0.7)",tag:"labels.above"})}}},this.getYValue=this.getValue=function(i){if(2==i.length)var s=i[0],h=i[1];else var o=r.getMouseXY(i),s=o[0],h=o[1];if(h<this.gutterTop||h>a.height-this.gutterBottom||s<this.gutterLeft||s>a.width-this.gutterRight)return null;if("center"==t["chart.xaxispos"]){var e=(this.grapharea/2-(h-this.gutterTop))/this.grapharea*(this.max-this.min);e*=2,e>=0?e+=this.min:e-=this.min}else{var e=(this.grapharea-(h-this.gutterTop))/this.grapharea*(this.max-this.min);e+=this.min}return e},this.getXValue=function(e){if(2==e.length)var i=e[0],h=e[1];else var s=r.getMouseXY(e),i=s[0],h=s[1];if(h<this.gutterTop||h>a.height-this.gutterBottom||i<this.gutterLeft||i>a.width-this.gutterRight)return null;var o=a.width-this.gutterLeft-this.gutterRight,n=(i-this.gutterLeft)/o*(t["chart.xmax"]-t["chart.xmin"]);return n+=t["chart.xmin"]},this.Highlight=function(t){t.height?r.Highlight.Rect(this,t):r.Highlight.Point(this,t)},this.getObjectByXY=function(e){var t=r.getMouseXY(e);return t[0]>this.gutterLeft-3&&t[0]<a.width-this.gutterRight+3&&t[1]>this.gutterTop-3&&t[1]<a.height-this.gutterBottom+3?this:void 0},this.getXCoord=function(r){if("number"!=typeof r)return null;var e,i=t["chart.xmin"],h=t["chart.xmax"];if(i>r)return null;if(r>h)return null;var s=this.gutterRight,o=this.gutterLeft;return"right"==t["chart.yaxispos"]?(e=(r-i)/(h-i)*(a.width-o-s),e=a.width-s-e):(e=(r-i)/(h-i)*(a.width-o-s),e+=o),e},this.positionTooltip=function(n,u,p,t){var d=r.Registry.Get("chart.tooltip.shape"),c=d.dataset,g=d.index,e=n.coords[c][g][0],s=n.coords[c][g][1],i=r.getCanvasXY(n.canvas);n.gutterLeft,n.gutterTop;var a=t.offsetWidth,o=t.offsetHeight;t.style.left=0,t.style.top=0;var l="object"==typeof s?!0:!1;t.style.overflow="";var h=new Image;h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",h.style.position="absolute",h.id="__rgraph_tooltip_pointer__",h.style.top=t.offsetHeight-2+"px",t.appendChild(h),i[0]+(e[0]||e)-a/2<10?l?(t.style.left=i[0]+e[0]+(e[1]-e[0])/2-.1*a+"px",t.style.top=i[1]+s[2]-o-5+"px",h.style.left=.1*a-8.5+"px"):(t.style.left=i[0]+e-.1*a+"px",t.style.top=i[1]+s-o-9+"px",h.style.left=.1*a-8.5+"px"):i[0]+(e[0]||e)+a/2>document.body.offsetWidth?l?(t.style.left=i[0]+e[0]+(e[1]-e[0])/2-.9*a+"px",t.style.top=i[1]+s[2]-o-5+"px",h.style.left=.9*a-8.5+"px"):(t.style.left=i[0]+e-.9*a+"px",t.style.top=i[1]+s-o-9+"px",h.style.left=.9*a-8.5+"px"):l?(t.style.left=i[0]+e[0]+(e[1]-e[0])/2-a/2+"px",t.style.top=i[1]+s[2]-o-5+"px",h.style.left=.5*a-8.5+"px"):(t.style.left=i[0]+e-.5*a+"px",t.style.top=i[1]+s-o-9+"px",h.style.left=.5*a-8.5+"px")},this.getYCoord=this.getYCoordFromValue=function(r){if("number"!=typeof r)return null;var n=t["chart.ylabels.invert"],l=t["chart.xaxispos"],h=a.height-this.gutterTop-this.gutterBottom,s=h/2,o=this.max,i=t["chart.ymin"],e=0;return r>o||"bottom"==t["chart.xaxispos"]&&i>r||"center"==t["chart.xaxispos"]&&(r>0&&i>r||0>r&&r>-1*i)?null:("center"==l?(e=(Math.abs(r)-i)/(o-i)*s,n&&(e=s-e),0>r?(e+=this.gutterTop,e+=s):(e=s-e,e+=this.gutterTop)):(e=(r-i)/(o-i)*h,n&&(e=h-e),e=h-e,e=this.gutterTop+e),e)},r.Scatter.Bubble=function(t,a,i,h,s){this.scatter=t,this.min=a,this.max=i,this.width=h,this.data=s,this.Set=function(t,e){return this.scatter.Set(t,e),this},this.Get=function(t){this.scatter.Get(t)},this.Draw=function(){var a=this.min,i=this.max,t=this.data,h=this.width;return this.scatter.ondraw=function(o){for(var s=0;s<o.coords[0].length;++s){t[s]=Math.max(t[s],a),t[s]=Math.min(t[s],i);var n=(t[s]-a)/(i-a)*h;e.beginPath(),e.fillStyle=r.RadialGradient(o,o.coords[0][s][0]+5,o.coords[0][s][1]-5,0,o.coords[0][s][0]+5,o.coords[0][s][1]-5,50,"white",o.data[0][s][2]?o.data[0][s][2]:o.properties["chart.defaultcolor"]),e.arc(o.coords[0][s][0],o.coords[0][s][1],n,0,TWOPI,!1),e.fill()}},this.scatter.Draw()}},this.parseColors=function(){var s=this.data;if(s)for(var a=0;a<s.length;++a)for(var e=0;e<this.data[a].length;++e)"object"==typeof this.data[a][e][1]&&this.data[a][e][1]&&("string"==typeof this.data[a][e][1][5]&&(this.data[a][e][1][5]=this.parseSingleColorForGradient(this.data[a][e][1][5])),"string"==typeof this.data[a][e][1][6]&&(this.data[a][e][1][6]=this.parseSingleColorForGradient(this.data[a][e][1][6]))),this.data[a][e][2]=this.parseSingleColorForGradient(this.data[a][e][2]);var r=t["chart.background.hbars"];if(r)for(e=0;e<r.length;++e)r[e][2]=this.parseSingleColorForGradient(r[e][2]);var i=t["chart.background.vbars"];if(i)for(e=0;e<i.length;++e)i[e][2]=this.parseSingleColorForGradient(i[e][2]);var h=t["chart.line.colors"];if(h)for(e=0;e<h.length;++e)h[e]=this.parseSingleColorForGradient(h[e]);t["chart.defaultcolor"]=this.parseSingleColorForGradient(t["chart.defaultcolor"]),t["chart.crosshairs.color"]=this.parseSingleColorForGradient(t["chart.crosshairs.color"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(0,a.height-t["chart.gutter.bottom"],0,t["chart.gutter.top"]),n=1/(h.length-1);s.addColorStop(0,r.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,r.trim(h[o]))}return s?s:i},this.interactiveKeyHighlight=function(a){this.coords&&this.coords[a]&&this.coords[a].length&&this.coords[a].forEach(function(a){e.beginPath(),e.fillStyle=t["chart.key.interactive.highlight.chart"],e.arc(a[0],a[1],t["chart.ticksize"]+3,0,TWOPI,!1),e.fill()})},r.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Thermometer=function(i,h,s,o){if(this.id=i,this.canvas=document.getElementById(i),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.type="thermometer",this.isRGraph=!0,this.min=h,this.max=s,this.value=o,this.coords=[],this.graphArea=[],this.currentValue=null,this.bulbRadius=0,this.bulbTopRadius=0,this.bulbTopCenterX=0,this.bulbTopCenterY=0,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":["Gradient(#c00:red:#f66:#fcc)"],"chart.gutter.left":15,"chart.gutter.right":15,"chart.gutter.top":15,"chart.gutter.bottom":15,"chart.ticksize":5,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.units.pre":"","chart.units.post":"","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.title":"","chart.title.side":"","chart.title.side.bold":!0,"chart.title.side.font":null,"chart.shadow":!0,"chart.shadow.offsetx":0,"chart.shadow.offsety":0,"chart.shadow.blur":15,"chart.shadow.color":"gray","chart.resizable":!1,"chart.contextmenu":null,"chart.adjustable":!1,"chart.value.label":!0,"chart.scale.visible":!1,"chart.scale.decimals":0,"chart.labels.count":5,"chart.annotatable":!1,"chart.annotate.color":"black","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.effect":"fade","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)"},!this.canvas)return alert("[THERMOMETER] No canvas support"),void 0;this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.ylabels.count"==e&&(e="chart.labels.count"),t[e.toLowerCase()]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.currentValue=this.value,this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.scale2=a.getScale2(this,{max:this.max,min:this.min,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.DrawBackground(),this.DrawBar(),this.DrawTickMarks(),this.DrawLabels(),t["chart.title"]&&this.DrawTitle(),t["chart.title.side"]&&this.DrawSideTitle(),t["chart.resizable"]&&a.AllowResizing(this),t["chart.contextmenu"]&&a.ShowContext(this),a.InstallEventListeners(this),a.FireCustomEvent(this,"ondraw"),this},this.DrawBackground=function(){var i=(r.width-this.gutterLeft-this.gutterRight)/2;this.bulbTopRadius=(r.width-this.gutterLeft-this.gutterRight-24)/2,this.bulbTopCenterX=this.gutterLeft+i,this.bulbTopCenterY=this.gutterTop+i,this.bulbBottomRadius=i,this.bulbBottomCenterX=this.gutterLeft+i,this.bulbBottomCenterY=r.height-this.gutterBottom-i,this.bulbRadius=i,e.beginPath(),e.fillStyle="black",t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),e.fillRect(this.gutterLeft+12,this.gutterTop+i,r.width-this.gutterLeft-this.gutterRight-24,r.height-this.gutterTop-this.gutterBottom-i-i),e.arc(this.bulbBottomCenterX,this.bulbBottomCenterY,i,0,TWOPI,0),e.arc(this.bulbTopCenterX,this.bulbTopCenterY,this.bulbTopRadius,0,TWOPI,0),e.fill(),a.NoShadow(this),e.beginPath(),e.fillStyle="white",e.fillRect(this.gutterLeft+12+1,this.gutterTop+i,r.width-this.gutterLeft-this.gutterRight-24-2,r.height-this.gutterTop-this.gutterBottom-i-i),e.arc(this.gutterLeft+i,r.height-this.gutterBottom-i,i-1,0,TWOPI,0),e.arc(this.gutterLeft+i,this.gutterTop+i,(r.width-this.gutterLeft-this.gutterRight-24)/2-1,0,TWOPI,0),e.fill(),e.beginPath(),e.fillStyle=t["chart.colors"][0],e.arc(this.gutterLeft+i,r.height-this.gutterBottom-i,i-1,0,TWOPI,0),e.rect(this.gutterLeft+12+1,r.height-this.gutterBottom-i-i,r.width-this.gutterLeft-this.gutterRight-24-2,i),e.fill(),this.graphArea[0]=this.gutterLeft+12+1,this.graphArea[1]=this.gutterTop+i,this.graphArea[2]=r.width-this.gutterLeft-this.gutterRight-24-2,this.graphArea[3]=r.height-this.gutterBottom-i-i-this.graphArea[1]
},this.DrawBar=function(){var a=(this.value-this.min)/(this.max-this.min)*this.graphArea[3];e.beginPath(),e.fillStyle=t["chart.colors"][0],ISOLD&&e.arc(this.bulbBottomCenterX,this.bulbBottomCenterY,this.bulbBottomRadius-1,0,TWOPI,!1),e.rect(this.graphArea[0],this.graphArea[1]+this.graphArea[3]-a,this.graphArea[2],a+2),e.fill(),this.coords[0]=[this.graphArea[0],this.graphArea[1]+this.graphArea[3]-a,this.graphArea[2],a]},this.DrawTickMarks=function(){e.strokeStyle="black";var i=t["chart.ticksize"];e.beginPath();for(var a=this.graphArea[1];a<=this.graphArea[1]+this.graphArea[3];a+=this.graphArea[3]/10)e.moveTo(this.gutterLeft+12,Math.round(a)),e.lineTo(this.gutterLeft+12+i,Math.round(a));e.stroke(),e.beginPath();for(var a=this.graphArea[1];a<=this.graphArea[1]+this.graphArea[3];a+=this.graphArea[3]/10)e.moveTo(r.width-(this.gutterRight+12),Math.round(a)),e.lineTo(r.width-(this.gutterRight+12+i),Math.round(a));e.stroke()},this.DrawLabels=function(){if(t["chart.value.label"]){e.fillStyle=t["chart.text.color"];var r=t["chart.scale.visible"]?a.number_format(this,this.value.toFixed(t["chart.scale.decimals"])):a.number_format(this,this.value.toFixed(t["chart.scale.decimals"]),t["chart.units.pre"],t["chart.units.post"]);a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:this.gutterLeft+this.bulbRadius,y:this.coords[0][1]+7,text:r,valign:"top",halign:"center",bounding:!0,boundingFill:"white",tag:"value.label"})}t["chart.scale.visible"]&&this.DrawScale()},this.DrawTitle=function(){e.fillStyle=t["chart.text.color"],a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"]+2,x:this.gutterLeft+(r.width-this.gutterLeft-this.gutterRight)/2,y:this.gutterTop,text:String(t["chart.title"]),valign:"center",halign:"center",bold:!0,tag:"title"})},this.DrawSideTitle=function(){var i=t["chart.title.side.font"]?t["chart.title.side.font"]:t["chart.text.font"],h=t["chart.title.side.size"]?t["chart.title.side.size"]:t["chart.text.size"]+2;e.fillStyle=t["chart.text.color"],a.Text2(this,{font:i,size:h+2,x:this.gutterLeft-3,y:(r.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,text:String(t["chart.title.side"]),valign:"center",halign:"center",angle:270,bold:t["chart.title.side.bold"],tag:"title.side"})},this.DrawScale=function(){var h=t["chart.labels.count"],d=(this.max-this.min)/h;e.fillStyle=t["chart.text.color"];for(var s=t["chart.text.font"],o=t["chart.text.size"],n=t["chart.units.pre"],g=t["chart.units.post"],c=t["chart.scale.decimals"],i=1;h>=i;++i){var l=r.width-this.gutterRight,u=r.height-this.gutterBottom-2*this.bulbRadius-this.graphArea[3]/h*i,p=a.number_format(this,String((this.min+i*d).toFixed(c)),n,g);a.Text2(this,{font:s,size:o,x:l-6,y:u,text:p,valign:"center",tag:"scale"})}a.Text2(this,{font:s,size:o,x:l-6,y:r.height-this.gutterBottom-2*this.bulbRadius,text:a.number_format(this,this.min.toFixed(c),n,g),valign:"center",tag:"scale"})},this.getShape=this.getBar=function(c){for(var e=0;e<this.coords.length;e++){var l=RGraph.getMouseXY(c),h=l[0],s=l[1],r=this.coords[e][0],i=this.coords[e][1],o=this.coords[e][2],n=this.coords[e][3];if(h>=r&&r+o>=h&&s>=i&&s<=i+n+this.bulbBottomRadius||a.getHypLength(this.bulbBottomCenterX,this.bulbBottomCenterY,h,s)<=this.bulbBottomRadius){var g=a.parseTooltipText?a.parseTooltipText(t["chart.tooltips"],e):"";return{0:this,object:this,1:r,x:r,2:i,y:i,3:o,width:o,4:n,height:n,5:e,index:e,tooltip:g}}}return null},this.getValue=function(e){if(2==e.length){e[0];var r=e[1]}else{var a=RGraph.getMouseXY(e);a[0];var r=a[1]}var t=this.graphArea[3]-(r-this.graphArea[1]);return t=t/this.graphArea[3]*(this.max-this.min),t+=this.min,t=Math.max(t,this.min),t=Math.min(t,this.max)},this.Highlight=function(a){t["chart.tooltips.highlight"]&&(e.beginPath(),e.strokeStyle=t["chart.highlight.stroke"],e.fillStyle=t["chart.highlight.fill"],e.rect(a.x,a.y,a.width,a.height+this.bulbBottomRadius),e.arc(this.bulbBottomCenterX,this.bulbBottomCenterY,this.bulbBottomRadius-1,0,TWOPI,!1),e.stroke,e.fill())},this.getObjectByXY=function(e){var t=RGraph.getMouseXY(e);return t[0]>this.gutterLeft&&t[0]<r.width-this.gutterRight&&t[1]>=this.gutterTop&&t[1]<=r.height-this.gutterBottom?this:void 0},this.Adjusting_mousemove=function(e){if(t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid){RGraph.getMouseXY(e);var i=this.getValue(e);"number"==typeof i&&(a.FireCustomEvent(this,"onadjust"),this.value=Number(i.toFixed(t["chart.scale.decimals"])),a.RedrawCanvas(r))}},this.positionTooltip=function(i,c,g,t){var s=i.coords[t.__index__][0],l=i.coords[t.__index__][1],o=i.coords[t.__index__][2];i.coords[t.__index__][3];var h=RGraph.getCanvasXY(r);i.gutterLeft,i.gutterTop;var a=t.offsetWidth,n=t.offsetHeight;t.style.left=0,t.style.top=h[1]+l-n-7+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),h[0]+s-a/2<10?(t.style.left=h[0]+s-.1*a+o/2+"px",e.style.left=.1*a-8.5+"px"):h[0]+s+a/2>document.body.offsetWidth?(t.style.left=h[0]+s-.9*a+o/2+"px",e.style.left=.9*a-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*a+"px",e.style.left=.5*a-8.5+"px")},this.getYCoord=function(t){if(t>this.max||t<this.min)return null;var e=this.graphArea[1]+this.graphArea[3]-(t-this.min)/(this.max-this.min)*this.graphArea[3];return e},this.overChartArea=function(i){var r=a.getMouseXY(i),t=r[0],e=r[1];return t>=this.graphArea[0]&&t<=this.graphArea[0]+this.graphArea[2]&&e>=this.graphArea[1]&&e<=this.graphArea[1]+this.graphArea[3]+this.bulbRadius?!0:a.getHypLength(this.bulbBottomCenterX,this.bulbBottomCenterY,t,e)<=this.bulbRadius?!0:a.getHypLength(this.bulbTopCenterX,this.bulbTopCenterY,t,e)<=this.bulbTopRadius?!0:!1},this.parseColors=function(){for(var a=t["chart.colors"],e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(t["chart.gutter.left"],0,r.width-t["chart.gutter.right"],0),n=1/(h.length-1);s.addColorStop(0,a.trim(h[0]));for(var o=1;o<h.length;++o)s.addColorStop(o*n,a.trim(h[o]))}return s?s:i},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.VProgress=function(h,s,o){if(this.id=h,this.max=o,this.value=s,this.canvas=document.getElementById(h),this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="vprogress",this.coords=[],this.isRGraph=!0,this.currentValue=null,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.colors":["Gradient(white:#0c0)","Gradient(white:red)","Gradient(white:green)","yellow","pink","cyan","black","white","gray"],"chart.strokestyle.inner":"#999","chart.strokestyle.outer":"#999","chart.tickmarks":!0,"chart.tickmarks.zerostart":!0,"chart.tickmarks.color":"#999","chart.tickmarks.inner":!1,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.numticks":10,"chart.numticks.inner":50,"chart.background.color":"#eee","chart.shadow":!1,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.blur":3,"chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.title":"","chart.title.bold":!0,"chart.title.font":null,"chart.title.size":null,"chart.title.color":"black","chart.title.side":null,"chart.title.side.font":"Arial","chart.title.side.size":12,"chart.title.side.color":"black","chart.title.side.bold":!0,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.arrows":!1,"chart.margin":0,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.label.inner":!1,"chart.labels.count":10,"chart.labels.position":"right","chart.adjustable":!1,"chart.min":0,"chart.scale.decimals":0,"chart.scale.thousand":",","chart.scale.point":".","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.events.click":null,"chart.events.mousemove":null,"chart.border.inner":!0},4==arguments.length?(this.min=arguments[1],this.max=arguments[2],this.value=arguments[3],this.properties["chart.min"]=arguments[1]):3==arguments.length&&(this.min=0,this.max=arguments[2],this.value=arguments[1],this.properties["chart.min"]=0),!this.canvas)return alert("[PROGRESS] No canvas support"),void 0;for(var n=RGraph.array_linearize(s),i=0;i<n.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var a=RGraph,r=this.canvas,e=r.getContext("2d"),t=this.properties;this.Set=function(e,a){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.strokestyle"==e?(t["chart.strokestyle.inner"]=a,t["chart.strokestyle.outer"]=a,void 0):(t[e.toLowerCase()]=a,this)},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){return a.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.currentValue=this.value,this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.width=r.width-this.gutterLeft-this.gutterRight,this.height=r.height-this.gutterTop-this.gutterBottom,this.coords=[],this.Drawbar(),this.DrawTickMarks(),this.DrawLabels(),this.DrawTitles(),e.stroke(),e.fill(),t["chart.bevel"]&&this.DrawBevel(),t["chart.contextmenu"]&&a.ShowContext(this),a.InstallEventListeners(this),t["chart.key"]&&t["chart.key"].length&&a.DrawKey(this,t["chart.key"],t["chart.colors"]),t["chart.resizable"]&&a.AllowResizing(this),this.AllowAdjusting(),a.FireCustomEvent(this,"ondraw"),this},this.Drawbar=function(){this.scale2=RGraph.getScale2(this,{max:this.max,min:this.min,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.labels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),t["chart.shadow"]&&a.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]),ISOLD&&t["chart.shadow"]&&(e.fillStyle=t["chart.shadow.color"],e.fillRect(this.gutterLeft+t["chart.shadow.offsetx"],this.gutterTop+t["chart.shadow.offsety"],this.width,this.height)),e.fillStyle=t["chart.background.color"],e.strokeStyle=t["chart.strokestyle.outer"],e.strokeRect(this.gutterLeft,this.gutterTop,this.width,this.height),e.fillRect(this.gutterLeft,this.gutterTop,this.width,this.height),a.NoShadow(this),e.strokeStyle=t["chart.strokestyle.outer"],e.fillStyle=t["chart.colors"][0];var i=t["chart.margin"],s=(r.height-this.gutterTop-this.gutterBottom)*(a.array_sum(this.value)/this.max);if("number"==typeof this.value)e.lineWidth=1,e.strokeStyle=t["chart.strokestyle.inner"];else if("object"==typeof this.value){e.beginPath(),e.strokeStyle=t["chart.strokestyle.inner"];for(var l=r.height-this.gutterBottom,c=0;c<this.value.length;++c){var o=(this.value[c]-t["chart.min"])/(this.max-t["chart.min"])*(r.height-this.gutterBottom-this.gutterTop);e.fillStyle=t["chart.colors"][c],t["chart.border.inner"]&&e.strokeRect(this.gutterLeft+i,l-o,this.width-i-i,o),e.fillRect(this.gutterLeft+i,l-o,this.width-i-i,o),this.coords.push([this.gutterLeft+i,l-o,this.width-i-i,o]),l-=o}e.stroke(),e.fill()}if(t["chart.tickmarks.inner"]){var g=(r.height-this.gutterTop-this.gutterBottom)/t["chart.numticks.inner"];e.lineWidth=1,e.strokeStyle=t["chart.strokestyle.outer"],e.beginPath();for(var h=this.gutterTop;h<r.height-this.gutterBottom;h+=g)e.moveTo(this.gutterLeft,Math.round(h)),e.lineTo(this.gutterLeft+3,Math.round(h)),e.moveTo(r.width-this.gutterRight,Math.round(h)),e.lineTo(r.width-this.gutterRight-3,Math.round(h));e.stroke()}if(e.beginPath(),e.strokeStyle=t["chart.strokestyle.inner"],"number"==typeof this.value&&(t["chart.border.inner"]&&e.strokeRect(this.gutterLeft+i,this.gutterTop+this.height-s,this.width-i-i,s),e.fillRect(this.gutterLeft+i,this.gutterTop+this.height-s,this.width-i-i,s),this.coords.push([this.gutterLeft+i,this.gutterTop+this.height-s,this.width-i-i,s])),t["chart.arrows"]){var n=this.gutterLeft-4,h=r.height-this.gutterBottom-s;e.lineWidth=1,e.fillStyle="black",e.strokeStyle="black",e.beginPath(),e.moveTo(n,h),e.lineTo(n-4,h-2),e.lineTo(n-4,h+2),e.closePath(),e.stroke(),e.fill(),n+=this.width+8,e.beginPath(),e.moveTo(n,h),e.lineTo(n+4,h-2),e.lineTo(n+4,h+2),e.closePath(),e.stroke(),e.fill()}t["chart.label.inner"]&&(e.fillStyle="black",a.Text2(this,{font:t["chart.text.font"],size:t["chart.text.size"],x:(r.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,y:this.coords[this.coords.length-1][1]-5,text:RGraph.number_format(this,("number"==typeof this.value?this.value:a.array_sum(this.value)).toFixed(t["chart.scale.decimals"])),valign:"bottom",halign:"center",bounding:!0,boundingFill:"white",tag:"label.inner"}))},this.DrawTickMarks=function(){if(e.strokeStyle=t["chart.tickmarks.color"],t["chart.tickmarks"]){e.beginPath();for(var a=0;t["chart.tickmarks.zerostart"]?a<=t["chart.numticks"]:a<t["chart.numticks"];a++){var i="left"==t["chart.labels.position"]?this.gutterLeft:r.width-t["chart.gutter.right"],s="left"==t["chart.labels.position"]?i-4:i+4,h=this.height*(a/t["chart.numticks"])+this.gutterTop;e.moveTo(i,Math.round(h)),e.lineTo(s,Math.round(h))}e.stroke()}},this.DrawLabels=function(){if(!a.is_null(t["chart.labels.specific"]))return this.DrawSpecificLabels();e.fillStyle=t["chart.text.color"];var i=t["chart.labels.position"],s="left"==i?"right":"left",o="center",c=t["chart.labels.count"],g=t["chart.units.pre"],d=t["chart.units.post"],n=t["chart.text.size"],l=t["chart.text.font"],u=t["chart.scale.decimals"];if(t["chart.tickmarks"]){for(var h=0;c>h;++h)a.Text2(this,{font:l,size:n,x:"left"==i?this.gutterLeft-7:r.width-this.gutterRight+7,y:(r.height-this.gutterTop-this.gutterBottom)/c*h+this.gutterTop,text:this.scale2.labels[this.scale2.labels.length-(h+1)],valign:o,halign:s,tag:"scale"});t["chart.tickmarks.zerostart"]&&0==t["chart.min"]&&a.Text2(this,{font:l,size:n,x:"left"==i?this.gutterLeft-5:r.width-this.gutterRight+5,y:r.height-this.gutterBottom,text:a.number_format(this,t["chart.min"].toFixed(u),g,d),valign:o,halign:s,tag:"scale"}),0!=t["chart.min"]&&a.Text2(this,{font:l,size:n,x:"left"==i?this.gutterLeft-5:r.width-this.gutterRight+5,y:r.height-this.gutterBottom,text:a.number_format(this,t["chart.min"].toFixed(u),g,d),valign:o,halign:s,tag:"scale"})}},this.DrawTitles=function(){var i=t["chart.text.size"],h=t["chart.text.font"],s=t["chart.title.size"]?t["chart.title.size"]:i+2;t["chart.title"].length>0&&(e.fillStyle=t["chart.title.color"],a.Text2(this,{font:t["chart.title.font"]?t["chart.title.font"]:h,size:s,x:this.gutterLeft+(r.width-this.gutterLeft-this.gutterRight)/2,y:this.gutterTop-5,text:t["chart.title"],valign:"bottom",halign:"center",bold:t["chart.title.bold"],tag:"title"})),"string"==typeof t["chart.title.side"]&&(e.fillStyle=t["chart.title.side.color"],a.Text2(this,{font:t["chart.title.side.font"],size:t["chart.title.side.size"],x:"right"==t["chart.labels.position"]?this.gutterLeft-10:r.width-this.gutterRight+10,y:this.gutterTop+this.height/2,text:t["chart.title.side"],valign:"bottom",halign:"center",angle:"right"==t["chart.labels.position"]?270:90,bold:t["chart.title.side.bold"],tag:"title.side"}))},this.getShape=this.getBar=function(o){for(var n=a.getMouseXY(o),e=0;e<this.coords.length;e++){var n=a.getMouseXY(o),l=n[0],c=n[1],r=this.coords[e][0],i=this.coords[e][1],h=this.coords[e][2],s=this.coords[e][3];if(l>=r&&r+h>=l&&c>=i&&i+s>=c){var g=a.parseTooltipText(t["chart.tooltips"],e);return{0:this,object:this,1:r,x:r,2:i,y:i,3:h,width:h,4:s,height:s,5:e,index:e,tooltip:g}}}},this.getValue=function(i){var r=a.getMouseXY(i);r[0];var h=r[1],e=(this.height-(h-this.gutterTop))/this.height;return e*=this.max-t["chart.min"],e+=t["chart.min"],e>this.max&&(e=this.max),e<this.min&&(e=this.min),e},this.Highlight=function(t){a.Highlight.Rect(this,t)},this.getObjectByXY=function(e){var t=a.getMouseXY(e);return t[0]>this.gutterLeft&&t[0]<r.width-this.gutterRight&&t[1]>=this.gutterTop&&t[1]<=r.height-this.gutterBottom?this:void 0},this.AllowAdjusting=function(){},this.Adjusting_mousemove=function(e){if(t["chart.adjustable"]&&a.Registry.Get("chart.adjusting")&&a.Registry.Get("chart.adjusting").uid==this.uid){a.getMouseXY(e);var r=this.getValue(e);"number"==typeof r&&(a.FireCustomEvent(this,"onadjust"),this.value=Number(r.toFixed(t["chart.scale.decimals"])),a.Redraw())}},this.DrawSpecificLabels=function(){var i=t["chart.labels.specific"];if(i){var s=t["chart.text.font"],o=t["chart.text.size"],n="right"==t["chart.labels.position"]?"left":"right",l=this.height/(i.length-1);e.beginPath(),e.fillStyle=t["chart.text.color"];for(var h=0;h<i.length;++h)a.Text2(this,{font:s,size:o,x:"right"==t["chart.labels.position"]?r.width-this.gutterRight+7:this.gutterLeft-7,y:this.height+this.gutterTop-l*h,text:i[h],valign:"center",halign:n,tag:"labels.specific"});e.fill()}},this.positionTooltip=function(i,c,g,t){var s=i.coords[t.__index__][0],l=i.coords[t.__index__][1],o=i.coords[t.__index__][2];i.coords[t.__index__][3];var h=a.getCanvasXY(i.canvas);i.gutterLeft,i.gutterTop;var r=t.offsetWidth,n=t.offsetHeight;t.style.left=0,t.style.top=h[1]+l-n-7+"px",t.style.overflow="";var e=new Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",e.style.position="absolute",e.id="__rgraph_tooltip_pointer__",e.style.top=t.offsetHeight-2+"px",t.appendChild(e),h[0]+s+o/2-r/2<10?(t.style.left=h[0]+s-.1*r+o/2+"px",e.style.left=.1*r-8.5+"px"):h[0]+s+o/2+r/2>document.body.offsetWidth?(t.style.left=h[0]+s-.9*r+o/2+"px",e.style.left=.9*r-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*r+"px",e.style.left=.5*r-8.5+"px")},this.getYCoord=function(e){if(e>this.max||e<t["chart.min"])return null;var i=r.height-t["chart.gutter.top"]-t["chart.gutter.bottom"],a=(e-t["chart.min"])/(this.max-t["chart.min"])*i;return a=r.height-a-t["chart.gutter.bottom"]},this.overChartArea=function(i){var t=RGraph.getMouseXY(i),e=t[0],a=t[1];return e>=this.gutterLeft&&e<=r.width-this.gutterRight&&a>=this.gutterTop&&a<=r.height-this.gutterBottom?!0:!1},this.parseColors=function(){for(var a=t["chart.colors"],e=0;e<a.length;++e)a[e]=this.parseSingleColorForGradient(a[e])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var s=RegExp.$1.split(":"),h=e.createLinearGradient(0,r.height-t["chart.gutter.bottom"],0,t["chart.gutter.top"]),n=1/(s.length-1);h.addColorStop(0,a.trim(s[0]));for(var o=1;o<s.length;++o)h.addColorStop(o*n,a.trim(s[o]));return h?h:i}return h?h:i},this.DrawBevel=function(){for(var t=0,a=0;t<this.coords.length;++t)a+=this.coords[t][3];e.save(),e.beginPath(),e.rect(this.coords[0][0],this.coords[this.coords.length-1][1]-1,this.coords[0][2],a),e.clip(),e.beginPath(),e.shadowColor="black",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=15,e.lineWidth=2,e.rect(this.coords[0][0]-1,this.coords[this.coords.length-1][1]-1,this.coords[0][2]+2,a+2),e.stroke(),e.restore()},this.interactiveKeyHighlight=function(r){var a=this.coords[r];e.beginPath(),e.strokeStyle="black",e.lineWidth=2,e.fillStyle=t["chart.key.interactive.highlight.chart"],e.rect(a[0],a[1],a[2],a[3]),e.fill(),e.stroke(),e.lineWidth=1},a.Register(this)},"undefined"==typeof RGraph&&(RGraph={}),RGraph.Waterfall=function(h,s){if(this.id=h,this.canvas=document.getElementById(h),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.canvas.__object__=this,this.type="waterfall",this.max=0,this.isRGraph=!0,this.coords=[],this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.autofit.align":!1,"chart.background.image":null,"chart.background.hbars":null,"chart.linewidth":1,"chart.axis.linewidth":1,"chart.xaxispos":"bottom","chart.numxticks":null,"chart.numyticks":10,"chart.hmargin":5,"chart.strokestyle":"#666","chart.axis.color":"black","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.labels":[],"chart.ylabels":!0,"chart.text.color":"black","chart.text.size":10,"chart.text.angle":0,"chart.text.font":"Arial","chart.ymax":null,"chart.title":"","chart.title.color":"black","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.yaxis.align":"left","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.colors":["Gradient(white:green)","Gradient(white:red)","Gradient(white:blue)"],"chart.shadow":!1,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.tooltips.override":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.noaxes":!1,"chart.noxaxis":!1,"chart.noyaxis":!1,"chart.axis.color":"black","chart.total":!0,"chart.multiplier.x":1,"chart.multiplier.w":1,"chart.events.click":null,"chart.events.mousemove":null},!this.canvas)return alert("[WATERFALL] No canvas support"),void 0;this.data=s;for(var i=0;i<=this.data.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var r=RGraph,a=this.canvas,e=a.getContext("2d"),t=this.properties;this.Set=function(e,a){return"chart."!=e.substr(0,6)&&(e="chart."+e),"chart.total"==e&&null==t["chart.numxticks"]&&(t["chart.numxticks"]=this.data.length),t[e.toLowerCase()]=a,this},this.Get=function(e){return"chart."!=e.substr(0,6)&&(e="chart."+e),t[e.toLowerCase()]},this.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),RGraph.DrawBackgroundImage(this),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.coords=[],this.centery=(a.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.max=0,this.grapharea=a.height-this.gutterTop-this.gutterBottom,this.graphwidth=a.width-this.gutterLeft-this.gutterRight,this.halfTextHeight=t["chart.text.size"]/2,this.max=this.getMax(this.data);var i=t["chart.scale.decimals"];return this.scale2=RGraph.getScale2(this,{max:"number"==typeof t["chart.ymax"]?t["chart.ymax"]:this.max,min:t["chart.xmin"],strict:"number"==typeof t["chart.ymax"]?!0:!1,"scale.decimals":Number(i),"scale.point":t["chart.scale.point"],"scale.thousand":t["chart.scale.thousand"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"],"ylabels.count":t["chart.labels.count"]}),this.max=this.scale2.max,RGraph.DrawBars(this),r.background.Draw(this),this.DrawAxes(),this.Drawbars(),this.DrawLabels(),"bottom"==t["chart.xaxispos"]&&0==t["chart.noaxes"]&&0==t["chart.noxaxis"]&&(e.strokeStyle=t["chart.axis.color"],e.strokeRect(t["chart.gutter.left"],a.height-t["chart.gutter.bottom"],a.width-this.gutterLeft-this.gutterRight,0)),t["chart.contextmenu"]&&r.ShowContext(this),t["chart.resizable"]&&r.AllowResizing(this),r.InstallEventListeners(this),r.FireCustomEvent(this,"ondraw"),this},this.DrawAxes=function(){if(!t["chart.noaxes"]){e.beginPath(),e.strokeStyle=t["chart.axis.color"],e.lineWidth=t["chart.axis.linewidth"]+.001,0==t["chart.noyaxis"]&&(e.moveTo(Math.round(this.gutterLeft),this.gutterTop),e.lineTo(Math.round(this.gutterLeft),a.height-this.gutterBottom)),0==t["chart.noxaxis"]&&("center"==t["chart.xaxispos"]?(e.moveTo(this.gutterLeft,Math.round((a.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop)),e.lineTo(a.width-this.gutterRight,Math.round((a.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop))):(e.moveTo(this.gutterLeft,Math.round(a.height-this.gutterBottom)),e.lineTo(a.width-this.gutterRight,Math.round(a.height-this.gutterBottom))));var r=t["chart.numyticks"];if(0==t["chart.noyaxis"]&&t["chart.numyticks"]>0){var i=(a.height-this.gutterTop-this.gutterBottom)/r;for(y=this.gutterTop;y<a.height-this.gutterBottom;y+=i)("bottom"==t["chart.xaxispos"]||y!=(a.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop)&&(e.moveTo(this.gutterLeft,Math.round(y)),e.lineTo(this.gutterLeft-3,Math.round(y)));(t["chart.noxaxis"]||"center"==t["chart.xaxispos"])&&(e.moveTo(this.gutterLeft-3,Math.round(a.height-this.gutterBottom)),e.lineTo(this.gutterLeft,Math.round(a.height-this.gutterBottom)))}if(null==t["chart.numxticks"]&&(t["chart.numxticks"]=this.data.length+(t["chart.total"]?1:0)),0==t["chart.noxaxis"]&&t["chart.numxticks"]>0){for(xTickGap=(a.width-this.gutterLeft-this.gutterRight)/t["chart.numxticks"],"center"==t["chart.xaxispos"]?(yStart=(a.height-this.gutterBottom-this.gutterTop)/2+this.gutterTop-3,yEnd=(a.height-this.gutterBottom-this.gutterTop)/2+this.gutterTop+3):(yStart=a.height-this.gutterBottom,yEnd=a.height-this.gutterBottom+3),x=this.gutterLeft+xTickGap;x<=a.width-this.gutterRight+1;x+=xTickGap)e.moveTo(Math.round(x),yStart),e.lineTo(Math.round(x),yEnd);t["chart.noyaxis"]&&(e.moveTo(Math.round(this.gutterLeft),yStart),e.lineTo(Math.round(this.gutterLeft),yEnd))}t["chart.noyaxis"]&&0==t["chart.noxaxis"]&&(e.moveTo(Math.round(this.gutterLeft),a.height-this.gutterBottom),e.lineTo(Math.round(this.gutterLeft),a.height-this.gutterBottom+3)),e.stroke()}},this.DrawLabels=function(){var u=5,n=this.grapharea/u,s=t["chart.text.font"],o=t["chart.text.size"],d=t["chart.text.color"];if(t["chart.units.pre"],t["chart.units.post"],e.beginPath(),e.fillStyle=d,t["chart.ylabels"])if("center"==t["chart.xaxispos"])for(var p=(a.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,i=0,h=this.scale2.labels.length;h>i;++i)r.Text2(this,{font:s,size:o,x:this.gutterLeft-5,y:this.gutterTop+this.grapharea/2/h*i,text:this.scale2.labels[h-i-1],valign:"center",halign:"right",tag:"scale"}),r.Text2(this,{font:s,size:o,x:this.gutterLeft-5,y:p+this.grapharea/2/h*(i+1),text:this.scale2.labels[i],valign:"center",halign:"right",tag:"scale"});else for(var i=0,h=this.scale2.labels.length;h>i;++i)r.Text2(this,{font:s,size:o,x:this.gutterLeft-5,y:a.height-this.gutterBottom-this.grapharea/h*(i+1),text:this.scale2.labels[i],valign:"center",halign:"right",tag:"scale"});if(t["chart.labels"].length>0){n=(a.width-this.gutterLeft-this.gutterRight)/t["chart.labels"].length;var g="center",l=t["chart.text.angle"];l&&(g="right",l*=-1);for(var c=t["chart.labels"],i=0,h=c.length;h>i;i+=1)r.Text2(this,{font:s,size:o,x:this.gutterLeft+i*n+n/2,y:a.height-this.gutterBottom+5+this.halfTextHeight,text:c[i],valign:"center",halign:g,angle:l,tag:"labels"})}e.stroke(),e.fill()},this.Drawbars=function(){var c=t["chart.hmargin"],s=0;e.lineWidth=t["chart.linewidth"]+.001;for(var i=0,g=this.data.length;g>i;++i){e.beginPath(),e.strokeStyle=t["chart.strokestyle"];var n=Math.round(this.gutterLeft+c+this.graphwidth/(this.data.length+(t["chart.total"]?1:0))*i*t["chart.multiplier.x"]),o=Math.round(this.gutterTop+this.grapharea-(0==i?this.data[0]/this.max*this.grapharea:this.data[i]>0?(s+this.data[i])/this.max*this.grapharea:s/this.max*this.grapharea)),l=(a.width-this.gutterLeft-this.gutterRight)/(this.data.length+(t["chart.total"]?1:0))-2*t["chart.hmargin"];l*=t["chart.multiplier.w"];var h=Math.abs(this.data[i])/this.max*this.grapharea;"center"==t["chart.xaxispos"]&&(h/=2,o=0==i?this.data[0]/this.max*this.grapharea:this.data[i]>0?(s+this.data[i])/this.max*this.grapharea:s/this.max*this.grapharea,o=this.gutterTop+this.grapharea/2-o/2),e.fillStyle=this.data[i]>=0?t["chart.colors"][0]:t["chart.colors"][1],t["chart.shadow"]?r.SetShadow(this,t["chart.shadow.color"],t["chart.shadow.offsetx"],t["chart.shadow.offsety"],t["chart.shadow.blur"]):r.NoShadow(this),e.rect(n,o,l,h),this.coords.push([n,o,l,h]),s+=this.data[i],e.stroke(),e.fill()}this.total=s,t["chart.total"]&&(h=s/this.max*(this.grapharea/("center"==t["chart.xaxispos"]?2:1)),o="center"==t["chart.xaxispos"]?s>0?this.centery-h:this.centery-h:a.height-this.gutterBottom-h,n=n+2*t["chart.hmargin"]+l,e.fillStyle=t["chart.colors"][2],e.beginPath(),e.strokeRect(n,o,l,h),e.fillRect(n,o,l,h),e.stroke(),e.fill(),this.coords.push([n,o-(s>0?0:Math.abs(h)),l,Math.abs(h)])),r.NoShadow(this),e.lineWidth=1;for(var i=1,g=this.coords.length;g>i;i+=1)e.strokeStyle="gray",e.beginPath(),this.data[i-1]>0?(e.moveTo(this.coords[i-1][0]+this.coords[i-1][2],Math.round(this.coords[i-1][1])),e.lineTo(this.coords[i-1][0]+this.coords[i-1][2]+2*c,Math.round(this.coords[i-1][1]))):(e.moveTo(this.coords[i-1][0]+this.coords[i-1][2],Math.round(this.coords[i-1][1]+this.coords[i-1][3])),e.lineTo(this.coords[i-1][0]+this.coords[i-1][2]+2*c,Math.round(this.coords[i-1][1]+this.coords[i-1][3]))),e.stroke()},this.getShape=this.getBar=function(g){for(var e=0,c=this.coords.length;c>e;e++){var n=r.getMouseXY(g),l=n[0],o=n[1],a=this.coords[e][0],i=this.coords[e][1],h=this.coords[e][2],s=this.coords[e][3];
if(l>=a&&a+h>=l&&o>=i&&i+s>=o){var d=r.parseTooltipText(t["chart.tooltips"],e);return{0:this,object:this,1:a,x:a,2:i,y:i,3:h,width:h,4:s,height:s,5:e,index:e,tooltip:d}}}return null},this.getMax=function(a){for(var r=0,t=0,e=0,i=a.length;i>e;e+=1)r+=a[e],t=Math.max(t,Math.abs(r));return t},this.AllowTooltips=function(){r.PreLoadTooltipImages(this),r.InstallWindowMousedownTooltipListener(this),r.InstallCanvasMousemoveTooltipListener(this),r.InstallCanvasMouseupTooltipListener(this)},this.Highlight=function(t){r.Highlight.Rect(this,t)},this.getObjectByXY=function(e){var t=r.getMouseXY(e);return t[0]>this.gutterLeft&&t[0]<a.width-this.gutterRight&&t[1]>this.gutterTop&&t[1]<a.height-this.gutterBottom?this:void 0},this.positionTooltip=function(e,u,p,t,g){var s=e.coords[t.__index__][0],l=e.coords[t.__index__][1],o=e.coords[t.__index__][2],c=e.coords[t.__index__][3],h=r.getCanvasXY(e.canvas);e.gutterLeft,e.gutterTop;var i=t.offsetWidth,d=t.offsetHeight,n=e.data[g];t.__index__==e.data.length&&(n=e.total),t.style.left=0,t.style.top=h[1]+l-d-7+"px",0>n&&(t.style.top=h[1]+l+c+7+"px"),t.style.overflow="";var a=new Image;a.id="__rgraph_tooltip_pointer__",a.style.position="absolute",n>=0?(a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",a.style.top=t.offsetHeight-2+"px"):(a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAMAAACkeOZkAAAAK3RFWHRDcmVhdGlvbiBUaW1lAFNhdCA2IE9jdCAyMDEyIDEyOjQ5OjMyIC0wMDAw2S1RlgAAAAd0SU1FB9wKBgszM4Ed2k4AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAEZ0FNQQAAsY8L/GEFAAAACVBMVEX/AAC9vb3//+92Pom0AAAAAXRSTlMAQObYZgAAAB1JREFUeNpjYAABRgY4YGRiRDCZYBwQE8qBMEEcAANCACqByy1sAAAAAElFTkSuQmCC",a.style.top="-5px"),t.appendChild(a),h[0]+s-i/2<10?(t.style.left=h[0]+s-.1*i+o/2+"px",a.style.left=.1*i-8.5+"px"):h[0]+s+i/2>document.body.offsetWidth?(t.style.left=h[0]+s-.9*i+o/2+"px",a.style.left=.9*i-8.5+"px"):(t.style.left=h[0]+s+o/2-.5*i+"px",a.style.left=.5*i-8.5+"px")},this.getYCoord=function(e){if(e>this.max)return null;if("center"==t["chart.xaxispos"]){if(e<-1*this.max)return null;var r=e/this.max*(this.grapharea/2);return this.gutterTop+this.grapharea/2-r}if(0>e)return null;var r=e/this.max*this.grapharea;return r+=this.gutterTop,a.height-r},this.parseColors=function(){var e=t["chart.colors"];if(e)for(var a=0,r=e.length;r>a;++a)e[a]=this.parseSingleColorForGradient(e[a]);var e=t["chart.key.colors"];if(e)for(var a=0,r=e.length;r>a;++a)e[a]=this.parseSingleColorForGradient(e[a]);t["chart.crosshairs.color"]=this.parseSingleColorForGradient(t["chart.crosshairs.color"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.strokestyle"]=this.parseSingleColorForGradient(t["chart.strokestyle"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"])},this.parseSingleColorForGradient=function(i){if(!i||"string"!=typeof i)return i;if(i.match(/^gradient\((.*)\)$/i)){var h=RegExp.$1.split(":"),s=e.createLinearGradient(0,a.height-t["chart.gutter.bottom"],0,t["chart.gutter.top"]),n=1/(h.length-1);s.addColorStop(0,r.trim(h[0]));for(var o=1,l=h.length;l>o;++o)s.addColorStop(o*n,r.trim(h[o]))}return s?s:i},r.Register(this)};